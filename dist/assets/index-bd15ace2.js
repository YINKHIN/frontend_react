var aO=Object.defineProperty;var iO=(e,t,r)=>t in e?aO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var i1=(e,t,r)=>(iO(e,typeof t!="symbol"?t+"":t,r),r);import{r as T,a as Tx,N as Ym,b as rw,u as Cx,L as sd,O as sO,R as _a,g as oO,c as s1,d as ul,e as lO,f as cO,h as yn,B as uO}from"./vendor-9aea8973.js";import{n as Xe,U as Xo,X as Kr,C as fO,a as dO,H as hO,T as Dh,P as Sn,F as Nh,b as G4,c as Fh,d as Jo,e as iv,S as K4,f as ss,D as Jl,g as Y4,B as X4,h as Ox,i as os,L as mO,j as pO,M as gO,k as vO,R as ca,A as pu,l as xO,m as Xm,o as J4,p as Ih,E as sv,q as Wa,r as yO,s as bO,t as Z4,u as Ah,I as Hf,v as kx,Z as wO,w as nw,x as za,y as _O,z as Q4,G as eN,J as Li,K as aw,N as iw,O as Ha,Q as SO,V as NO,W as lu,Y as Mh,_ as Rh,$ as AO,a0 as ov,a1 as tN,a2 as jO,a3 as EO,a4 as PO,a5 as TO}from"./ui-c6cea856.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var rN={exports:{}},Jm={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CO=T,OO=Symbol.for("react.element"),kO=Symbol.for("react.fragment"),LO=Object.prototype.hasOwnProperty,DO=CO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FO={key:!0,ref:!0,__self:!0,__source:!0};function nN(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)LO.call(t,n)&&!FO.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:OO,type:e,key:i,ref:s,props:a,_owner:DO.current}}Jm.Fragment=kO;Jm.jsx=nN;Jm.jsxs=nN;rN.exports=Jm;var l=rN.exports,lv={},sw=Tx;lv.createRoot=sw.createRoot,lv.hydrateRoot=sw.hydrateRoot;function aN(e,t){return function(){return e.apply(t,arguments)}}const{toString:IO}=Object.prototype,{getPrototypeOf:Lx}=Object,{iterator:Zm,toStringTag:iN}=Symbol,Qm=(e=>t=>{const r=IO.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),us=e=>(e=e.toLowerCase(),t=>Qm(t)===e),ep=e=>t=>typeof t===e,{isArray:Tu}=Array,gu=ep("undefined");function Pd(e){return e!==null&&!gu(e)&&e.constructor!==null&&!gu(e.constructor)&&$a(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const sN=us("ArrayBuffer");function MO(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&sN(e.buffer),t}const RO=ep("string"),$a=ep("function"),oN=ep("number"),Td=e=>e!==null&&typeof e=="object",BO=e=>e===!0||e===!1,jh=e=>{if(Qm(e)!=="object")return!1;const t=Lx(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(iN in e)&&!(Zm in e)},UO=e=>{if(!Td(e)||Pd(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},$O=us("Date"),qO=us("File"),WO=us("Blob"),zO=us("FileList"),HO=e=>Td(e)&&$a(e.pipe),VO=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||$a(e.append)&&((t=Qm(e))==="formdata"||t==="object"&&$a(e.toString)&&e.toString()==="[object FormData]"))},GO=us("URLSearchParams"),[KO,YO,XO,JO]=["ReadableStream","Request","Response","Headers"].map(us),ZO=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Cd(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),Tu(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Pd(e))return;const i=r?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let o;for(n=0;n<s;n++)o=i[n],t.call(null,e[o],o,e)}}function lN(e,t){if(Pd(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const Dl=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),cN=e=>!gu(e)&&e!==Dl;function cv(){const{caseless:e,skipUndefined:t}=cN(this)&&this||{},r={},n=(a,i)=>{const s=e&&lN(r,i)||i;jh(r[s])&&jh(a)?r[s]=cv(r[s],a):jh(a)?r[s]=cv({},a):Tu(a)?r[s]=a.slice():(!t||!gu(a))&&(r[s]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Cd(arguments[a],n);return r}const QO=(e,t,r,{allOwnKeys:n}={})=>(Cd(t,(a,i)=>{r&&$a(a)?e[i]=aN(a,r):e[i]=a},{allOwnKeys:n}),e),ek=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),tk=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},rk=(e,t,r,n)=>{let a,i,s;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)s=a[i],(!n||n(s,e,t))&&!o[s]&&(t[s]=e[s],o[s]=!0);e=r!==!1&&Lx(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},nk=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},ak=e=>{if(!e)return null;if(Tu(e))return e;let t=e.length;if(!oN(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},ik=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Lx(Uint8Array)),sk=(e,t)=>{const n=(e&&e[Zm]).call(e);let a;for(;(a=n.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},ok=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},lk=us("HTMLFormElement"),ck=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),ow=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),uk=us("RegExp"),uN=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Cd(r,(a,i)=>{let s;(s=t(a,i,e))!==!1&&(n[i]=s||a)}),Object.defineProperties(e,n)},fk=e=>{uN(e,(t,r)=>{if($a(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if($a(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},dk=(e,t)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return Tu(e)?n(e):n(String(e).split(t)),r},hk=()=>{},mk=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function pk(e){return!!(e&&$a(e.append)&&e[iN]==="FormData"&&e[Zm])}const gk=e=>{const t=new Array(10),r=(n,a)=>{if(Td(n)){if(t.indexOf(n)>=0)return;if(Pd(n))return n;if(!("toJSON"in n)){t[a]=n;const i=Tu(n)?[]:{};return Cd(n,(s,o)=>{const c=r(s,a+1);!gu(c)&&(i[o]=c)}),t[a]=void 0,i}}return n};return r(e,0)},vk=us("AsyncFunction"),xk=e=>e&&(Td(e)||$a(e))&&$a(e.then)&&$a(e.catch),fN=((e,t)=>e?setImmediate:t?((r,n)=>(Dl.addEventListener("message",({source:a,data:i})=>{a===Dl&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),Dl.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",$a(Dl.postMessage)),yk=typeof queueMicrotask<"u"?queueMicrotask.bind(Dl):typeof process<"u"&&process.nextTick||fN,bk=e=>e!=null&&$a(e[Zm]),Ie={isArray:Tu,isArrayBuffer:sN,isBuffer:Pd,isFormData:VO,isArrayBufferView:MO,isString:RO,isNumber:oN,isBoolean:BO,isObject:Td,isPlainObject:jh,isEmptyObject:UO,isReadableStream:KO,isRequest:YO,isResponse:XO,isHeaders:JO,isUndefined:gu,isDate:$O,isFile:qO,isBlob:WO,isRegExp:uk,isFunction:$a,isStream:HO,isURLSearchParams:GO,isTypedArray:ik,isFileList:zO,forEach:Cd,merge:cv,extend:QO,trim:ZO,stripBOM:ek,inherits:tk,toFlatObject:rk,kindOf:Qm,kindOfTest:us,endsWith:nk,toArray:ak,forEachEntry:sk,matchAll:ok,isHTMLForm:lk,hasOwnProperty:ow,hasOwnProp:ow,reduceDescriptors:uN,freezeMethods:fk,toObjectSet:dk,toCamelCase:ck,noop:hk,toFiniteNumber:mk,findKey:lN,global:Dl,isContextDefined:cN,isSpecCompliantForm:pk,toJSONObject:gk,isAsyncFn:vk,isThenable:xk,setImmediate:fN,asap:yk,isIterable:bk};function Bt(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}Ie.inherits(Bt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ie.toJSONObject(this.config),code:this.code,status:this.status}}});const dN=Bt.prototype,hN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{hN[e]={value:e}});Object.defineProperties(Bt,hN);Object.defineProperty(dN,"isAxiosError",{value:!0});Bt.from=(e,t,r,n,a,i)=>{const s=Object.create(dN);Ie.toFlatObject(e,s,function(f){return f!==Error.prototype},u=>u!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Bt.call(s,o,c,r,n,a),e&&s.cause==null&&Object.defineProperty(s,"cause",{value:e,configurable:!0}),s.name=e&&e.name||"Error",i&&Object.assign(s,i),s};const wk=null;function uv(e){return Ie.isPlainObject(e)||Ie.isArray(e)}function mN(e){return Ie.endsWith(e,"[]")?e.slice(0,-2):e}function lw(e,t,r){return e?e.concat(t).map(function(a,i){return a=mN(a),!r&&i?"["+a+"]":a}).join(r?".":""):t}function _k(e){return Ie.isArray(e)&&!e.some(uv)}const Sk=Ie.toFlatObject(Ie,{},null,function(t){return/^is[A-Z]/.test(t)});function tp(e,t,r){if(!Ie.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=Ie.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,x){return!Ie.isUndefined(x[p])});const n=r.metaTokens,a=r.visitor||f,i=r.dots,s=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&Ie.isSpecCompliantForm(t);if(!Ie.isFunction(a))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(Ie.isDate(g))return g.toISOString();if(Ie.isBoolean(g))return g.toString();if(!c&&Ie.isBlob(g))throw new Bt("Blob is not supported. Use a Buffer instead.");return Ie.isArrayBuffer(g)||Ie.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function f(g,p,x){let y=g;if(g&&!x&&typeof g=="object"){if(Ie.endsWith(p,"{}"))p=n?p:p.slice(0,-2),g=JSON.stringify(g);else if(Ie.isArray(g)&&_k(g)||(Ie.isFileList(g)||Ie.endsWith(p,"[]"))&&(y=Ie.toArray(g)))return p=mN(p),y.forEach(function(w,P){!(Ie.isUndefined(w)||w===null)&&t.append(s===!0?lw([p],P,i):s===null?p:p+"[]",u(w))}),!1}return uv(g)?!0:(t.append(lw(x,p,i),u(g)),!1)}const d=[],m=Object.assign(Sk,{defaultVisitor:f,convertValue:u,isVisitable:uv});function h(g,p){if(!Ie.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+p.join("."));d.push(g),Ie.forEach(g,function(y,_){(!(Ie.isUndefined(y)||y===null)&&a.call(t,y,Ie.isString(_)?_.trim():_,p,m))===!0&&h(y,p?p.concat(_):[_])}),d.pop()}}if(!Ie.isObject(e))throw new TypeError("data must be an object");return h(e),t}function cw(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function Dx(e,t){this._pairs=[],e&&tp(e,this,t)}const pN=Dx.prototype;pN.append=function(t,r){this._pairs.push([t,r])};pN.toString=function(t){const r=t?function(n){return t.call(this,n,cw)}:cw;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Nk(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function gN(e,t,r){if(!t)return e;const n=r&&r.encode||Nk;Ie.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let i;if(a?i=a(t,r):i=Ie.isURLSearchParams(t)?t.toString():new Dx(t,r).toString(n),i){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class Ak{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ie.forEach(this.handlers,function(n){n!==null&&t(n)})}}const uw=Ak,vN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jk=typeof URLSearchParams<"u"?URLSearchParams:Dx,Ek=typeof FormData<"u"?FormData:null,Pk=typeof Blob<"u"?Blob:null,Tk={isBrowser:!0,classes:{URLSearchParams:jk,FormData:Ek,Blob:Pk},protocols:["http","https","file","blob","url","data"]},Fx=typeof window<"u"&&typeof document<"u",fv=typeof navigator=="object"&&navigator||void 0,Ck=Fx&&(!fv||["ReactNative","NativeScript","NS"].indexOf(fv.product)<0),Ok=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),kk=Fx&&window.location.href||"http://localhost",Lk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Fx,hasStandardBrowserEnv:Ck,hasStandardBrowserWebWorkerEnv:Ok,navigator:fv,origin:kk},Symbol.toStringTag,{value:"Module"})),ua={...Lk,...Tk};function Dk(e,t){return tp(e,new ua.classes.URLSearchParams,{visitor:function(r,n,a,i){return ua.isNode&&Ie.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Fk(e){return Ie.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ik(e){const t={},r=Object.keys(e);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],t[i]=e[i];return t}function xN(e){function t(r,n,a,i){let s=r[i++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),c=i>=r.length;return s=!s&&Ie.isArray(a)?a.length:s,c?(Ie.hasOwnProp(a,s)?a[s]=[a[s],n]:a[s]=n,!o):((!a[s]||!Ie.isObject(a[s]))&&(a[s]=[]),t(r,n,a[s],i)&&Ie.isArray(a[s])&&(a[s]=Ik(a[s])),!o)}if(Ie.isFormData(e)&&Ie.isFunction(e.entries)){const r={};return Ie.forEachEntry(e,(n,a)=>{t(Fk(n),a,r,0)}),r}return null}function Mk(e,t,r){if(Ie.isString(e))try{return(t||JSON.parse)(e),Ie.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Ix={transitional:vN,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=Ie.isObject(t);if(i&&Ie.isHTMLForm(t)&&(t=new FormData(t)),Ie.isFormData(t))return a?JSON.stringify(xN(t)):t;if(Ie.isArrayBuffer(t)||Ie.isBuffer(t)||Ie.isStream(t)||Ie.isFile(t)||Ie.isBlob(t)||Ie.isReadableStream(t))return t;if(Ie.isArrayBufferView(t))return t.buffer;if(Ie.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Dk(t,this.formSerializer).toString();if((o=Ie.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return tp(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),Mk(t)):t}],transformResponse:[function(t){const r=this.transitional||Ix.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Ie.isResponse(t)||Ie.isReadableStream(t))return t;if(t&&Ie.isString(t)&&(n&&!this.responseType||a)){const s=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(o){if(s)throw o.name==="SyntaxError"?Bt.from(o,Bt.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ua.classes.FormData,Blob:ua.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ie.forEach(["delete","get","head","post","put","patch"],e=>{Ix.headers[e]={}});const Mx=Ix,Rk=Ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Bk=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(s){a=s.indexOf(":"),r=s.substring(0,a).trim().toLowerCase(),n=s.substring(a+1).trim(),!(!r||t[r]&&Rk[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},fw=Symbol("internals");function _f(e){return e&&String(e).trim().toLowerCase()}function Eh(e){return e===!1||e==null?e:Ie.isArray(e)?e.map(Eh):String(e)}function Uk(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const $k=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function o1(e,t,r,n,a){if(Ie.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!Ie.isString(t)){if(Ie.isString(n))return t.indexOf(n)!==-1;if(Ie.isRegExp(n))return n.test(t)}}function qk(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function Wk(e,t){const r=Ie.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,i,s){return this[n].call(this,t,a,i,s)},configurable:!0})})}class rp{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function i(o,c,u){const f=_f(c);if(!f)throw new Error("header name must be a non-empty string");const d=Ie.findKey(a,f);(!d||a[d]===void 0||u===!0||u===void 0&&a[d]!==!1)&&(a[d||c]=Eh(o))}const s=(o,c)=>Ie.forEach(o,(u,f)=>i(u,f,c));if(Ie.isPlainObject(t)||t instanceof this.constructor)s(t,r);else if(Ie.isString(t)&&(t=t.trim())&&!$k(t))s(Bk(t),r);else if(Ie.isObject(t)&&Ie.isIterable(t)){let o={},c,u;for(const f of t){if(!Ie.isArray(f))throw TypeError("Object iterator must return a key-value pair");o[u=f[0]]=(c=o[u])?Ie.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}s(o,r)}else t!=null&&i(r,t,n);return this}get(t,r){if(t=_f(t),t){const n=Ie.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return Uk(a);if(Ie.isFunction(r))return r.call(this,a,n);if(Ie.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=_f(t),t){const n=Ie.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||o1(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function i(s){if(s=_f(s),s){const o=Ie.findKey(n,s);o&&(!r||o1(n,n[o],o,r))&&(delete n[o],a=!0)}}return Ie.isArray(t)?t.forEach(i):i(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!t||o1(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const r=this,n={};return Ie.forEach(this,(a,i)=>{const s=Ie.findKey(n,i);if(s){r[s]=Eh(a),delete r[i];return}const o=t?qk(i):String(i).trim();o!==i&&delete r[i],r[o]=Eh(a),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return Ie.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&Ie.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[fw]=this[fw]={accessors:{}}).accessors,a=this.prototype;function i(s){const o=_f(s);n[o]||(Wk(a,s),n[o]=!0)}return Ie.isArray(t)?t.forEach(i):i(t),this}}rp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ie.reduceDescriptors(rp.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});Ie.freezeMethods(rp);const ls=rp;function l1(e,t){const r=this||Mx,n=t||r,a=ls.from(n.headers);let i=n.data;return Ie.forEach(e,function(o){i=o.call(r,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function yN(e){return!!(e&&e.__CANCEL__)}function Cu(e,t,r){Bt.call(this,e??"canceled",Bt.ERR_CANCELED,t,r),this.name="CanceledError"}Ie.inherits(Cu,Bt,{__CANCEL__:!0});function bN(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Bt("Request failed with status code "+r.status,[Bt.ERR_BAD_REQUEST,Bt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function zk(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Hk(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,i=0,s;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),f=n[i];s||(s=u),r[a]=c,n[a]=u;let d=i,m=0;for(;d!==a;)m+=r[d++],d=d%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),u-s<t)return;const h=f&&u-f;return h?Math.round(m*1e3/h):void 0}}function Vk(e,t){let r=0,n=1e3/t,a,i;const s=(u,f=Date.now())=>{r=f,a=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const f=Date.now(),d=f-r;d>=n?s(u,f):(a=u,i||(i=setTimeout(()=>{i=null,s(a)},n-d)))},()=>a&&s(a)]}const Bh=(e,t,r=3)=>{let n=0;const a=Hk(50,250);return Vk(i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,c=s-n,u=a(c),f=s<=o;n=s;const d={loaded:s,total:o,progress:o?s/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&f?(o-s)/u:void 0,event:i,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(d)},r)},dw=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},hw=e=>(...t)=>Ie.asap(()=>e(...t)),Gk=ua.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,ua.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(ua.origin),ua.navigator&&/(msie|trident)/i.test(ua.navigator.userAgent)):()=>!0,Kk=ua.hasStandardBrowserEnv?{write(e,t,r,n,a,i){const s=[e+"="+encodeURIComponent(t)];Ie.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),Ie.isString(n)&&s.push("path="+n),Ie.isString(a)&&s.push("domain="+a),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Yk(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Xk(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function wN(e,t,r){let n=!Yk(t);return e&&(n||r==!1)?Xk(e,t):t}const mw=e=>e instanceof ls?{...e}:e;function Zl(e,t){t=t||{};const r={};function n(u,f,d,m){return Ie.isPlainObject(u)&&Ie.isPlainObject(f)?Ie.merge.call({caseless:m},u,f):Ie.isPlainObject(f)?Ie.merge({},f):Ie.isArray(f)?f.slice():f}function a(u,f,d,m){if(Ie.isUndefined(f)){if(!Ie.isUndefined(u))return n(void 0,u,d,m)}else return n(u,f,d,m)}function i(u,f){if(!Ie.isUndefined(f))return n(void 0,f)}function s(u,f){if(Ie.isUndefined(f)){if(!Ie.isUndefined(u))return n(void 0,u)}else return n(void 0,f)}function o(u,f,d){if(d in t)return n(u,f);if(d in e)return n(void 0,u)}const c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(u,f,d)=>a(mw(u),mw(f),d,!0)};return Ie.forEach(Object.keys({...e,...t}),function(f){const d=c[f]||a,m=d(e[f],t[f],f);Ie.isUndefined(m)&&d!==o||(r[f]=m)}),r}const _N=e=>{const t=Zl({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:o}=t;if(t.headers=s=ls.from(s),t.url=gN(wN(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Ie.isFormData(r)){if(ua.hasStandardBrowserEnv||ua.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(Ie.isFunction(r.getHeaders)){const c=r.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([f,d])=>{u.includes(f.toLowerCase())&&s.set(f,d)})}}if(ua.hasStandardBrowserEnv&&(n&&Ie.isFunction(n)&&(n=n(t)),n||n!==!1&&Gk(t.url))){const c=a&&i&&Kk.read(i);c&&s.set(a,c)}return t},Jk=typeof XMLHttpRequest<"u",Zk=Jk&&function(e){return new Promise(function(r,n){const a=_N(e);let i=a.data;const s=ls.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=a,f,d,m,h,g;function p(){h&&h(),g&&g(),a.cancelToken&&a.cancelToken.unsubscribe(f),a.signal&&a.signal.removeEventListener("abort",f)}let x=new XMLHttpRequest;x.open(a.method.toUpperCase(),a.url,!0),x.timeout=a.timeout;function y(){if(!x)return;const w=ls.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),E={data:!o||o==="text"||o==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:w,config:e,request:x};bN(function(N){r(N),p()},function(N){n(N),p()},E),x=null}"onloadend"in x?x.onloadend=y:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(y)},x.onabort=function(){x&&(n(new Bt("Request aborted",Bt.ECONNABORTED,e,x)),x=null)},x.onerror=function(P){const E=P&&P.message?P.message:"Network Error",D=new Bt(E,Bt.ERR_NETWORK,e,x);D.event=P||null,n(D),x=null},x.ontimeout=function(){let P=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const E=a.transitional||vN;a.timeoutErrorMessage&&(P=a.timeoutErrorMessage),n(new Bt(P,E.clarifyTimeoutError?Bt.ETIMEDOUT:Bt.ECONNABORTED,e,x)),x=null},i===void 0&&s.setContentType(null),"setRequestHeader"in x&&Ie.forEach(s.toJSON(),function(P,E){x.setRequestHeader(E,P)}),Ie.isUndefined(a.withCredentials)||(x.withCredentials=!!a.withCredentials),o&&o!=="json"&&(x.responseType=a.responseType),u&&([m,g]=Bh(u,!0),x.addEventListener("progress",m)),c&&x.upload&&([d,h]=Bh(c),x.upload.addEventListener("progress",d),x.upload.addEventListener("loadend",h)),(a.cancelToken||a.signal)&&(f=w=>{x&&(n(!w||w.type?new Cu(null,e,x):w),x.abort(),x=null)},a.cancelToken&&a.cancelToken.subscribe(f),a.signal&&(a.signal.aborted?f():a.signal.addEventListener("abort",f)));const _=zk(a.url);if(_&&ua.protocols.indexOf(_)===-1){n(new Bt("Unsupported protocol "+_+":",Bt.ERR_BAD_REQUEST,e));return}x.send(i||null)})},Qk=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const i=function(u){if(!a){a=!0,o();const f=u instanceof Error?u:this.reason;n.abort(f instanceof Bt?f:new Cu(f instanceof Error?f.message:f))}};let s=t&&setTimeout(()=>{s=null,i(new Bt(`timeout ${t} of ms exceeded`,Bt.ETIMEDOUT))},t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=n;return c.unsubscribe=()=>Ie.asap(o),c}},e8=Qk,t8=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},r8=async function*(e,t){for await(const r of n8(e))yield*t8(r,t)},n8=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},pw=(e,t,r,n)=>{const a=r8(e,t);let i=0,s,o=c=>{s||(s=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:u,value:f}=await a.next();if(u){o(),c.close();return}let d=f.byteLength;if(r){let m=i+=d;r(m)}c.enqueue(new Uint8Array(f))}catch(u){throw o(u),u}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},gw=64*1024,{isFunction:V0}=Ie,a8=(({Request:e,Response:t})=>({Request:e,Response:t}))(Ie.global),{ReadableStream:vw,TextEncoder:xw}=Ie.global,yw=(e,...t)=>{try{return!!e(...t)}catch{return!1}},i8=e=>{e=Ie.merge.call({skipUndefined:!0},a8,e);const{fetch:t,Request:r,Response:n}=e,a=t?V0(t):typeof fetch=="function",i=V0(r),s=V0(n);if(!a)return!1;const o=a&&V0(vw),c=a&&(typeof xw=="function"?(g=>p=>g.encode(p))(new xw):async g=>new Uint8Array(await new r(g).arrayBuffer())),u=i&&o&&yw(()=>{let g=!1;const p=new r(ua.origin,{body:new vw,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!p}),f=s&&o&&yw(()=>Ie.isReadableStream(new n("").body)),d={stream:f&&(g=>g.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!d[g]&&(d[g]=(p,x)=>{let y=p&&p[g];if(y)return y.call(p);throw new Bt(`Response type '${g}' is not supported`,Bt.ERR_NOT_SUPPORT,x)})});const m=async g=>{if(g==null)return 0;if(Ie.isBlob(g))return g.size;if(Ie.isSpecCompliantForm(g))return(await new r(ua.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(Ie.isArrayBufferView(g)||Ie.isArrayBuffer(g))return g.byteLength;if(Ie.isURLSearchParams(g)&&(g=g+""),Ie.isString(g))return(await c(g)).byteLength},h=async(g,p)=>{const x=Ie.toFiniteNumber(g.getContentLength());return x??m(p)};return async g=>{let{url:p,method:x,data:y,signal:_,cancelToken:w,timeout:P,onDownloadProgress:E,onUploadProgress:D,responseType:N,headers:k,withCredentials:F="same-origin",fetchOptions:L}=_N(g),A=t||fetch;N=N?(N+"").toLowerCase():"text";let S=e8([_,w&&w.toAbortSignal()],P),M=null;const U=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let G;try{if(D&&u&&x!=="get"&&x!=="head"&&(G=await h(k,y))!==0){let ce=new r(p,{method:"POST",body:y,duplex:"half"}),C;if(Ie.isFormData(y)&&(C=ce.headers.get("content-type"))&&k.setContentType(C),ce.body){const[I,B]=dw(G,Bh(hw(D)));y=pw(ce.body,gw,I,B)}}Ie.isString(F)||(F=F?"include":"omit");const H=i&&"credentials"in r.prototype,q={...L,signal:S,method:x.toUpperCase(),headers:k.normalize().toJSON(),body:y,duplex:"half",credentials:H?F:void 0};M=i&&new r(p,q);let V=await(i?A(M,L):A(p,q));const W=f&&(N==="stream"||N==="response");if(f&&(E||W&&U)){const ce={};["status","statusText","headers"].forEach(z=>{ce[z]=V[z]});const C=Ie.toFiniteNumber(V.headers.get("content-length")),[I,B]=E&&dw(C,Bh(hw(E),!0))||[];V=new n(pw(V.body,gw,I,()=>{B&&B(),U&&U()}),ce)}N=N||"text";let ne=await d[Ie.findKey(d,N)||"text"](V,g);return!W&&U&&U(),await new Promise((ce,C)=>{bN(ce,C,{data:ne,headers:ls.from(V.headers),status:V.status,statusText:V.statusText,config:g,request:M})})}catch(H){throw U&&U(),H&&H.name==="TypeError"&&/Load failed|fetch/i.test(H.message)?Object.assign(new Bt("Network Error",Bt.ERR_NETWORK,g,M),{cause:H.cause||H}):Bt.from(H,H&&H.code,g,M)}}},s8=new Map,SN=e=>{let t=e?e.env:{};const{fetch:r,Request:n,Response:a}=t,i=[n,a,r];let s=i.length,o=s,c,u,f=s8;for(;o--;)c=i[o],u=f.get(c),u===void 0&&f.set(c,u=o?new Map:i8(t)),f=u;return u};SN();const dv={http:wk,xhr:Zk,fetch:{get:SN}};Ie.forEach(dv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const bw=e=>`- ${e}`,o8=e=>Ie.isFunction(e)||e===null||e===!1,NN={getAdapter:(e,t)=>{e=Ie.isArray(e)?e:[e];const{length:r}=e;let n,a;const i={};for(let s=0;s<r;s++){n=e[s];let o;if(a=n,!o8(n)&&(a=dv[(o=String(n)).toLowerCase()],a===void 0))throw new Bt(`Unknown adapter '${o}'`);if(a&&(Ie.isFunction(a)||(a=a.get(t))))break;i[o||"#"+s]=a}if(!a){const s=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=r?s.length>1?`since :
`+s.map(bw).join(`
`):" "+bw(s[0]):"as no adapter specified";throw new Bt("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a},adapters:dv};function c1(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Cu(null,e)}function ww(e){return c1(e),e.headers=ls.from(e.headers),e.data=l1.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),NN.getAdapter(e.adapter||Mx.adapter,e)(e).then(function(n){return c1(e),n.data=l1.call(e,e.transformResponse,n),n.headers=ls.from(n.headers),n},function(n){return yN(n)||(c1(e),n&&n.response&&(n.response.data=l1.call(e,e.transformResponse,n.response),n.response.headers=ls.from(n.response.headers))),Promise.reject(n)})}const AN="1.12.2",np={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{np[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const _w={};np.transitional=function(t,r,n){function a(i,s){return"[Axios v"+AN+"] Transitional option '"+i+"'"+s+(n?". "+n:"")}return(i,s,o)=>{if(t===!1)throw new Bt(a(s," has been removed"+(r?" in "+r:"")),Bt.ERR_DEPRECATED);return r&&!_w[s]&&(_w[s]=!0,console.warn(a(s," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(i,s,o):!0}};np.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function l8(e,t,r){if(typeof e!="object")throw new Bt("options must be an object",Bt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const i=n[a],s=t[i];if(s){const o=e[i],c=o===void 0||s(o,i,e);if(c!==!0)throw new Bt("option "+i+" must be "+c,Bt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Bt("Unknown option "+i,Bt.ERR_BAD_OPTION)}}const Ph={assertOptions:l8,validators:np},bs=Ph.validators;class Uh{constructor(t){this.defaults=t||{},this.interceptors={request:new uw,response:new uw}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=Zl(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&Ph.assertOptions(n,{silentJSONParsing:bs.transitional(bs.boolean),forcedJSONParsing:bs.transitional(bs.boolean),clarifyTimeoutError:bs.transitional(bs.boolean)},!1),a!=null&&(Ie.isFunction(a)?r.paramsSerializer={serialize:a}:Ph.assertOptions(a,{encode:bs.function,serialize:bs.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Ph.assertOptions(r,{baseUrl:bs.spelling("baseURL"),withXsrfToken:bs.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=i&&Ie.merge(i.common,i[r.method]);i&&Ie.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),r.headers=ls.concat(s,i);const o=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,o.unshift(p.fulfilled,p.rejected))});const u=[];this.interceptors.response.forEach(function(p){u.push(p.fulfilled,p.rejected)});let f,d=0,m;if(!c){const g=[ww.bind(this),void 0];for(g.unshift(...o),g.push(...u),m=g.length,f=Promise.resolve(r);d<m;)f=f.then(g[d++],g[d++]);return f}m=o.length;let h=r;for(;d<m;){const g=o[d++],p=o[d++];try{h=g(h)}catch(x){p.call(this,x);break}}try{f=ww.call(this,h)}catch(g){return Promise.reject(g)}for(d=0,m=u.length;d<m;)f=f.then(u[d++],u[d++]);return f}getUri(t){t=Zl(this.defaults,t);const r=wN(t.baseURL,t.url,t.allowAbsoluteUrls);return gN(r,t.params,t.paramsSerializer)}}Ie.forEach(["delete","get","head","options"],function(t){Uh.prototype[t]=function(r,n){return this.request(Zl(n||{},{method:t,url:r,data:(n||{}).data}))}});Ie.forEach(["post","put","patch"],function(t){function r(n){return function(i,s,o){return this.request(Zl(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}Uh.prototype[t]=r(),Uh.prototype[t+"Form"]=r(!0)});const Th=Uh;class Rx{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const s=new Promise(o=>{n.subscribe(o),i=o}).then(a);return s.cancel=function(){n.unsubscribe(i)},s},t(function(i,s,o){n.reason||(n.reason=new Cu(i,s,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Rx(function(a){t=a}),cancel:t}}}const c8=Rx;function u8(e){return function(r){return e.apply(null,r)}}function f8(e){return Ie.isObject(e)&&e.isAxiosError===!0}const hv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hv).forEach(([e,t])=>{hv[t]=e});const d8=hv;function jN(e){const t=new Th(e),r=aN(Th.prototype.request,t);return Ie.extend(r,Th.prototype,t,{allOwnKeys:!0}),Ie.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return jN(Zl(e,a))},r}const pn=jN(Mx);pn.Axios=Th;pn.CanceledError=Cu;pn.CancelToken=c8;pn.isCancel=yN;pn.VERSION=AN;pn.toFormData=tp;pn.AxiosError=Bt;pn.Cancel=pn.CanceledError;pn.all=function(t){return Promise.all(t)};pn.spread=u8;pn.isAxiosError=f8;pn.mergeConfig=Zl;pn.AxiosHeaders=ls;pn.formToJSON=e=>xN(Ie.isHTMLForm(e)?new FormData(e):e);pn.getAdapter=NN.getAdapter;pn.HttpStatusCode=d8;pn.default=pn;const h8=pn,m8="https://glistening-insight.up.railway.app/api/",p8="https://glistening-insight.up.railway.app/storage/",oa={base_image_url:p8,base_api_url:m8,app_name:"Inventory Management System",app_version:"1.0.0",currency:"$",date_format:"YYYY-MM-DD",datetime_format:"YYYY-MM-DD",pagination_limit:10},g8="https://glistening-insight.up.railway.app/api/",Qi=h8.create({baseURL:g8,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!1,timeout:3e4});Qi.interceptors.request.use(e=>{var n;const t=localStorage.getItem("token");t&&(e.headers.Authorization=`Bearer ${t}`);const r=(n=document.querySelector('meta[name="csrf-token"]'))==null?void 0:n.getAttribute("content");return r&&(e.headers["X-CSRF-TOKEN"]=r),e},e=>Promise.reject(e));Qi.interceptors.response.use(e=>e,e=>{var t,r,n,a;return e.response?((t=e.response)==null?void 0:t.status)===401&&!((r=e.config.url)!=null&&r.includes("/auth/"))?(localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/login",Xe.error("Your session has expired. Please login again.")):((n=e.response)==null?void 0:n.status)===403?Xe.error("You do not have permission to perform this action"):((a=e.response)==null?void 0:a.status)>=500&&Xe.error("Server error. Please try again later."):Xe.error("Network error. Please check your connection."),Promise.reject(e)});const Sw=Object.freeze(Object.defineProperty({__proto__:null,default:Qi},Symbol.toStringTag,{value:"Module"})),EN=T.createContext(null),v8={user:null,token:null,isLoading:!0,isAuthenticated:!1},x8=(e,t)=>{switch(t.type){case"LOGIN_SUCCESS":return{...e,user:t.payload.user,token:t.payload.token,isAuthenticated:!0,isLoading:!1};case"LOGOUT":return{...e,user:null,token:null,isAuthenticated:!1,isLoading:!1};case"SET_LOADING":return{...e,isLoading:t.payload};case"UPDATE_USER":return{...e,user:{...e.user,...t.payload}};default:return e}},y8=({children:e})=>{const[t,r]=T.useReducer(x8,v8);T.useEffect(()=>{(()=>{try{const u=localStorage.getItem("token"),f=localStorage.getItem("user");if(u&&f){const d=JSON.parse(f);r({type:"LOGIN_SUCCESS",payload:{user:d,token:u}})}else r({type:"SET_LOADING",payload:!1})}catch(u){console.error("Auth initialization error:",u),localStorage.removeItem("token"),localStorage.removeItem("user"),r({type:"SET_LOADING",payload:!1})}})()},[]);const n=T.useCallback(async c=>{var u,f,d,m,h;try{r({type:"SET_LOADING",payload:!0});const g=await Qi.post("/auth/login",c);if(g.data.success){let p,x;g.data.data?(p=g.data.data.user,x=g.data.data.token):(p=g.data.user,x=g.data.access_token||g.data.token);const y=P=>({sales:"staff_sale",inventory:"inventory_staff",admin:"admin",manager:"manager",user:"user"})[P]||P,_=p.type||p.user_type||"user",w={...p,type:y(_)};return localStorage.setItem("token",x),localStorage.setItem("user",JSON.stringify(w)),r({type:"LOGIN_SUCCESS",payload:{user:w,token:x}}),Xe.success(`Welcome back, ${w.name}!`),{success:!0}}else return r({type:"SET_LOADING",payload:!1}),{success:!1,message:g.data.message||"Login failed"}}catch(g){r({type:"SET_LOADING",payload:!1});let p="Login failed. Please try again.";return g.code==="ERR_NETWORK"?p="Cannot connect to server. Please ensure the Laravel API is running on http://localhost:8000":((u=g.response)==null?void 0:u.status)===401?p="Invalid email or password. Please check your credentials.":((f=g.response)==null?void 0:f.status)===422?p="Please check your input and try again.":((d=g.response)==null?void 0:d.status)>=500?p="Server error. Please try again later.":(h=(m=g.response)==null?void 0:m.data)!=null&&h.message&&(p=g.response.data.message),{success:!1,message:p}}},[r]),a=T.useCallback(()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),r({type:"LOGOUT"}),Xe.success("Logged out successfully")},[r]),i=T.useCallback(c=>{const u={...t.user,...c};localStorage.setItem("user",JSON.stringify(u)),r({type:"UPDATE_USER",payload:c})},[t.user,r]),s=T.useCallback(c=>{if(!t.user)return!1;const u=t.user.type,d={admin:["view","create","read","update","delete","manage_users"],manager:["view","read","update"],staff_sale:["view","read","create_order","update_order","create_payment","update_payment"],inventory_staff:["view","read","create","update","delete","create_product","update_product","create_import","update_import"],user:["view","read"]}[u]||[];return Array.isArray(c)?c.some(m=>d.includes(m)):d.includes(c)},[t.user]),o=T.useMemo(()=>({...t,login:n,logout:a,updateUser:i,hasPermission:s}),[t,n,a,i,s]);return l.jsx(EN.Provider,{value:o,children:e})},Rn=()=>{const e=T.useContext(EN);if(e===null)throw new Error("useAuth must be used within an AuthProvider");return e},pr=({size:e="md",className:t=""})=>{const r={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"};return l.jsx("div",{className:`flex items-center justify-center ${t}`,children:l.jsx("div",{className:`animate-spin rounded-full border-2 border-gray-300 border-t-primary-600 ${r[e]}`})})},b8=({children:e,requiredPermissions:t=[]})=>{const{isAuthenticated:r,isLoading:n,hasPermission:a}=Rn();return n?l.jsx(pr,{}):r?t.length>0&&!a(t)?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600",children:"You don't have permission to access this page."})]})}):e:l.jsx(Ym,{to:"/login",replace:!0})};function tr(e){"@babel/helpers - typeof";return tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tr(e)}function Zo(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ga(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Ls(e){ga(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||tr(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function w8(e,t){ga(2,arguments);var r=Ls(e).getTime(),n=Zo(t);return new Date(r+n)}var _8={};function ap(){return _8}function S8(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var PN=6e4,TN=36e5;function N8(e){return ga(1,arguments),e instanceof Date||tr(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function A8(e){if(ga(1,arguments),!N8(e)&&typeof e!="number")return!1;var t=Ls(e);return!isNaN(Number(t))}function j8(e,t){ga(2,arguments);var r=Zo(t);return w8(e,-r)}var E8=864e5;function P8(e){ga(1,arguments);var t=Ls(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/E8)+1}function $h(e){ga(1,arguments);var t=1,r=Ls(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function CN(e){ga(1,arguments);var t=Ls(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=$h(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var s=$h(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function T8(e){ga(1,arguments);var t=CN(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=$h(r);return n}var C8=6048e5;function O8(e){ga(1,arguments);var t=Ls(e),r=$h(t).getTime()-T8(t).getTime();return Math.round(r/C8)+1}function qh(e,t){var r,n,a,i,s,o,c,u;ga(1,arguments);var f=ap(),d=Zo((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:f.weekStartsOn)!==null&&n!==void 0?n:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&r!==void 0?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=Ls(e),h=m.getUTCDay(),g=(h<d?7:0)+h-d;return m.setUTCDate(m.getUTCDate()-g),m.setUTCHours(0,0,0,0),m}function ON(e,t){var r,n,a,i,s,o,c,u;ga(1,arguments);var f=Ls(e),d=f.getUTCFullYear(),m=ap(),h=Zo((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:m.firstWeekContainsDate)!==null&&n!==void 0?n:(c=m.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(d+1,0,h),g.setUTCHours(0,0,0,0);var p=qh(g,t),x=new Date(0);x.setUTCFullYear(d,0,h),x.setUTCHours(0,0,0,0);var y=qh(x,t);return f.getTime()>=p.getTime()?d+1:f.getTime()>=y.getTime()?d:d-1}function k8(e,t){var r,n,a,i,s,o,c,u;ga(1,arguments);var f=ap(),d=Zo((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:f.firstWeekContainsDate)!==null&&n!==void 0?n:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&r!==void 0?r:1),m=ON(e,t),h=new Date(0);h.setUTCFullYear(m,0,d),h.setUTCHours(0,0,0,0);var g=qh(h,t);return g}var L8=6048e5;function D8(e,t){ga(1,arguments);var r=Ls(e),n=qh(r,t).getTime()-k8(r,t).getTime();return Math.round(n/L8)+1}function or(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var F8={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return or(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):or(n+1,2)},d:function(t,r){return or(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return or(t.getUTCHours()%12||12,r.length)},H:function(t,r){return or(t.getUTCHours(),r.length)},m:function(t,r){return or(t.getUTCMinutes(),r.length)},s:function(t,r){return or(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return or(i,r.length)}};const ko=F8;var qc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},I8={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return ko.y(t,r)},Y:function(t,r,n,a){var i=ON(t,a),s=i>0?i:1-i;if(r==="YY"){var o=s%100;return or(o,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):or(s,r.length)},R:function(t,r){var n=CN(t);return or(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return or(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return or(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return or(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return ko.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return or(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=D8(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):or(i,r.length)},I:function(t,r,n){var a=O8(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):or(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):ko.d(t,r)},D:function(t,r,n){var a=P8(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):or(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return or(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return or(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return or(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=qc.noon:a===0?i=qc.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=qc.evening:a>=12?i=qc.afternoon:a>=4?i=qc.morning:i=qc.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return ko.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):ko.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):or(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):or(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):ko.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):ko.s(t,r)},S:function(t,r){return ko.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return Aw(s);case"XXXX":case"XX":return El(s);case"XXXXX":case"XXX":default:return El(s,":")}},x:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"x":return Aw(s);case"xxxx":case"xx":return El(s);case"xxxxx":case"xxx":default:return El(s,":")}},O:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+Nw(s,":");case"OOOO":default:return"GMT"+El(s,":")}},z:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+Nw(s,":");case"zzzz":default:return"GMT"+El(s,":")}},t:function(t,r,n,a){var i=a._originalDate||t,s=Math.floor(i.getTime()/1e3);return or(s,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,s=i.getTime();return or(s,r.length)}};function Nw(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var s=t||"";return r+String(a)+s+or(i,2)}function Aw(e,t){if(e%60===0){var r=e>0?"-":"+";return r+or(Math.abs(e)/60,2)}return El(e,t)}function El(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=or(Math.floor(a/60),2),s=or(a%60,2);return n+i+r+s}const M8=I8;var jw=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},kN=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},R8=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return jw(t,r);var s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",jw(a,r)).replace("{{time}}",kN(i,r))},B8={p:kN,P:R8};const U8=B8;var $8=["D","DD"],q8=["YY","YYYY"];function W8(e){return $8.indexOf(e)!==-1}function z8(e){return q8.indexOf(e)!==-1}function Ew(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var H8={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},V8=function(t,r,n){var a,i=H8[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};const G8=V8;function u1(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var K8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Y8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},X8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},J8={date:u1({formats:K8,defaultWidth:"full"}),time:u1({formats:Y8,defaultWidth:"full"}),dateTime:u1({formats:X8,defaultWidth:"full"})};const Z8=J8;var Q8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},eL=function(t,r,n,a){return Q8[t]};const tL=eL;function Sf(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):i;a=e.formattingValues[s]||e.formattingValues[i]}else{var o=e.defaultWidth,c=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[c]||e.values[o]}var u=e.argumentCallback?e.argumentCallback(t):t;return a[u]}}var rL={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},aL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},iL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},sL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lL=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},cL={ordinalNumber:lL,era:Sf({values:rL,defaultWidth:"wide"}),quarter:Sf({values:nL,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Sf({values:aL,defaultWidth:"wide"}),day:Sf({values:iL,defaultWidth:"wide"}),dayPeriod:Sf({values:sL,defaultWidth:"wide",formattingValues:oL,defaultFormattingWidth:"wide"})};const uL=cL;function Nf(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(o)?dL(o,function(d){return d.test(s)}):fL(o,function(d){return d.test(s)}),u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;var f=t.slice(s.length);return{value:u,rest:f}}}function fL(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function dL(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function hL(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;var o=t.slice(a.length);return{value:s,rest:o}}}var mL=/^(\d+)(th|st|nd|rd)?/i,pL=/\d+/i,gL={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vL={any:[/^b/i,/^(a|c)/i]},xL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yL={any:[/1/i,/2/i,/3/i,/4/i]},bL={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},_L={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},SL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},NL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},AL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jL={ordinalNumber:hL({matchPattern:mL,parsePattern:pL,valueCallback:function(t){return parseInt(t,10)}}),era:Nf({matchPatterns:gL,defaultMatchWidth:"wide",parsePatterns:vL,defaultParseWidth:"any"}),quarter:Nf({matchPatterns:xL,defaultMatchWidth:"wide",parsePatterns:yL,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Nf({matchPatterns:bL,defaultMatchWidth:"wide",parsePatterns:wL,defaultParseWidth:"any"}),day:Nf({matchPatterns:_L,defaultMatchWidth:"wide",parsePatterns:SL,defaultParseWidth:"any"}),dayPeriod:Nf({matchPatterns:NL,defaultMatchWidth:"any",parsePatterns:AL,defaultParseWidth:"any"})};const EL=jL;var PL={code:"en-US",formatDistance:G8,formatLong:Z8,formatRelative:tL,localize:uL,match:EL,options:{weekStartsOn:0,firstWeekContainsDate:1}};const TL=PL;var CL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,OL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kL=/^'([^]*?)'?$/,LL=/''/g,DL=/[a-zA-Z]/;function FL(e,t,r){var n,a,i,s,o,c,u,f,d,m,h,g,p,x,y,_,w,P;ga(2,arguments);var E=String(t),D=ap(),N=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:D.locale)!==null&&n!==void 0?n:TL,k=Zo((i=(s=(o=(c=r==null?void 0:r.firstWeekContainsDate)!==null&&c!==void 0?c:r==null||(u=r.locale)===null||u===void 0||(f=u.options)===null||f===void 0?void 0:f.firstWeekContainsDate)!==null&&o!==void 0?o:D.firstWeekContainsDate)!==null&&s!==void 0?s:(d=D.locale)===null||d===void 0||(m=d.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var F=Zo((h=(g=(p=(x=r==null?void 0:r.weekStartsOn)!==null&&x!==void 0?x:r==null||(y=r.locale)===null||y===void 0||(_=y.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&p!==void 0?p:D.weekStartsOn)!==null&&g!==void 0?g:(w=D.locale)===null||w===void 0||(P=w.options)===null||P===void 0?void 0:P.weekStartsOn)!==null&&h!==void 0?h:0);if(!(F>=0&&F<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!N.localize)throw new RangeError("locale must contain localize property");if(!N.formatLong)throw new RangeError("locale must contain formatLong property");var L=Ls(e);if(!A8(L))throw new RangeError("Invalid time value");var A=S8(L),S=j8(L,A),M={firstWeekContainsDate:k,weekStartsOn:F,locale:N,_originalDate:L},U=E.match(OL).map(function(G){var H=G[0];if(H==="p"||H==="P"){var q=U8[H];return q(G,N.formatLong)}return G}).join("").match(CL).map(function(G){if(G==="''")return"'";var H=G[0];if(H==="'")return IL(G);var q=M8[H];if(q)return!(r!=null&&r.useAdditionalWeekYearTokens)&&z8(G)&&Ew(G,t,String(e)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&W8(G)&&Ew(G,t,String(e)),q(S,G,N.localize,M);if(H.match(DL))throw new RangeError("Format string contains an unescaped latin alphabet character `"+H+"`");return G}).join("");return U}function IL(e){var t=e.match(kL);return t?t[1].replace(LL,"'"):e}function ML(e,t){var r;ga(1,arguments);var n=Zo((r=t==null?void 0:t.additionalDigits)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=$L(e),i;if(a.date){var s=qL(a.date,n);i=WL(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var o=i.getTime(),c=0,u;if(a.time&&(c=zL(a.time),isNaN(c)))return new Date(NaN);if(a.timezone){if(u=HL(a.timezone),isNaN(u))return new Date(NaN)}else{var f=new Date(o+c),d=new Date(0);return d.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),d.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),d}return new Date(o+c+u)}var G0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},RL=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,BL=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,UL=/^([+-])(\d{2})(?::?(\d{2}))?$/;function $L(e){var t={},r=e.split(G0.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],G0.timeZoneDelimiter.test(t.date)&&(t.date=e.split(G0.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=G0.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function qL(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function WL(e,t){if(t===null)return new Date(NaN);var r=e.match(RL);if(!r)return new Date(NaN);var n=!!r[4],a=Af(r[1]),i=Af(r[2])-1,s=Af(r[3]),o=Af(r[4]),c=Af(r[5])-1;if(n)return XL(t,o,c)?VL(t,o,c):new Date(NaN);var u=new Date(0);return!KL(t,i,s)||!YL(t,a)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(a,s)),u)}function Af(e){return e?parseInt(e):1}function zL(e){var t=e.match(BL);if(!t)return NaN;var r=f1(t[1]),n=f1(t[2]),a=f1(t[3]);return JL(r,n,a)?r*TN+n*PN+a*1e3:NaN}function f1(e){return e&&parseFloat(e.replace(",","."))||0}function HL(e){if(e==="Z")return 0;var t=e.match(UL);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return ZL(n,a)?r*(n*TN+a*PN):NaN}function VL(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var GL=[31,null,31,30,31,30,31,31,30,31,30,31];function LN(e){return e%400===0||e%4===0&&e%100!==0}function KL(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(GL[t]||(LN(e)?29:28))}function YL(e,t){return t>=1&&t<=(LN(e)?366:365)}function XL(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function JL(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function ZL(e,t){return t>=0&&t<=59}const Vr=(e,t="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:t}).format(e),Mr=(e,t="MMM dd, yyyy")=>{if(!e)return"";const r=typeof e=="string"?ML(e):e;return FL(r,t)},mv=e=>({admin:"Administrator",manager:"Manager",sales:"Sales Staff",staff_sale:"Sales Staff",inventory:"Inventory Staff",inventory_staff:"Inventory Staff",user:"User"})[e]||e,Pw=e=>({active:"text-green-600 bg-green-100",inactive:"text-red-600 bg-red-100",pending:"text-yellow-600 bg-yellow-100",completed:"text-blue-600 bg-blue-100",cancelled:"text-gray-600 bg-gray-100"})[e]||"text-gray-600 bg-gray-100",Qo=(e,t="http://localhost:8000/storage/")=>e?e.startsWith("http://")||e.startsWith("https://")?e:`${t}${e}`:null,QL=({isOpen:e,onClose:t})=>{var u,f,d,m;const{user:r,hasPermission:n}=Rn(),[a,i]=T.useState({}),s=h=>{i(g=>({...g,[h]:!g[h]}))},c=[{name:"Dashboard",icon:hO,path:"/dashboard",permission:"read"},{name:"Analytics",icon:Dh,path:"/analytics",permission:"read"},{name:"Inventory",icon:Sn,permission:"read",dropdown:!0,children:[{name:"Products",icon:Sn,path:"/products",permission:"read"},{name:"Categories",icon:Nh,path:"/categories",permission:"read"},{name:"Brands",icon:G4,path:"/brands",permission:"read"},{name:"Suppliers",icon:Fh,path:"/suppliers",permission:"read"}]},{name:"People",icon:Jo,permission:"read",dropdown:!0,children:[{name:"Customers",icon:Jo,path:"/customers",permission:"read"},{name:"Staff",icon:iv,path:"/staff",permission:"read"},{name:"Users",icon:K4,path:"/users",permission:"manage_users"}]},{name:"Operations",icon:ss,permission:"read",dropdown:!0,children:[{name:"Imports",icon:Jl,path:"/imports",permission:"read"},{name:"Orders",icon:ss,path:"/orders",permission:"read"},{name:"Payments",icon:Y4,path:"/payments",permission:"read"}]},{name:"Reports",icon:X4,permission:"read",dropdown:!0,children:[{name:"Import Report",icon:Jl,path:"/reports#import",permission:"read"},{name:"Sales Report",icon:ss,path:"/reports#sales",permission:"read"}]},{name:"Notifications",icon:Ox,path:"/notifications",permission:"read"}].filter(h=>n(h.permission));return l.jsxs(l.Fragment,{children:[e&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:t}),l.jsxs("div",{className:`
        fixed inset-y-0 left-0 z-50 w-72 sm:w-80 lg:w-64 bg-white  shadow-lg transform transition-transform duration-300 ease-in-out
        lg:translate-x-0 lg:static lg:inset-0
        ${e?"translate-x-0":"-translate-x-full"}
      `,children:[l.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"w-10 h-10 rounded-full overflow-hidden mr-3 border-2 border-gray-200",children:[r.image||(u=r.profile)!=null&&u.image?l.jsx("img",{src:r.image_url||((f=r.profile)==null?void 0:f.image_url)||Qo(r.image||((d=r.profile)==null?void 0:d.image),oa.base_image_url),alt:r.name,className:"w-full h-full object-cover",onError:h=>{h.target.style.display="none",h.target.nextSibling.style.display="flex"}}):null,l.jsx("div",{className:`w-full h-full bg-primary-700 flex items-center justify-center ${r.image||(m=r.profile)!=null&&m.image?"hidden":""}`,children:l.jsx(Xo,{className:"w-5 h-5 text-white"})})]}),l.jsx("span",{className:"ml-2 text-lg font-semibold text-gray-800",children:l.jsx("div",{className:"font-medium text-gray-900",children:r.name})})]}),l.jsx("button",{onClick:t,className:"lg:hidden text-gray-500 hover:text-gray-700 p-1",children:l.jsx(Kr,{className:"w-6 h-6"})})]}),l.jsxs("nav",{className:"mt-4 sm:mt-6 pb-4 overflow-y-auto max-h-[calc(100vh-120px)]",children:[l.jsx("div",{className:"px-4 sm:px-6 mb-4",children:l.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:(r==null?void 0:r.type)==="admin"?"Administrator":(r==null?void 0:r.type)==="manager"?"Manager":(r==null?void 0:r.type)==="staff_sale"?"Sales Staff":(r==null?void 0:r.type)==="inventory_staff"?"Inventory Staff":"User"})}),c.map(h=>{var g;return l.jsx("div",{children:h.dropdown?l.jsxs("div",{children:[l.jsxs("button",{onClick:()=>s(h.name),className:"flex items-center justify-between w-full px-4 sm:px-6 py-3 sm:py-3 text-sm font-medium text-gray-600 hover:text-gray-900 hover:bg-gray-50 transition-colors duration-200 mx-2 sm:mx-0 rounded-lg sm:rounded-none",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(h.icon,{className:"w-5 h-5 mr-3 flex-shrink-0"}),l.jsx("span",{className:"truncate",children:h.name})]}),a[h.name]?l.jsx(fO,{className:"w-4 h-4 transition-transform"}):l.jsx(dO,{className:"w-4 h-4 transition-transform"})]}),a[h.name]&&l.jsx("div",{className:"ml-4 sm:ml-6 mt-1 space-y-1",children:(g=h.children)==null?void 0:g.filter(p=>n(p.permission)).map(p=>l.jsxs(rw,{to:p.path,onClick:t,className:({isActive:x})=>`flex items-center px-4 sm:px-6 py-2 sm:py-2 text-sm font-medium transition-colors duration-200 mx-2 sm:mx-0 rounded-lg sm:rounded-none ${x?"text-primary-500 bg-primary-50 sm:border-r-2 sm:border-primary-600 sm:bg-primary-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:[l.jsx(p.icon,{className:"w-4 h-4 mr-3 flex-shrink-0"}),l.jsx("span",{className:"truncate",children:p.name})]},p.name))})]}):l.jsxs(rw,{to:h.path,onClick:t,className:({isActive:p})=>`flex items-center px-4 sm:px-6 py-3 sm:py-3 text-sm font-medium transition-colors duration-200 mx-2 sm:mx-0 rounded-lg sm:rounded-none ${p?"text-primary-600 bg-primary-50 sm:border-r-2 sm:border-primary-600 sm:bg-primary-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}`,children:[l.jsx(h.icon,{className:"w-5 h-5 mr-3 flex-shrink-0"}),l.jsx("span",{className:"truncate",children:h.name})]})},h.name)})]})]})]})},ut={get:(e,t={})=>Qi.get(e,{params:t}).then(r=>r.data&&r.data.data?r.data.data:(r.data&&Array.isArray(r.data),r.data)),post:(e,t={})=>Qi.post(e,t).then(r=>r.data&&r.data.data?r.data.data:(r.data&&Array.isArray(r.data),r.data)),put:(e,t={})=>Qi.put(e,t).then(r=>r.data&&r.data.data?r.data.data:(r.data&&Array.isArray(r.data),r.data)),delete:e=>Qi.delete(e).then(t=>t.data&&t.data.data?t.data.data:(t.data&&Array.isArray(t.data),t.data)),patch:(e,t={})=>Qi.patch(e,t).then(r=>r.data&&r.data.data?r.data.data:(r.data&&Array.isArray(r.data),r.data))},vu=(e,t)=>Qi.post(e,t,{headers:{"Content-Type":"multipart/form-data"}}),eD=(e,t)=>{let r;return(...n)=>{clearTimeout(r),r=setTimeout(()=>e(...n),t)}},Tw={product:{icon:pO,route:"/products",labelKey:"pro_name"},user:{icon:Jo,route:"/users",labelKey:"name"},order:{icon:ss,route:"/orders",labelKey:"id"},payment:{icon:Y4,route:"/payments",labelKey:"id"},supplier:{icon:Fh,route:"/suppliers",labelKey:"supplier"},customer:{icon:Jo,route:"/customers",labelKey:"cus_name"}};function tD(){const[e,t]=T.useState(!1),[r,n]=T.useState(""),[a,i]=T.useState(!1),[s,o]=T.useState([]),[c,u]=T.useState(()=>{try{return JSON.parse(localStorage.getItem("global_search_recent")||"[]")}catch{return[]}}),f=T.useRef(null),d=Cx(),m=()=>{u([]);try{localStorage.removeItem("global_search_recent")}catch{}};T.useEffect(()=>{const p=x=>{(x.ctrlKey||x.metaKey)&&x.key.toLowerCase()==="k"&&(x.preventDefault(),t(y=>!y)),x.key==="Escape"&&t(!1)};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[]),T.useEffect(()=>{e&&setTimeout(()=>{var p;return(p=f.current)==null?void 0:p.focus()},0)},[e]);const h=T.useMemo(()=>eD(async p=>{if(!p||p.trim().length<2){o([]),i(!1);return}i(!0);try{const x=[{key:"product",url:"/products"},{key:"user",url:"/users"},{key:"order",url:"/orders"},{key:"payment",url:"/payments"},{key:"supplier",url:"/suppliers"},{key:"customer",url:"/customers"}],y={q:p,search:p},_=p.toLowerCase(),w=x.map(async({key:E,url:D})=>{var N;try{const k=await ut.get(D,{params:y});return(((N=k==null?void 0:k.data)==null?void 0:N.data)||(k==null?void 0:k.data)||k||[]).filter(A=>[A.pro_name,A.name,A.cus_name,A.supplier,A.email,String(A.id||"")].filter(Boolean).join(" ").toLowerCase().includes(_)).slice(0,5).map(A=>({key:E,item:A}))}catch{return[]}}),P=await Promise.all(w);o(P.flat())}finally{i(!1)}},300),[]);T.useEffect(()=>{i(r.length>=2),h(r)},[r,h]);const g=p=>{const x=Tw[p.key];if(!x)return;const y=p.item[x.labelKey]??`#${p.item.id}`,w=[{q:r,key:p.key,label:y,ts:Date.now()},...c.filter(P=>P.label!==y)].slice(0,8);u(w),localStorage.setItem("global_search_recent",JSON.stringify(w)),t(!1),d(x.route)};return l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>t(!0),className:"hidden md:flex items-center px-3 py-1.5 text-sm bg-white/10 hover:bg-white/20 rounded-md border border-white/20",title:"Global search (Ctrl+K)",children:[l.jsx(os,{className:"w-4 h-4 mr-2"}),l.jsx("span",{children:"Search..."}),l.jsx("span",{className:"ml-2 text-xs opacity-70",children:"Ctrl+K"})]}),e&&l.jsx("div",{className:"fixed inset-0 z-50 bg-black/40",onClick:()=>t(!1),children:l.jsx("div",{className:"mx-auto mt-20 max-w-2xl",onClick:p=>p.stopPropagation(),children:l.jsxs("div",{className:"bg-white text-black rounded-lg shadow-lg overflow-hidden",children:[l.jsxs("div",{className:"flex items-center px-4 py-3 border-b",children:[l.jsx(os,{className:"w-4 h-4 text-black mr-2"}),l.jsx("input",{ref:f,value:r,onChange:p=>n(p.target.value),placeholder:"Search products, users, orders...",className:"w-full outline-none text-sm text-black"}),r&&!a&&l.jsx("button",{onClick:()=>{n(""),o([]),i(!1)},"aria-label":"Clear search",className:"ml-2 p-1 rounded hover:bg-gray-100",children:l.jsx(Kr,{className:"w-4 h-4 text-gray-400"})}),a&&l.jsx(mO,{className:"w-4 h-4 animate-spin text-gray-400 ml-2"})]}),l.jsxs("div",{className:"max-h-80 overflow-auto",children:[r.length<2&&c.length>0&&l.jsxs("div",{className:"flex items-center justify-between px-3 py-2 text-xs text-gray-500",children:[l.jsx("div",{children:"Recent"}),l.jsxs("button",{className:"flex items-center gap-1 px-2 py-1 rounded hover:bg-gray-100 text-gray-500",onClick:m,title:"Clear recent",children:[l.jsx(Kr,{className:"w-3 h-3"}),l.jsx("span",{children:"Clear"})]})]}),r.length<2&&c.map((p,x)=>l.jsx("div",{className:"px-4 py-2 text-sm hover:bg-gray-50 cursor-pointer",onClick:()=>n(p.label),children:p.label},x)),r.length>=2&&s.length===0&&!a&&l.jsx("div",{className:"px-4 py-6 text-center text-sm text-gray-500",children:"No results"}),s.map((p,x)=>{var D,N;const y=Tw[p.key],_=(y==null?void 0:y.icon)||os,w=(D=p.item)==null?void 0:D[y==null?void 0:y.labelKey],P=w&&String(w).trim()||p.item.name||p.item.pro_name||p.item.cus_name||p.item.supplier||(p.item.id?`#${p.item.id}`:"Unknown"),E=p.key==="user"?p.item.email:p.key==="product"?p.item.barcode||((N=p.item.category)==null?void 0:N.name):p.key==="order"?`Total: ${p.item.total??""}`:p.key==="payment"?`Deposit: ${p.item.deposit??""}`:p.key==="customer"?p.item.cus_contact||"":p.key==="supplier"&&p.item.sup_con||"";return l.jsxs("div",{className:"px-4 py-2 text-sm hover:bg-gray-50 cursor-pointer flex items-center",onClick:()=>g(p),children:[l.jsx(_,{className:"w-4 h-4 text-gray-400 mr-2"}),l.jsxs("span",{className:"truncate text-black",children:[P,E?l.jsx("span",{className:"ml-2 text-xs text-gray-400",children:E}):null]}),l.jsx("span",{className:"ml-auto text-xs text-gray-400 capitalize",children:p.key})]},x)})]})]})})})]})}const rD=({onMenuClick:e,toggleSidebar:t})=>{var c,u,f;const{user:r,logout:n}=Rn();Cx();const[a,i]=T.useState(!1),[s,o]=T.useState(0);return T.useEffect(()=>{const d=async()=>{var h;try{const g=await ut.get("/products"),x=(Array.isArray((h=g==null?void 0:g.data)==null?void 0:h.data)?g.data.data:Array.isArray(g==null?void 0:g.data)?g.data:Array.isArray(g)?g:[]).filter(y=>{const _=parseInt(y.qty||0),w=parseInt(y.reorder_point||10);return _<=w});o(x.length)}catch(g){console.error("Low stock fetch error:",g),o(0)}};d();const m=setInterval(d,6e4);return()=>clearInterval(m)},[]),l.jsx("header",{className:"bg-gradient-to-r from-primary-600 to-primary-700 shadow-lg border-b text-white border-primary-800 sticky top-0 z-40 backdrop-blur-sm",children:l.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 md:px-6 py-3 sm:py-4",children:[l.jsxs("div",{className:"flex items-center min-w-0 flex-1",children:[l.jsx("button",{onClick:e||t,className:"text-white hover:text-gray-700 lg:hidden mr-2 p-1",children:l.jsx(gO,{className:"w-6 h-6"})}),l.jsxs("h1",{className:"text-sm sm:text-lg md:text-xl font-semibold text-white truncate",children:[l.jsx("span",{className:"hidden sm:inline",children:"Inventory Management System"}),l.jsx("span",{className:"sm:hidden",children:"IMS"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[l.jsx(tD,{}),l.jsxs(sd,{to:"/notifications",className:"text-white hover:text-red-500 relative p-1 transition-colors",title:`${s} low stock items`,children:[l.jsx(Ox,{className:"w-5 h-5 sm:w-6 sm:h-6"}),s>0&&l.jsx("span",{className:`absolute -top-1 -right-1 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center ${s>10?"bg-red-600":s>5?"bg-orange-500":"bg-yellow-500"}`,children:s>99?"99+":s})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>i(!a),className:"flex items-center space-x-1 sm:space-x-2 text-white hover:text-gray-900 p-1",children:[l.jsxs("div",{className:"w-8 h-8 rounded-full overflow-hidden border-2 border-gray-200",children:[r!=null&&r.photo_url||(c=r==null?void 0:r.profile)!=null&&c.image_url?l.jsx("img",{src:(r==null?void 0:r.photo_url)||((u=r==null?void 0:r.profile)==null?void 0:u.image_url),alt:r==null?void 0:r.name,className:"w-full h-full object-cover",onError:d=>{d.target.style.display="none",d.target.nextSibling.style.display="flex"}}):null,l.jsx("div",{className:`w-full h-full bg-primary-600 flex items-center justify-center ${r!=null&&r.photo_url||(f=r==null?void 0:r.profile)!=null&&f.image_url?"hidden":""}`,children:l.jsx(Xo,{className:"w-4 h-4 text-white"})})]}),l.jsx("span",{className:"hidden sm:block font-medium text-sm md:text-base truncate max-w-24 md:max-w-none",children:r==null?void 0:r.name})]}),a&&l.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50 border",children:[l.jsxs(sd,{to:"/profile",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>i(!1),children:[l.jsx(K4,{className:"w-4 h-4 mr-2"}),"Profile"]}),l.jsxs("button",{onClick:()=>{n(),i(!1)},className:"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[l.jsx(vO,{className:"w-4 h-4 mr-2"}),"Logout"]})]})]})]})]})})},nD=({isOnline:e,children:t})=>{const[r,n]=T.useState(!1);return l.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:[l.jsx(QL,{isOpen:r,onClose:()=>n(!1)}),l.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[l.jsx(rD,{isOnline:e,toggleSidebar:()=>n(!0)}),l.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gradient-to-br from-gray-50 to-gray-100 p-2 sm:p-4 md:p-6",children:l.jsx(sO,{})})]})]})};var Od=e=>e.type==="checkbox",Fl=e=>e instanceof Date,Ba=e=>e==null;const DN=e=>typeof e=="object";var dn=e=>!Ba(e)&&!Array.isArray(e)&&DN(e)&&!Fl(e),aD=e=>dn(e)&&e.target?Od(e.target)?e.target.checked:e.target.value:e,iD=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,sD=(e,t)=>e.has(iD(t)),oD=e=>{const t=e.constructor&&e.constructor.prototype;return dn(t)&&t.hasOwnProperty("isPrototypeOf")},Bx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function kn(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Bx&&(e instanceof Blob||n))&&(r||dn(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!oD(e))t=e;else for(const a in e)e.hasOwnProperty(a)&&(t[a]=kn(e[a]));else return e;return t}var ip=e=>/^\w*$/.test(e),en=e=>e===void 0,Ux=e=>Array.isArray(e)?e.filter(Boolean):[],$x=e=>Ux(e.replace(/["|']|\]/g,"").split(/\.|\[/)),St=(e,t,r)=>{if(!t||!dn(e))return r;const n=(ip(t)?[t]:$x(t)).reduce((a,i)=>Ba(a)?a:a[i],e);return en(n)||n===e?en(e[t])?r:e[t]:n},Ns=e=>typeof e=="boolean",Tr=(e,t,r)=>{let n=-1;const a=ip(t)?[t]:$x(t),i=a.length,s=i-1;for(;++n<i;){const o=a[n];let c=r;if(n!==s){const u=e[o];c=dn(u)||Array.isArray(u)?u:isNaN(+a[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=c,e=e[o]}};const Cw={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},es={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Hs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},lD=_a.createContext(null);lD.displayName="HookFormContext";var cD=(e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const s=i;return t._proxyFormState[s]!==es.all&&(t._proxyFormState[s]=!n||es.all),r&&(r[s]=!0),e[s]}});return a};const uD=typeof window<"u"?_a.useLayoutEffect:_a.useEffect;var li=e=>typeof e=="string",fD=(e,t,r,n,a)=>li(e)?(n&&t.watch.add(e),St(r,e,a)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),St(r,i))):(n&&(t.watchAll=!0),r),pv=e=>Ba(e)||!DN(e);function $o(e,t,r=new WeakSet){if(pv(e)||pv(t))return e===t;if(Fl(e)&&Fl(t))return e.getTime()===t.getTime();const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const s=e[i];if(!a.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Fl(s)&&Fl(o)||dn(s)&&dn(o)||Array.isArray(s)&&Array.isArray(o)?!$o(s,o,r):s!==o)return!1}}return!0}var dD=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},Vf=e=>Array.isArray(e)?e:[e],Ow=()=>{let e=[];return{get observers(){return e},next:a=>{for(const i of e)i.next&&i.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(i=>i!==a)}}),unsubscribe:()=>{e=[]}}};function FN(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const a=e[n],i=t[n];if(a&&dn(a)&&i){const s=FN(a,i);dn(s)&&(r[n]=s)}else e[n]&&(r[n]=i)}return r}var Ma=e=>dn(e)&&!Object.keys(e).length,qx=e=>e.type==="file",ts=e=>typeof e=="function",Wh=e=>{if(!Bx)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},IN=e=>e.type==="select-multiple",Wx=e=>e.type==="radio",hD=e=>Wx(e)||Od(e),d1=e=>Wh(e)&&e.isConnected;function mD(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=en(e)?n++:e[t[n++]];return e}function pD(e){for(const t in e)if(e.hasOwnProperty(t)&&!en(e[t]))return!1;return!0}function un(e,t){const r=Array.isArray(t)?t:ip(t)?[t]:$x(t),n=r.length===1?e:mD(e,r),a=r.length-1,i=r[a];return n&&delete n[i],a!==0&&(dn(n)&&Ma(n)||Array.isArray(n)&&pD(n))&&un(e,r.slice(0,-1)),e}var gD=e=>{for(const t in e)if(ts(e[t]))return!0;return!1};function MN(e){return Array.isArray(e)||dn(e)&&!gD(e)}function gv(e,t={}){for(const r in e)MN(e[r])?(t[r]=Array.isArray(e[r])?[]:{},gv(e[r],t[r])):en(e[r])||(t[r]=!0);return t}function Qc(e,t,r){r||(r=gv(t));for(const n in e)MN(e[n])?en(t)||pv(r[n])?r[n]=gv(e[n],Array.isArray(e[n])?[]:{}):Qc(e[n],Ba(t)?{}:t[n],r[n]):r[n]=!$o(e[n],t[n]);return r}const kw={value:!1,isValid:!1},Lw={value:!0,isValid:!0};var RN=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!en(e[0].attributes.value)?en(e[0].value)||e[0].value===""?Lw:{value:e[0].value,isValid:!0}:Lw:kw}return kw},BN=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>en(e)?e:t?e===""?NaN:e&&+e:r&&li(e)?new Date(e):n?n(e):e;const Dw={isValid:!1,value:null};var UN=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Dw):Dw;function Fw(e){const t=e.ref;return qx(t)?t.files:Wx(t)?UN(e.refs).value:IN(t)?[...t.selectedOptions].map(({value:r})=>r):Od(t)?RN(e.refs).value:BN(en(t.value)?e.ref.value:t.value,e)}var vD=(e,t,r,n)=>{const a={};for(const i of e){const s=St(t,i);s&&Tr(a,i,s._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},zh=e=>e instanceof RegExp,jf=e=>en(e)?e:zh(e)?e.source:dn(e)?zh(e.value)?e.value.source:e.value:e,Iw=e=>({isOnSubmit:!e||e===es.onSubmit,isOnBlur:e===es.onBlur,isOnChange:e===es.onChange,isOnAll:e===es.all,isOnTouch:e===es.onTouched});const Mw="AsyncFunction";var xD=e=>!!e&&!!e.validate&&!!(ts(e.validate)&&e.validate.constructor.name===Mw||dn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Mw)),yD=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Rw=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Gf=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const i=St(e,a);if(i){const{_f:s,...o}=i;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],a)&&!n)return!0;if(s.ref&&t(s.ref,s.name)&&!n)return!0;if(Gf(o,t))break}else if(dn(o)&&Gf(o,t))break}}};function Bw(e,t,r){const n=St(e,r);if(n||ip(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const i=a.join("."),s=St(t,i),o=St(e,i);if(s&&!Array.isArray(s)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};a.pop()}return{name:r}}var bD=(e,t,r,n)=>{r(e);const{name:a,...i}=e;return Ma(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(s=>t[s]===(!n||es.all))},wD=(e,t,r)=>!e||!t||e===t||Vf(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),_D=(e,t,r,n,a)=>a.isOnAll?!1:!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:(r?n.isOnChange:a.isOnChange)?e:!0,SD=(e,t)=>!Ux(St(e,t)).length&&un(e,t),ND=(e,t,r)=>{const n=Vf(St(e,r));return Tr(n,"root",t[r]),Tr(e,r,n),e};function Uw(e,t,r="validate"){if(li(e)||Array.isArray(e)&&e.every(li)||Ns(e)&&!e)return{type:r,message:li(e)?e:"",ref:t}}var Wc=e=>dn(e)&&!zh(e)?e:{value:e,message:""},$w=async(e,t,r,n,a,i)=>{const{ref:s,refs:o,required:c,maxLength:u,minLength:f,min:d,max:m,pattern:h,validate:g,name:p,valueAsNumber:x,mount:y}=e._f,_=St(r,p);if(!y||t.has(p))return{};const w=o?o[0]:s,P=S=>{a&&w.reportValidity&&(w.setCustomValidity(Ns(S)?"":S||""),w.reportValidity())},E={},D=Wx(s),N=Od(s),k=D||N,F=(x||qx(s))&&en(s.value)&&en(_)||Wh(s)&&s.value===""||_===""||Array.isArray(_)&&!_.length,L=dD.bind(null,p,n,E),A=(S,M,U,G=Hs.maxLength,H=Hs.minLength)=>{const q=S?M:U;E[p]={type:S?G:H,message:q,ref:s,...L(S?G:H,q)}};if(i?!Array.isArray(_)||!_.length:c&&(!k&&(F||Ba(_))||Ns(_)&&!_||N&&!RN(o).isValid||D&&!UN(o).isValid)){const{value:S,message:M}=li(c)?{value:!!c,message:c}:Wc(c);if(S&&(E[p]={type:Hs.required,message:M,ref:w,...L(Hs.required,M)},!n))return P(M),E}if(!F&&(!Ba(d)||!Ba(m))){let S,M;const U=Wc(m),G=Wc(d);if(!Ba(_)&&!isNaN(_)){const H=s.valueAsNumber||_&&+_;Ba(U.value)||(S=H>U.value),Ba(G.value)||(M=H<G.value)}else{const H=s.valueAsDate||new Date(_),q=ne=>new Date(new Date().toDateString()+" "+ne),V=s.type=="time",W=s.type=="week";li(U.value)&&_&&(S=V?q(_)>q(U.value):W?_>U.value:H>new Date(U.value)),li(G.value)&&_&&(M=V?q(_)<q(G.value):W?_<G.value:H<new Date(G.value))}if((S||M)&&(A(!!S,U.message,G.message,Hs.max,Hs.min),!n))return P(E[p].message),E}if((u||f)&&!F&&(li(_)||i&&Array.isArray(_))){const S=Wc(u),M=Wc(f),U=!Ba(S.value)&&_.length>+S.value,G=!Ba(M.value)&&_.length<+M.value;if((U||G)&&(A(U,S.message,M.message),!n))return P(E[p].message),E}if(h&&!F&&li(_)){const{value:S,message:M}=Wc(h);if(zh(S)&&!_.match(S)&&(E[p]={type:Hs.pattern,message:M,ref:s,...L(Hs.pattern,M)},!n))return P(M),E}if(g){if(ts(g)){const S=await g(_,r),M=Uw(S,w);if(M&&(E[p]={...M,...L(Hs.validate,M.message)},!n))return P(M.message),E}else if(dn(g)){let S={};for(const M in g){if(!Ma(S)&&!n)break;const U=Uw(await g[M](_,r),w,M);U&&(S={...U,...L(M,U.message)},P(U.message),n&&(E[p]=S))}if(!Ma(S)&&(E[p]={ref:w,...S},!n))return E}}return P(!0),E};const AD={mode:es.onSubmit,reValidateMode:es.onChange,shouldFocusError:!0};function jD(e={}){let t={...AD,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ts(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},a=dn(t.defaultValues)||dn(t.values)?kn(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:kn(a),s={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...f};const m={array:Ow(),state:Ow()},h=t.criteriaMode===es.all,g=se=>xe=>{clearTimeout(u),u=setTimeout(se,xe)},p=async se=>{if(!t.disabled&&(f.isValid||d.isValid||se)){const xe=t.resolver?Ma((await N()).errors):await F(n,!0);xe!==r.isValid&&m.state.next({isValid:xe})}},x=(se,xe)=>{!t.disabled&&(f.isValidating||f.validatingFields||d.isValidating||d.validatingFields)&&((se||Array.from(o.mount)).forEach(we=>{we&&(xe?Tr(r.validatingFields,we,xe):un(r.validatingFields,we))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Ma(r.validatingFields)}))},y=(se,xe=[],we,qe,Re=!0,Be=!0)=>{if(qe&&we&&!t.disabled){if(s.action=!0,Be&&Array.isArray(St(n,se))){const nt=we(St(n,se),qe.argA,qe.argB);Re&&Tr(n,se,nt)}if(Be&&Array.isArray(St(r.errors,se))){const nt=we(St(r.errors,se),qe.argA,qe.argB);Re&&Tr(r.errors,se,nt),SD(r.errors,se)}if((f.touchedFields||d.touchedFields)&&Be&&Array.isArray(St(r.touchedFields,se))){const nt=we(St(r.touchedFields,se),qe.argA,qe.argB);Re&&Tr(r.touchedFields,se,nt)}(f.dirtyFields||d.dirtyFields)&&(r.dirtyFields=Qc(a,i)),m.state.next({name:se,isDirty:A(se,xe),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Tr(i,se,xe)},_=(se,xe)=>{Tr(r.errors,se,xe),m.state.next({errors:r.errors})},w=se=>{r.errors=se,m.state.next({errors:r.errors,isValid:!1})},P=(se,xe,we,qe)=>{const Re=St(n,se);if(Re){const Be=St(i,se,en(we)?St(a,se):we);en(Be)||qe&&qe.defaultChecked||xe?Tr(i,se,xe?Be:Fw(Re._f)):U(se,Be),s.mount&&p()}},E=(se,xe,we,qe,Re)=>{let Be=!1,nt=!1;const pt={name:se};if(!t.disabled){if(!we||qe){(f.isDirty||d.isDirty)&&(nt=r.isDirty,r.isDirty=pt.isDirty=A(),Be=nt!==pt.isDirty);const ct=$o(St(a,se),xe);nt=!!St(r.dirtyFields,se),ct?un(r.dirtyFields,se):Tr(r.dirtyFields,se,!0),pt.dirtyFields=r.dirtyFields,Be=Be||(f.dirtyFields||d.dirtyFields)&&nt!==!ct}if(we){const ct=St(r.touchedFields,se);ct||(Tr(r.touchedFields,se,we),pt.touchedFields=r.touchedFields,Be=Be||(f.touchedFields||d.touchedFields)&&ct!==we)}Be&&Re&&m.state.next(pt)}return Be?pt:{}},D=(se,xe,we,qe)=>{const Re=St(r.errors,se),Be=(f.isValid||d.isValid)&&Ns(xe)&&r.isValid!==xe;if(t.delayError&&we?(c=g(()=>_(se,we)),c(t.delayError)):(clearTimeout(u),c=null,we?Tr(r.errors,se,we):un(r.errors,se)),(we?!$o(Re,we):Re)||!Ma(qe)||Be){const nt={...qe,...Be&&Ns(xe)?{isValid:xe}:{},errors:r.errors,name:se};r={...r,...nt},m.state.next(nt)}},N=async se=>{x(se,!0);const xe=await t.resolver(i,t.context,vD(se||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return x(se),xe},k=async se=>{const{errors:xe}=await N(se);if(se)for(const we of se){const qe=St(xe,we);qe?Tr(r.errors,we,qe):un(r.errors,we)}else r.errors=xe;return xe},F=async(se,xe,we={valid:!0})=>{for(const qe in se){const Re=se[qe];if(Re){const{_f:Be,...nt}=Re;if(Be){const pt=o.array.has(Be.name),ct=Re._f&&xD(Re._f);ct&&f.validatingFields&&x([Be.name],!0);const gt=await $w(Re,o.disabled,i,h,t.shouldUseNativeValidation&&!xe,pt);if(ct&&f.validatingFields&&x([Be.name]),gt[Be.name]&&(we.valid=!1,xe))break;!xe&&(St(gt,Be.name)?pt?ND(r.errors,gt,Be.name):Tr(r.errors,Be.name,gt[Be.name]):un(r.errors,Be.name))}!Ma(nt)&&await F(nt,xe,we)}}return we.valid},L=()=>{for(const se of o.unMount){const xe=St(n,se);xe&&(xe._f.refs?xe._f.refs.every(we=>!d1(we)):!d1(xe._f.ref))&&ge(se)}o.unMount=new Set},A=(se,xe)=>!t.disabled&&(se&&xe&&Tr(i,se,xe),!$o(ne(),a)),S=(se,xe,we)=>fD(se,o,{...s.mount?i:en(xe)?a:li(se)?{[se]:xe}:xe},we,xe),M=se=>Ux(St(s.mount?i:a,se,t.shouldUnregister?St(a,se,[]):[])),U=(se,xe,we={})=>{const qe=St(n,se);let Re=xe;if(qe){const Be=qe._f;Be&&(!Be.disabled&&Tr(i,se,BN(xe,Be)),Re=Wh(Be.ref)&&Ba(xe)?"":xe,IN(Be.ref)?[...Be.ref.options].forEach(nt=>nt.selected=Re.includes(nt.value)):Be.refs?Od(Be.ref)?Be.refs.forEach(nt=>{(!nt.defaultChecked||!nt.disabled)&&(Array.isArray(Re)?nt.checked=!!Re.find(pt=>pt===nt.value):nt.checked=Re===nt.value||!!Re)}):Be.refs.forEach(nt=>nt.checked=nt.value===Re):qx(Be.ref)?Be.ref.value="":(Be.ref.value=Re,Be.ref.type||m.state.next({name:se,values:kn(i)})))}(we.shouldDirty||we.shouldTouch)&&E(se,Re,we.shouldTouch,we.shouldDirty,!0),we.shouldValidate&&W(se)},G=(se,xe,we)=>{for(const qe in xe){if(!xe.hasOwnProperty(qe))return;const Re=xe[qe],Be=se+"."+qe,nt=St(n,Be);(o.array.has(se)||dn(Re)||nt&&!nt._f)&&!Fl(Re)?G(Be,Re,we):U(Be,Re,we)}},H=(se,xe,we={})=>{const qe=St(n,se),Re=o.array.has(se),Be=kn(xe);Tr(i,se,Be),Re?(m.array.next({name:se,values:kn(i)}),(f.isDirty||f.dirtyFields||d.isDirty||d.dirtyFields)&&we.shouldDirty&&m.state.next({name:se,dirtyFields:Qc(a,i),isDirty:A(se,Be)})):qe&&!qe._f&&!Ba(Be)?G(se,Be,we):U(se,Be,we),Rw(se,o)&&m.state.next({...r,name:se}),m.state.next({name:s.mount?se:void 0,values:kn(i)})},q=async se=>{s.mount=!0;const xe=se.target;let we=xe.name,qe=!0;const Re=St(n,we),Be=ct=>{qe=Number.isNaN(ct)||Fl(ct)&&isNaN(ct.getTime())||$o(ct,St(i,we,ct))},nt=Iw(t.mode),pt=Iw(t.reValidateMode);if(Re){let ct,gt;const Tt=xe.type?Fw(Re._f):aD(se),st=se.type===Cw.BLUR||se.type===Cw.FOCUS_OUT,Fr=!yD(Re._f)&&!t.resolver&&!St(r.errors,we)&&!Re._f.deps||_D(st,St(r.touchedFields,we),r.isSubmitted,pt,nt),Mt=Rw(we,o,st);Tr(i,we,Tt),st?(!xe||!xe.readOnly)&&(Re._f.onBlur&&Re._f.onBlur(se),c&&c(0)):Re._f.onChange&&Re._f.onChange(se);const Br=E(we,Tt,st),qt=!Ma(Br)||Mt;if(!st&&m.state.next({name:we,type:se.type,values:kn(i)}),Fr)return(f.isValid||d.isValid)&&(t.mode==="onBlur"?st&&p():st||p()),qt&&m.state.next({name:we,...Mt?{}:Br});if(!st&&Mt&&m.state.next({...r}),t.resolver){const{errors:Yt}=await N([we]);if(Be(Tt),qe){const Un=Bw(r.errors,n,we),Ot=Bw(Yt,n,Un.name||we);ct=Ot.error,we=Ot.name,gt=Ma(Yt)}}else x([we],!0),ct=(await $w(Re,o.disabled,i,h,t.shouldUseNativeValidation))[we],x([we]),Be(Tt),qe&&(ct?gt=!1:(f.isValid||d.isValid)&&(gt=await F(n,!0)));qe&&(Re._f.deps&&(!Array.isArray(Re._f.deps)||Re._f.deps.length>0)&&W(Re._f.deps),D(we,gt,ct,Br))}},V=(se,xe)=>{if(St(r.errors,xe)&&se.focus)return se.focus(),1},W=async(se,xe={})=>{let we,qe;const Re=Vf(se);if(t.resolver){const Be=await k(en(se)?se:Re);we=Ma(Be),qe=se?!Re.some(nt=>St(Be,nt)):we}else se?(qe=(await Promise.all(Re.map(async Be=>{const nt=St(n,Be);return await F(nt&&nt._f?{[Be]:nt}:nt)}))).every(Boolean),!(!qe&&!r.isValid)&&p()):qe=we=await F(n);return m.state.next({...!li(se)||(f.isValid||d.isValid)&&we!==r.isValid?{}:{name:se},...t.resolver||!se?{isValid:we}:{},errors:r.errors}),xe.shouldFocus&&!qe&&Gf(n,V,se?Re:o.mount),qe},ne=(se,xe)=>{let we={...s.mount?i:a};return xe&&(we=FN(xe.dirtyFields?r.dirtyFields:r.touchedFields,we)),en(se)?we:li(se)?St(we,se):se.map(qe=>St(we,qe))},ce=(se,xe)=>({invalid:!!St((xe||r).errors,se),isDirty:!!St((xe||r).dirtyFields,se),error:St((xe||r).errors,se),isValidating:!!St(r.validatingFields,se),isTouched:!!St((xe||r).touchedFields,se)}),C=se=>{se&&Vf(se).forEach(xe=>un(r.errors,xe)),m.state.next({errors:se?r.errors:{}})},I=(se,xe,we)=>{const qe=(St(n,se,{_f:{}})._f||{}).ref,Re=St(r.errors,se)||{},{ref:Be,message:nt,type:pt,...ct}=Re;Tr(r.errors,se,{...ct,...xe,ref:qe}),m.state.next({name:se,errors:r.errors,isValid:!1}),we&&we.shouldFocus&&qe&&qe.focus&&qe.focus()},B=(se,xe)=>ts(se)?m.state.subscribe({next:we=>"values"in we&&se(S(void 0,xe),we)}):S(se,xe,!0),z=se=>m.state.subscribe({next:xe=>{wD(se.name,xe.name,se.exact)&&bD(xe,se.formState||f,Ve,se.reRenderRoot)&&se.callback({values:{...i},...r,...xe,defaultValues:a})}}).unsubscribe,Z=se=>(s.mount=!0,d={...d,...se.formState},z({...se,formState:d})),ge=(se,xe={})=>{for(const we of se?Vf(se):o.mount)o.mount.delete(we),o.array.delete(we),xe.keepValue||(un(n,we),un(i,we)),!xe.keepError&&un(r.errors,we),!xe.keepDirty&&un(r.dirtyFields,we),!xe.keepTouched&&un(r.touchedFields,we),!xe.keepIsValidating&&un(r.validatingFields,we),!t.shouldUnregister&&!xe.keepDefaultValue&&un(a,we);m.state.next({values:kn(i)}),m.state.next({...r,...xe.keepDirty?{isDirty:A()}:{}}),!xe.keepIsValid&&p()},pe=({disabled:se,name:xe})=>{(Ns(se)&&s.mount||se||o.disabled.has(xe))&&(se?o.disabled.add(xe):o.disabled.delete(xe))},te=(se,xe={})=>{let we=St(n,se);const qe=Ns(xe.disabled)||Ns(t.disabled);return Tr(n,se,{...we||{},_f:{...we&&we._f?we._f:{ref:{name:se}},name:se,mount:!0,...xe}}),o.mount.add(se),we?pe({disabled:Ns(xe.disabled)?xe.disabled:t.disabled,name:se}):P(se,!0,xe.value),{...qe?{disabled:xe.disabled||t.disabled}:{},...t.progressive?{required:!!xe.required,min:jf(xe.min),max:jf(xe.max),minLength:jf(xe.minLength),maxLength:jf(xe.maxLength),pattern:jf(xe.pattern)}:{},name:se,onChange:q,onBlur:q,ref:Re=>{if(Re){te(se,xe),we=St(n,se);const Be=en(Re.value)&&Re.querySelectorAll&&Re.querySelectorAll("input,select,textarea")[0]||Re,nt=hD(Be),pt=we._f.refs||[];if(nt?pt.find(ct=>ct===Be):Be===we._f.ref)return;Tr(n,se,{_f:{...we._f,...nt?{refs:[...pt.filter(d1),Be,...Array.isArray(St(a,se))?[{}]:[]],ref:{type:Be.type,name:se}}:{ref:Be}}}),P(se,!1,void 0,Be)}else we=St(n,se,{}),we._f&&(we._f.mount=!1),(t.shouldUnregister||xe.shouldUnregister)&&!(sD(o.array,se)&&s.action)&&o.unMount.add(se)}}},be=()=>t.shouldFocusError&&Gf(n,V,o.mount),Te=se=>{Ns(se)&&(m.state.next({disabled:se}),Gf(n,(xe,we)=>{const qe=St(n,we);qe&&(xe.disabled=qe._f.disabled||se,Array.isArray(qe._f.refs)&&qe._f.refs.forEach(Re=>{Re.disabled=qe._f.disabled||se}))},0,!1))},ye=(se,xe)=>async we=>{let qe;we&&(we.preventDefault&&we.preventDefault(),we.persist&&we.persist());let Re=kn(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:Be,values:nt}=await N();r.errors=Be,Re=kn(nt)}else await F(n);if(o.disabled.size)for(const Be of o.disabled)un(Re,Be);if(un(r.errors,"root"),Ma(r.errors)){m.state.next({errors:{}});try{await se(Re,we)}catch(Be){qe=Be}}else xe&&await xe({...r.errors},we),be(),setTimeout(be);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ma(r.errors)&&!qe,submitCount:r.submitCount+1,errors:r.errors}),qe)throw qe},Ze=(se,xe={})=>{St(n,se)&&(en(xe.defaultValue)?H(se,kn(St(a,se))):(H(se,xe.defaultValue),Tr(a,se,kn(xe.defaultValue))),xe.keepTouched||un(r.touchedFields,se),xe.keepDirty||(un(r.dirtyFields,se),r.isDirty=xe.defaultValue?A(se,kn(St(a,se))):A()),xe.keepError||(un(r.errors,se),f.isValid&&p()),m.state.next({...r}))},Ke=(se,xe={})=>{const we=se?kn(se):a,qe=kn(we),Re=Ma(se),Be=Re?a:qe;if(xe.keepDefaultValues||(a=we),!xe.keepValues){if(xe.keepDirtyValues){const nt=new Set([...o.mount,...Object.keys(Qc(a,i))]);for(const pt of Array.from(nt))St(r.dirtyFields,pt)?Tr(Be,pt,St(i,pt)):H(pt,St(Be,pt))}else{if(Bx&&en(se))for(const nt of o.mount){const pt=St(n,nt);if(pt&&pt._f){const ct=Array.isArray(pt._f.refs)?pt._f.refs[0]:pt._f.ref;if(Wh(ct)){const gt=ct.closest("form");if(gt){gt.reset();break}}}}if(xe.keepFieldsRef)for(const nt of o.mount)H(nt,St(Be,nt));else n={}}i=t.shouldUnregister?xe.keepDefaultValues?kn(a):{}:kn(Be),m.array.next({values:{...Be}}),m.state.next({values:{...Be}})}o={mount:xe.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!f.isValid||!!xe.keepIsValid||!!xe.keepDirtyValues,s.watch=!!t.shouldUnregister,m.state.next({submitCount:xe.keepSubmitCount?r.submitCount:0,isDirty:Re?!1:xe.keepDirty?r.isDirty:!!(xe.keepDefaultValues&&!$o(se,a)),isSubmitted:xe.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Re?{}:xe.keepDirtyValues?xe.keepDefaultValues&&i?Qc(a,i):r.dirtyFields:xe.keepDefaultValues&&se?Qc(a,se):xe.keepDirty?r.dirtyFields:{},touchedFields:xe.keepTouched?r.touchedFields:{},errors:xe.keepErrors?r.errors:{},isSubmitSuccessful:xe.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:a})},De=(se,xe)=>Ke(ts(se)?se(i):se,xe),fe=(se,xe={})=>{const we=St(n,se),qe=we&&we._f;if(qe){const Re=qe.refs?qe.refs[0]:qe.ref;Re.focus&&(Re.focus(),xe.shouldSelect&&ts(Re.select)&&Re.select())}},Ve=se=>{r={...r,...se}},et={control:{register:te,unregister:ge,getFieldState:ce,handleSubmit:ye,setError:I,_subscribe:z,_runSchema:N,_focusError:be,_getWatch:S,_getDirty:A,_setValid:p,_setFieldArray:y,_setDisabledField:pe,_setErrors:w,_getFieldArray:M,_reset:Ke,_resetDefaultValues:()=>ts(t.defaultValues)&&t.defaultValues().then(se=>{De(se,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:L,_disableForm:Te,_subjects:m,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return s},set _state(se){s=se},get _defaultValues(){return a},get _names(){return o},set _names(se){o=se},get _formState(){return r},get _options(){return t},set _options(se){t={...t,...se}}},subscribe:Z,trigger:W,register:te,handleSubmit:ye,watch:B,setValue:H,getValues:ne,reset:De,resetField:Ze,clearErrors:C,unregister:ge,setError:I,setFocus:fe,getFieldState:ce};return{...et,formControl:et}}function Ta(e={}){const t=_a.useRef(void 0),r=_a.useRef(void 0),[n,a]=_a.useState({isDirty:!1,isValidating:!1,isLoading:ts(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ts(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!ts(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:s,...o}=jD(e);t.current={...o,formState:n}}const i=t.current.control;return i._options=e,uD(()=>{const s=i._subscribe({formState:i._proxyFormState,callback:()=>a({...i._formState}),reRenderRoot:!0});return a(o=>({...o,isReady:!0})),i._formState.isReady=!0,s},[i]),_a.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),_a.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),_a.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),_a.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),_a.useEffect(()=>{if(i._proxyFormState.isDirty){const s=i._getDirty();s!==n.isDirty&&i._subjects.state.next({isDirty:s})}},[i,n.isDirty]),_a.useEffect(()=>{e.values&&!$o(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,a(s=>({...s}))):i._resetDefaultValues()},[i,e.values]),_a.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=cD(n,i),t.current}const ED=()=>{const[e,t]=T.useState("checking"),[r,n]=T.useState(null),[a,i]=T.useState(!1),s=async()=>{var f,d,m,h;i(!0),n(null);try{const g=await Qi.get("/system/health");g.status===200&&g.data?t("connected"):(t("error"),n("Unexpected response from server"))}catch(g){t("error"),g.code==="ERR_NETWORK"||g.message.includes("Network Error")?n("Cannot connect to Laravel API. Please ensure it's running on http://localhost:8000"):((f=g.response)==null?void 0:f.status)===404?n("Health endpoint not found. Please check Laravel API routes."):((d=g.response)==null?void 0:d.status)===500?n("Laravel server error. Check Laravel logs for details."):n(((h=(m=g.response)==null?void 0:m.data)==null?void 0:h.message)||g.message||"Unknown error occurred")}finally{i(!1)}};T.useEffect(()=>{s()},[]);const o=()=>{switch(e){case"connected":return l.jsx(Xm,{className:"w-5 h-5 text-green-600"});case"error":return l.jsx(xO,{className:"w-5 h-5 text-red-600"});default:return l.jsx(pu,{className:"w-5 h-5 text-yellow-600"})}},c=()=>{switch(e){case"connected":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";default:return"bg-yellow-50 border-yellow-200"}},u=()=>{switch(e){case"connected":return"Backend Connected";case"error":return"Backend Connection Failed";default:return"Checking Backend..."}};return l.jsxs("div",{className:`p-4 rounded-lg border ${c()}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[o(),l.jsx("span",{className:"ml-2 font-medium text-gray-900",children:u()})]}),l.jsx("button",{onClick:s,disabled:a,className:"btn-secondary text-xs px-2 py-1",children:a?l.jsx(ca,{className:"w-3 h-3 animate-spin"}):l.jsx(ca,{className:"w-3 h-3"})})]}),r&&l.jsxs("div",{className:"mt-2 text-sm text-gray-600",children:[l.jsx("strong",{children:"Error:"})," ",r]}),e==="error"&&l.jsxs("div",{className:"mt-3 text-sm text-gray-600",children:[l.jsx("strong",{children:"Quick Fix:"}),l.jsxs("ol",{className:"list-decimal list-inside mt-1 space-y-1",children:[l.jsxs("li",{children:["Ensure Laravel API is running: ",l.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"php artisan serve"})]}),l.jsx("li",{children:"Check CORS configuration in Laravel"}),l.jsx("li",{children:"Verify API routes are properly defined"})]})]}),e==="connected"&&l.jsx("div",{className:"mt-2 text-sm text-green-700",children:" Backend is running and accessible. You can now use all features."})]})},Hh="/assets/adminType-c4923907.png",$N="/assets/Data-Savvy-6-4d4495b2.jpg",PD=()=>{const{login:e,isAuthenticated:t,isLoading:r}=Rn(),[n,a]=T.useState(!1),[i,s]=T.useState(!1),[o,c]=T.useState(""),{register:u,handleSubmit:f,formState:{errors:d}}=Ta();if(t)return l.jsx(Ym,{to:"/dashboard",replace:!0});if(r)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-secondary-50",children:l.jsx(pr,{size:"lg"})});const m=async h=>{s(!0),c("");try{const g=await e(h);g.success||(c(g.message||"Login failed. Please try again."),s(!1))}catch(g){console.error("Login error:",g),c("An error occurred. Please try again."),s(!1)}};return l.jsxs("div",{className:"min-h-screen flex",children:[l.jsxs("div",{className:"hidden  lg:flex lg:w-1/2 bg-gradient-to-br from-primary-100 to-primary-800 relative overflow-hidden",children:[l.jsx("div",{className:" absolute min-h-screen flex  justify-center ",children:l.jsx("img",{className:"min-h-screen  m-auto items-center w-full object-cover",src:$N,alt:"IMS Background"})}),l.jsx("div",{className:"absolute  inset-0 bg-black bg-opacity-60"}),l.jsx("div",{className:"relative z-10 flex flex-col justify-center px-12 text-white",children:l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"w-64 m-auto bg-white bg-opacity-100 position-relative rounded-full items-center justify-center mb-6",children:l.jsx("img",{src:Hh,alt:"Logo IMS"})}),l.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Inventory Management System"})]})})]}),l.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-8 bg-white",children:l.jsxs("div",{className:"max-w-md w-full space-y-6 sm:space-y-8",children:[l.jsxs("div",{className:"lg:hidden text-center",children:[l.jsx("div",{className:"mx-auto h-16 w-16  rounded-full flex items-center justify-center mb-4",children:l.jsx("img",{src:Hh,alt:"logo"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Welcome Back"}),l.jsx("p",{className:"text-gray-600",children:"Sign in to your account"})]}),l.jsxs("div",{className:"hidden lg:block",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Welcome Back"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Please sign in to your account"})]}),o&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[l.jsx(pu,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0"}),l.jsx("span",{className:"text-red-700 text-sm",children:o})]}),l.jsxs("form",{className:"space-y-4 sm:space-y-6",onSubmit:f(m),children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(J4,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{...u("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Please enter a valid email address"}}),type:"email",className:"input pl-10",placeholder:"Enter your email"})]}),d.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Ih,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{...u("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:n?"text":"password",className:"input pl-10 pr-10",placeholder:"Enter your password"}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>a(!n),children:n?l.jsx(sv,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):l.jsx(Wa,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),d.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:d.password.message})]})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),l.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),l.jsx("div",{className:"text-sm",children:l.jsx("a",{href:"#",className:"font-medium text-primary-600 hover:text-primary-500",children:"Forgot your password?"})})]}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:i,className:"btn-primary w-full justify-center",children:i?l.jsxs(l.Fragment,{children:[l.jsx(pr,{size:"sm"}),l.jsx("span",{className:"ml-2",children:"Signing in..."})]}):"Sign in"})}),l.jsx("div",{className:"text-center",children:l.jsxs("span",{className:"text-sm text-gray-600",children:["Don't have an account?"," ",l.jsx(sd,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign up"})]})})]}),l.jsx("div",{className:"mt-6 sm:mt-8",children:l.jsx(ED,{})})]})})]})},TD={login:e=>ut.post("/auth/login",e),register:e=>ut.post("/auth/register",e),logout:()=>ut.post("/auth/logout"),getProfile:()=>ut.get("/auth/profile"),updateProfile:(e,t)=>ut.put(`/auth/profile/${e}`,t),changePassword:e=>ut.post("/auth/change-password",e),uploadProfileImage:(e,t)=>ut.post(`/auth/profile/${e}/upload-image`,t,{headers:{"Content-Type":"multipart/form-data"}})},CD=()=>{const{isAuthenticated:e,isLoading:t}=Rn(),[r,n]=T.useState(!1),[a,i]=T.useState(!1),[s,o]=T.useState(!1),[c,u]=T.useState(""),[f,d]=T.useState(!1),{register:m,handleSubmit:h,formState:{errors:g},watch:p}=Ta(),x=p("password");if(e)return l.jsx(Ym,{to:"/dashboard",replace:!0});if(t)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-secondary-50",children:l.jsx(pr,{size:"lg"})});const y=async _=>{var w,P;o(!0),u("");try{(await TD.register(_)).data.success&&(d(!0),Xe.success("Account created successfully! Please login to continue."))}catch(E){const D=((P=(w=E.response)==null?void 0:w.data)==null?void 0:P.message)||"Registration failed. Please try again.";u(D),Xe.error(D)}finally{o(!1)}};return f?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-secondary-50 p-4",children:l.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Xm,{className:"w-8 h-8 text-green-600"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Account Created!"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Your account has been created successfully. You can now sign in with your credentials."}),l.jsx(sd,{to:"/login",className:"btn-primary w-full justify-center",children:"Go to Login"})]})}):l.jsxs("div",{className:"min-h-screen flex",children:[l.jsxs("div",{className:"hidden  lg:flex lg:w-1/2 bg-gradient-to-br from-primary-100 to-primary-800 relative overflow-hidden",children:[l.jsx("div",{className:" absolute min-h-screen flex  justify-center ",children:l.jsx("img",{className:"min-h-screen fixed  m-auto items-center w-full object-cover",src:$N,alt:"IMS Background"})}),l.jsx("div",{className:"absolute  inset-0 bg-black bg-opacity-60"}),l.jsx("div",{className:"relative z-10 flex flex-col justify-center px-12 text-white",children:l.jsxs("div",{className:"mb-8",children:[l.jsx("div",{className:"w-64 m-auto fixed top-36 ml-40 bg-white bg-opacity-100 position-relative rounded-full items-center justify-center t-20",children:l.jsx("img",{src:Hh,alt:"Logo IMS"})}),l.jsxs("p",{className:"text-xl fixed text-primary-100 leading-relaxed",children:["Create your account and start managing your inventory with ",l.jsx("br",{})," our powerful tools. Get access to comprehensive features designed ",l.jsx("br",{})," for modern businesses."]})]})})]}),l.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-8 bg-white",children:l.jsxs("div",{className:"max-w-md w-full space-y-6 sm:space-y-8",children:[l.jsxs("div",{className:"lg:hidden text-center",children:[l.jsx("div",{className:"mx-auto h-16 w-16 bg-primary-600 rounded-full flex items-center justify-center mb-4",children:l.jsx("img",{src:Hh,alt:"logo"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Account"}),l.jsx("p",{className:"text-gray-600",children:"Join us today"})]}),l.jsxs("div",{className:"hidden lg:block",children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Create Account"}),l.jsx("p",{className:"mt-2 text-gray-600",children:"Please fill in your information"})]}),c&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[l.jsx(pu,{className:"w-5 h-5 text-red-500 mr-3 flex-shrink-0"}),l.jsx("span",{className:"text-red-700 text-sm",children:c})]}),l.jsxs("form",{className:"space-y-4 sm:space-y-6",onSubmit:h(y),children:[l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Xo,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{...m("name",{required:"Full name is required",minLength:{value:2,message:"Name must be at least 2 characters"}}),type:"text",className:"input pl-10",placeholder:"Enter your full name"})]}),g.name&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.name.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(J4,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{...m("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Please enter a valid email address"}}),type:"email",className:"input pl-10",placeholder:"Enter your email"})]}),g.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Ih,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{...m("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,message:"Password must contain at least one uppercase letter, one lowercase letter, and one number"}}),type:r?"text":"password",className:"input pl-10 pr-10",placeholder:"Create a strong password"}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>n(!r),children:r?l.jsx(sv,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):l.jsx(Wa,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),g.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.password.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password_confirmation",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm Password"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(Ih,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{...m("password_confirmation",{required:"Please confirm your password",validate:_=>_===x||"Passwords do not match"}),type:a?"text":"password",className:"input pl-10 pr-10",placeholder:"Confirm your password"}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>i(!a),children:a?l.jsx(sv,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):l.jsx(Wa,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]}),g.password_confirmation&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.password_confirmation.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Address (Optional)"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 pt-3 pointer-events-none",children:l.jsx(yO,{className:"h-5 w-5 text-gray-400"})}),l.jsx("textarea",{rows:3,className:"input pl-10 resize-none",placeholder:"Enter your address"})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number (Optional)"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(bO,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{type:"tel",className:"input pl-10",placeholder:"Enter your phone number"})]}),g.phone&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.phone.message})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{id:"terms",name:"terms",type:"checkbox",...m("terms",{required:"You must accept the terms and conditions"}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),l.jsxs("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-700",children:["I agree to the"," ",l.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-500",children:"Terms and Conditions"})," ","and"," ",l.jsx("a",{href:"#",className:"text-primary-600 hover:text-primary-500",children:"Privacy Policy"})]})]}),g.terms&&l.jsx("p",{className:"text-sm text-red-600",children:g.terms.message}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:s,className:"btn-primary w-full justify-center",children:s?l.jsxs(l.Fragment,{children:[l.jsx(pr,{size:"sm"}),l.jsx("span",{className:"ml-2",children:"Creating account..."})]}):"Create Account"})}),l.jsx("div",{className:"text-center",children:l.jsxs("span",{className:"text-sm text-gray-600",children:["Already have an account?"," ",l.jsx(sd,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Sign in"})]})})]})]})})]})},OD="modulepreload",kD=function(e){return"/"+e},qw={},Go=function(t,r,n){if(!r||r.length===0)return t();const a=document.getElementsByTagName("link");return Promise.all(r.map(i=>{if(i=kD(i),i in qw)return;qw[i]=!0;const s=i.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!n)for(let f=a.length-1;f>=0;f--){const d=a[f];if(d.href===i&&(!s||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${o}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":OD,s||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),s)return new Promise((f,d)=>{u.addEventListener("load",f),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>t()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})},LD=()=>{const{user:e,updateUser:t}=Rn(),r=[{value:"admin",label:" Admin",description:"Full system access"},{value:"manager",label:" Manager",description:"Management level access"},{value:"sales_staff",label:" Sales Staff",description:"Sales focused permissions"},{value:"inventory_staff",label:" Inventory Staff",description:"Inventory focused permissions"},{value:"user",label:" User",description:"Read-only access"}],n=i=>{const s=r.find(o=>o.value===i);t({type:i}),Xe.success(`Switched to ${s.label}`)},a=localStorage.getItem("token");return!a||!a.startsWith("demo-token-")?null:l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:[l.jsx("h3",{className:"text-sm font-medium text-yellow-800 mb-2",children:" Demo Mode - Role Switcher"}),l.jsxs("p",{className:"text-xs text-yellow-700 mb-3",children:["Current role: ",l.jsx("strong",{children:e==null?void 0:e.type})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-2",children:r.map(i=>l.jsx("button",{onClick:()=>n(i.value),className:`p-2 text-xs rounded border transition-colors ${(e==null?void 0:e.type)===i.value?"bg-yellow-200 border-yellow-400 text-yellow-900":"bg-white border-yellow-300 text-yellow-700 hover:bg-yellow-100"}`,title:i.description,children:i.label},i.value))})]})},DD=()=>{var E,D,N,k,F;const{user:e}=Rn(),t=Cx(),r=()=>{console.log("Navigating to Products page..."),t("/products")},n=()=>{console.log("Navigating to Orders page..."),t("/orders")},a=()=>{console.log("Navigating to Analytics page..."),t("/analytics")},i=()=>{console.log("Scrolling to Low Stock section...");const L=document.querySelector('[data-section="low-stock"]');L&&(L.scrollIntoView({behavior:"smooth"}),L.classList.add("ring-2","ring-yellow-400","ring-opacity-75"),setTimeout(()=>{L.classList.remove("ring-2","ring-yellow-400","ring-opacity-75")},3e3))},[s,o]=T.useState(null),[c,u]=T.useState(!0),[f,d]=T.useState(null),m=async()=>{try{u(!0);const{productService:L}=await Go(()=>Promise.resolve().then(()=>FD),void 0),{orderService:A}=await Go(()=>Promise.resolve().then(()=>hq),void 0),{paymentService:S}=await Go(()=>Promise.resolve().then(()=>vq),void 0),[M,U,G]=await Promise.all([L.getAll(),A.getAll(),S.getAll()]);console.log("Dashboard API Responses:",{products:M,orders:U,payments:G});const H=C=>{var I;return C&&(((I=C.data)==null?void 0:I.data)||C.data||C)||[]},q=H(M),V=H(U),W=H(G);console.log("Dashboard data loaded:",{products:q.length,orders:V.length,payments:W.length});const ne=q.filter(C=>{const I=parseInt(C.qty||0),B=parseInt(C.reorder_point||10);return I<=B}),ce=V.sort((C,I)=>new Date(I.created_at||I.ord_date)-new Date(C.created_at||C.ord_date)).slice(0,5);o({products:q,orders:V,lowStock:ne,recentOrders:ce,payments:W}),d(null)}catch(L){console.error("Dashboard data fetch error:",L),o({products:[],orders:[],lowStock:[],recentOrders:[],payments:[]}),d(L)}finally{u(!1)}};if(T.useEffect(()=>{m()},[]),c)return l.jsx(pr,{className:"h-64"});if(f)return l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-red-600 mb-4",children:"Error loading dashboard data"}),l.jsx("button",{onClick:()=>window.location.reload(),className:"btn-primary",children:"Retry"})]});const h=Array.isArray(s==null?void 0:s.orders)?Object.values(s.orders.reduce((L,A)=>(!A||!A.id||(L[A.id]=L[A.id]?{...L[A.id],...A}:A),L),{})):[],g=h.length,p=h.reduce((L,A)=>L+parseFloat(A.total||0),0),x=new Date().getMonth(),y=new Date().getFullYear(),_=Array.isArray(s==null?void 0:s.orders)?s.orders.filter(L=>{const A=new Date(L.ord_date||L.created_at);return A.getMonth()===x&&A.getFullYear()===y}):[],w=Array.isArray(s==null?void 0:s.payments)?s.payments.filter(L=>{const A=new Date(L.pay_date||L.created_at);return A.getMonth()===x&&A.getFullYear()===y}).reduce((L,A)=>L+parseFloat(A.deposit||A.amount||0),0):0,P=[{name:"Total Products",value:((E=s==null?void 0:s.products)==null?void 0:E.length)||0,icon:Sn,color:"bg-blue-500",subtext:`${Array.isArray(s==null?void 0:s.products)?s.products.filter(L=>L.status==="active").length:0} active`,changeType:"neutral"},{name:"Total Orders",value:g||0,icon:ss,color:"bg-green-500",subtext:`${_.length} this month`,changeType:"positive"},{name:"Total Revenue",value:Vr(p),icon:Z4,color:"bg-purple-500",subtext:`${Vr(w)} this month`,changeType:"positive"},{name:"Low Stock Items",value:((D=s==null?void 0:s.lowStock)==null?void 0:D.length)||0,icon:Ah,color:"bg-red-500",subtext:"Need attention",changeType:"warning"}];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),l.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",(e==null?void 0:e.name)||(e==null?void 0:e.full_name)||((N=e==null?void 0:e.profile)==null?void 0:N.full_name)||(e==null?void 0:e.username)||(e==null?void 0:e.email)||"User"]})]}),l.jsxs("div",{className:"flex space-x-2",children:[l.jsx(LD,{}),l.jsx("button",{onClick:m,className:"btn-secondary",disabled:c,children:"Refresh"})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:P.map((L,A)=>{const S=L.icon;return l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:`${L.color} rounded-md p-3`,children:l.jsx(S,{className:"h-6 w-6 text-white"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:L.name}),l.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:L.value}),l.jsx("p",{className:"text-sm text-gray-500",children:L.subtext})]})]})},A)})}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("button",{onClick:r,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx(Sn,{className:"h-8 w-8 text-blue-600 mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"Add Product"})]}),l.jsxs("button",{onClick:n,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx(ss,{className:"h-8 w-8 text-green-600 mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"New Order"})]}),l.jsxs("button",{onClick:i,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx(Ah,{className:"h-8 w-8 text-red-600 mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"Check Low Stock"})]}),l.jsxs("button",{onClick:a,className:"flex flex-col items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx(Dh,{className:"h-8 w-8 text-purple-600 mb-2"}),l.jsx("span",{className:"text-sm font-medium",children:"View Reports"})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Orders"}),((k=s==null?void 0:s.recentOrders)==null?void 0:k.length)>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.recentOrders.map(L=>l.jsxs("tr",{children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",L.id||L.ord_id]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Mr(L.ord_date||L.created_at)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:Vr(L.total||0)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:L.status||"Completed"})})]},L.id||L.ord_id))})]})}):l.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent orders found"})]}),((F=s==null?void 0:s.lowStock)==null?void 0:F.length)>0&&l.jsxs("div",{className:"bg-white rounded-lg shadow p-6","data-section":"low-stock",children:[l.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[l.jsx(Ah,{className:"h-5 w-5 text-red-500 mr-2"}),"Low Stock Alert"]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.lowStock.slice(0,6).map(L=>l.jsxs("div",{className:"border border-red-200 rounded-lg p-4 bg-red-50",children:[l.jsx("h3",{className:"font-medium text-gray-900",children:L.prod_name||L.name}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Current Stock: ",L.qty||0]}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Reorder Point: ",L.reorder_point||10]})]},L.id||L.prod_id))}),s.lowStock.length>6&&l.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["And ",s.lowStock.length-6," more items need attention"]})]})]})},h1=()=>Promise.resolve({data:[{id:1,pro_name:"Laptop Dell XPS 13",pro_description:"High-performance ultrabook with Intel Core i7",category_id:1,brand_id:1,upis:1200,sup:1500,qty:25,reorder_point:10,reorder_quantity:20,batch_number:"BATCH001",expiration_date:"2025-12-31",status:"active",image_url:null,category:{id:1,name:"Laptops"},brand:{id:1,name:"Dell"},created_at:"2024-01-01T00:00:00Z"},{id:2,pro_name:"iPhone 15 Pro",pro_description:"Latest iPhone with A17 Pro chip",category_id:2,brand_id:2,upis:999,sup:1199,qty:15,reorder_point:5,reorder_quantity:10,batch_number:"BATCH002",expiration_date:null,status:"active",image_url:null,category:{id:2,name:"Smartphones"},brand:{id:2,name:"Apple"},created_at:"2024-01-02T00:00:00Z"},{id:3,pro_name:"Samsung Galaxy S24",pro_description:"Premium Android smartphone",category_id:2,brand_id:3,upis:899,sup:1099,qty:8,reorder_point:10,reorder_quantity:15,batch_number:"BATCH003",expiration_date:null,status:"active",image_url:null,category:{id:2,name:"Smartphones"},brand:{id:3,name:"Samsung"},created_at:"2024-01-03T00:00:00Z"},{id:4,pro_name:"MacBook Air M3",pro_description:"Apple laptop with M3 chip",category_id:1,brand_id:2,upis:1099,sup:1299,qty:12,reorder_point:8,reorder_quantity:12,batch_number:"BATCH004",expiration_date:null,status:"active",image_url:null,created_at:"2024-01-04T00:00:00Z"},{id:5,pro_name:"Wireless Mouse",pro_description:"Ergonomic wireless mouse",category_id:3,brand_id:4,upis:25,sup:35,qty:15,reorder_point:20,reorder_quantity:30,batch_number:"BATCH005",expiration_date:null,status:"active",image_url:null,created_at:"2024-01-05T00:00:00Z"},{id:6,pro_name:"USB-C Cable",pro_description:"High-speed USB-C charging cable",category_id:3,brand_id:4,upis:10,sup:15,qty:3,reorder_point:15,reorder_quantity:25,batch_number:"BATCH006",expiration_date:null,status:"active",image_url:null,created_at:"2024-01-06T00:00:00Z"}]}),Lo=()=>{const e=localStorage.getItem("token");return e&&e.startsWith("demo-token-")},fc={getAll:e=>Lo()?h1():ut.get("/products",e),getById:e=>Lo()?h1().then(t=>({data:t.data.find(n=>n.id===parseInt(e))})):ut.get(`/products/${e}`),create:e=>Lo()?Promise.resolve({data:{id:Date.now(),...e,created_at:new Date().toISOString()}}):e instanceof FormData?vu("/products",e).then(t=>t.data):ut.post("/products",e),update:(e,t)=>Lo()?Promise.resolve({data:{id:parseInt(e),...t,updated_at:new Date().toISOString()}}):t instanceof FormData?(t.append("_method","PUT"),vu(`/products/${e}`,t).then(r=>r.data)):ut.put(`/products/${e}`,t),delete:e=>Lo()?Promise.resolve({data:{message:"Product deleted successfully"}}):ut.delete(`/products/${e}`),deactivate:e=>Lo()?Promise.resolve({data:{message:"Product deactivated successfully"}}):ut.post(`/products/${e}/deactivate`),activate:e=>Lo()?Promise.resolve({data:{message:"Product activated successfully"}}):ut.post(`/products/${e}/activate`),getLowStock:e=>Lo()?h1().then(t=>({data:t.data.filter(n=>n.qty<=n.reorder_point)})):ut.get("/products/low-stock",e),getExpired:e=>ut.get("/products/expired",e),getNearExpiration:e=>ut.get("/products/near-expiration",e)},FD=Object.freeze(Object.defineProperty({__proto__:null,productService:fc},Symbol.toStringTag,{value:"Module"})),sp=(e={})=>{const[t,r]=T.useState(null),[n,a]=T.useState(!0),[i,s]=T.useState(null),o=JSON.stringify(e),c=T.useCallback(async()=>{try{a(!0);const u=await fc.getAll(JSON.parse(o));r(u),s(null)}catch(u){s(u)}finally{a(!1)}},[o]);return T.useEffect(()=>{c()},[c]),{data:t,isLoading:n,error:i,refetch:c}},ID=e=>{const[t,r]=T.useState(!1),n=async a=>{var i,s;try{r(!0);const o=await fc.create(a);return Xe.success("Product created successfully"),e&&e(),o}catch(o){throw Xe.error(((s=(i=o.response)==null?void 0:i.data)==null?void 0:s.message)||"Failed to create product"),o}finally{r(!1)}};return{mutate:n,mutateAsync:n,isLoading:t}},qN=e=>{const[t,r]=T.useState(!1),n=async({id:a,data:i})=>{var s,o;try{r(!0);const c=await fc.update(a,i);return Xe.success("Product updated successfully"),e&&e(),c}catch(c){throw Xe.error(((o=(s=c.response)==null?void 0:s.data)==null?void 0:o.message)||"Failed to update product"),c}finally{r(!1)}};return{mutate:n,mutateAsync:n,isLoading:t}},MD=e=>{const[t,r]=T.useState(!1),n=async a=>{var i,s;try{r(!0);const o=await fc.delete(a);return Xe.success("Product deleted successfully"),e&&e(),o}catch(o){throw Xe.error(((s=(i=o.response)==null?void 0:i.data)==null?void 0:s.message)||"Failed to delete product"),o}finally{r(!1)}};return{mutate:n,mutateAsync:n,isLoading:t}},RD=e=>{const[t,r]=T.useState(!1),n=async a=>{var i,s;try{r(!0);const o=await fc.deactivate(a);return Xe.success("Product deactivated successfully"),e&&e(),o}catch(o){throw Xe.error(((s=(i=o.response)==null?void 0:i.data)==null?void 0:s.message)||"Failed to deactivate product"),o}finally{r(!1)}};return{mutate:n,mutateAsync:n,isLoading:t}},BD=e=>{const[t,r]=T.useState(!1),n=async a=>{var i,s;try{r(!0);const o=await fc.activate(a);return Xe.success("Product activated successfully"),e&&e(),o}catch(o){throw Xe.error(((s=(i=o.response)==null?void 0:i.data)==null?void 0:s.message)||"Failed to activate product"),o}finally{r(!1)}};return{mutate:n,mutateAsync:n,isLoading:t}},Gi=[{id:1,cat_id:1,cat_name:"Electronics",cat_desc:"Electronic devices and accessories",status:"active",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:2,cat_id:2,cat_name:"Clothing",cat_desc:"Apparel and fashion items",status:"active",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:3,cat_id:3,cat_name:"Books",cat_desc:"Books and educational materials",status:"active",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:4,cat_id:4,cat_name:"Home & Garden",cat_desc:"Home improvement and garden supplies",status:"active",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"},{id:5,cat_id:5,cat_name:"Sports",cat_desc:"Sports equipment and accessories",status:"active",created_at:"2024-01-01T00:00:00Z",updated_at:"2024-01-01T00:00:00Z"}];let m1=6;const Ef={getAll:async()=>(await new Promise(e=>setTimeout(e,100)),{data:Gi,success:!0,message:"Categories retrieved successfully"}),getById:async e=>{await new Promise(r=>setTimeout(r,100));const t=Gi.find(r=>r.id===parseInt(e)||r.cat_id===parseInt(e));if(!t)throw new Error("Category not found");return{data:t,success:!0,message:"Category retrieved successfully"}},create:async e=>{await new Promise(r=>setTimeout(r,200));const t={id:m1,cat_id:m1,cat_name:e.cat_name||e.name,cat_desc:e.cat_desc||e.description||"",status:e.status||"active",created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return Gi.push(t),m1++,{data:t,success:!0,message:"Category created successfully"}},update:async(e,t)=>{await new Promise(a=>setTimeout(a,200));const r=Gi.findIndex(a=>a.id===parseInt(e)||a.cat_id===parseInt(e));if(r===-1)throw new Error("Category not found");const n={...Gi[r],cat_name:t.cat_name||t.name||Gi[r].cat_name,cat_desc:t.cat_desc||t.description||Gi[r].cat_desc,status:t.status||Gi[r].status,updated_at:new Date().toISOString()};return Gi[r]=n,{data:n,success:!0,message:"Category updated successfully"}},delete:async e=>{await new Promise(n=>setTimeout(n,200));const t=Gi.findIndex(n=>n.id===parseInt(e)||n.cat_id===parseInt(e));if(t===-1)throw new Error("Category not found");return{data:Gi.splice(t,1)[0],success:!0,message:"Category deleted successfully"}}},op={getAll:async()=>{try{return await ut.get("/categories")}catch{return console.warn("API not available, falling back to mock data"),(await Ef.getAll()).data}},getById:async e=>{try{return await ut.get(`/categories/${e}`)}catch{return console.warn("API not available, falling back to mock data"),(await Ef.getById(e)).data}},create:async e=>{try{return(await(await Go(()=>Promise.resolve().then(()=>Sw),void 0)).default.post("/categories",e,{headers:{"Content-Type":void 0}})).data}catch{return console.warn("API not available, falling back to mock data"),await Ef.create(e)}},update:async(e,t)=>{try{return t instanceof FormData?(t.append("_method","PUT"),(await(await Go(()=>Promise.resolve().then(()=>Sw),void 0)).default.post(`/categories/${e}`,t,{headers:{"Content-Type":void 0}})).data):await ut.put(`/categories/${e}`,t)}catch{return console.warn("API not available, falling back to mock data"),await Ef.update(e,t)}},delete:async(e,t=!1)=>{try{const r=t?`/categories/${e}?force=true`:`/categories/${e}`;return await ut.delete(r)}catch{return console.warn("API not available, falling back to mock data"),await Ef.delete(e)}}},zx=()=>{const[e,t]=T.useState(null),[r,n]=T.useState(!0),[a,i]=T.useState(null),s=async()=>{try{n(!0);const o=await op.getAll();t(o),i(null)}catch(o){i(o),console.error("Categories fetch failed:",o)}finally{n(!1)}};return T.useEffect(()=>{s();const o=setInterval(s,6e4);return()=>clearInterval(o)},[]),{data:e,isLoading:r,error:a,refetch:s}},UD=()=>{const[e,t]=T.useState(!1),[r,n]=T.useState(null);return{mutateAsync:async i=>{var s,o,c,u;try{t(!0),n(null);const f=await op.create(i);return Xe.success("Category created successfully"),f}catch(f){n(f),console.error("Category creation failed:",f);const d=((o=(s=f.response)==null?void 0:s.data)==null?void 0:o.message)||((u=(c=f.response)==null?void 0:c.data)==null?void 0:u.error)||"Failed to create category";throw Xe.error(d),f}finally{t(!1)}},isLoading:e,error:r}},WN=()=>{const[e,t]=T.useState(!1),[r,n]=T.useState(null);return{mutateAsync:async({id:i,data:s})=>{var o,c,u,f;try{t(!0),n(null),console.log("useUpdateCategory mutation called with:",{id:i,data:s});const d=await op.update(i,s);return Xe.success("Category updated successfully"),d}catch(d){n(d),console.error("Category update failed:",d);const m=((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.message)||((f=(u=d.response)==null?void 0:u.data)==null?void 0:f.error)||"Failed to update category";throw Xe.error(m),d}finally{t(!1)}},isLoading:e,error:r}},$D=()=>{const[e,t]=T.useState(!1),[r,n]=T.useState(null);return{mutateAsync:async(i,s=!1)=>{var o,c,u,f,d,m,h;try{t(!0),n(null);const g=await op.delete(i,s);return Xe.success("Category deleted successfully"),g}catch(g){if(n(g),console.error("Category deletion failed:",g),((o=g.response)==null?void 0:o.status)===422&&((u=(c=g.response)==null?void 0:c.data)!=null&&u.can_force_delete))throw g;const p=((d=(f=g.response)==null?void 0:f.data)==null?void 0:d.message)||((h=(m=g.response)==null?void 0:m.data)==null?void 0:h.error)||"Failed to delete category";throw Xe.error(p),g}finally{t(!1)}},isLoading:e,error:r}},qD=()=>Promise.resolve({data:[{id:1,name:"Dell",code:"DELL",description:"Dell Technologies",status:"active",created_at:"2024-01-01T00:00:00Z"},{id:2,name:"Apple",code:"APPL",description:"Apple Inc.",status:"active",created_at:"2024-01-02T00:00:00Z"},{id:3,name:"Samsung",code:"SAMS",description:"Samsung Electronics",status:"active",created_at:"2024-01-03T00:00:00Z"},{id:4,name:"Logitech",code:"LOGI",description:"Logitech International",status:"active",created_at:"2024-01-04T00:00:00Z"}]}),WD=()=>{const e=localStorage.getItem("token");return e&&e.startsWith("demo-token-")},lp={getAll:()=>WD()?qD():ut.get("/brands"),getById:e=>ut.get(`/brands/${e}`),create:e=>ut.post("/brands",e),update:(e,t)=>ut.put(`/brands/${e}`,t),delete:e=>ut.delete(`/brands/${e}`)},zN=()=>{const[e,t]=T.useState(null),[r,n]=T.useState(!0),[a,i]=T.useState(null),s=T.useCallback(async()=>{try{n(!0);const o=await lp.getAll();t(o),i(null)}catch(o){i(o)}finally{n(!1)}},[]);return T.useEffect(()=>{s()},[s]),{data:e,isLoading:r,error:a,refetch:s}},zD=()=>{const[e,t]=T.useState(!1),r=async n=>{var a,i;try{t(!0);const s=await lp.create(n);return Xe.success("Brand created successfully"),s}catch(s){throw Xe.error(((i=(a=s.response)==null?void 0:a.data)==null?void 0:i.message)||"Failed to create brand"),s}finally{t(!1)}};return{mutate:r,mutateAsync:r,isLoading:e}},HD=()=>{const[e,t]=T.useState(!1),r=async({id:n,data:a})=>{var i,s;try{t(!0);const o=await lp.update(n,a);return Xe.success("Brand updated successfully"),o}catch(o){throw Xe.error(((s=(i=o.response)==null?void 0:i.data)==null?void 0:s.message)||"Failed to update brand"),o}finally{t(!1)}};return{mutate:r,mutateAsync:r,isLoading:e}},VD=()=>{const[e,t]=T.useState(!1),r=async n=>{var a,i;try{t(!0);const s=await lp.delete(n);return Xe.success("Brand deleted successfully"),s}catch(s){throw Xe.error(((i=(a=s.response)==null?void 0:a.data)==null?void 0:i.message)||"Failed to delete brand"),s}finally{t(!1)}};return{mutate:r,mutateAsync:r,isLoading:e}},GD=e=>{if(!e)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const t=e.match(/^(\d{2})\/(\d{2})\/(\d{4})$/);if(t){const[,s,o,c]=t;return`${c}-${o}-${s}`}const r=new Date(e);if(Number.isNaN(r.getTime()))return"";const n=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),i=String(r.getDate()).padStart(2,"0");return`${n}-${a}-${i}`},KD=({product:e,mode:t,onClose:r,onSuccess:n})=>{const a=t==="view",i=t==="edit",[s,o]=T.useState(null),{data:c}=zx(),{data:u}=zN(),f=ID(),d=qN(),m=(c==null?void 0:c.data)||c||[],h=(u==null?void 0:u.data)||u||[],{register:g,handleSubmit:p,formState:{errors:x},reset:y}=Ta({defaultValues:{pro_name:"",pro_description:"",category_id:"",brand_id:"",upis:"",sup:"",qty:"",reorder_point:10,reorder_quantity:50,batch_number:"",expiration_date:"",status:"active",image:null,...e}});T.useEffect(()=>{e&&(y({pro_name:e.pro_name||"",pro_description:e.pro_description||"",category_id:e.category_id||"",brand_id:e.brand_id||"",upis:e.upis||"",sup:e.sup||"",qty:e.qty||"",reorder_point:e.reorder_point||10,reorder_quantity:e.reorder_quantity||50,batch_number:e.batch_number||"",expiration_date:GD(e.expiration_date||""),status:e.status||"active",image:null}),o(null))},[e,y]);const _=E=>{const D=E.target.files[0];if(D){const N=new FileReader;N.onloadend=()=>{o(N.result)},N.readAsDataURL(D)}else o(null)},w=async E=>{var D;try{const N=E.image&&E.image[0];let k;if(N){const A=new FormData;A.append("pro_name",E.pro_name||""),A.append("pro_description",E.pro_description||""),A.append("category_id",parseInt(E.category_id)||""),A.append("brand_id",E.brand_id||""),A.append("upis",parseFloat(E.upis)||0),A.append("sup",parseFloat(E.sup)||0),A.append("qty",parseInt(E.qty)||0),A.append("reorder_point",parseInt(E.reorder_point)||10),A.append("reorder_quantity",parseInt(E.reorder_quantity)||50),A.append("batch_number",E.batch_number||""),A.append("expiration_date",E.expiration_date||""),A.append("status",E.status||"active"),A.append("image",E.image[0]),k=A}else k={pro_name:E.pro_name||"",pro_description:E.pro_description||"",category_id:parseInt(E.category_id)||null,brand_id:E.brand_id||null,upis:parseFloat(E.upis)||0,sup:parseFloat(E.sup)||0,qty:parseInt(E.qty)||0,reorder_point:parseInt(E.reorder_point)||10,reorder_quantity:parseInt(E.reorder_quantity)||50,batch_number:E.batch_number||"",expiration_date:E.expiration_date||null,status:E.status||"active"};let F;i?F=await d.mutateAsync({id:e.id,data:k}):F=await f.mutateAsync(k);const L=F&&(((D=F.data)==null?void 0:D.data)||F.data||F)||null;typeof n=="function"&&await n({type:i?"update":"create",product:L}),r()}catch(N){console.error("Submit failed:",N)}},P=f.isLoading||d.isLoading;return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[95vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200 sticky top-0 bg-white",children:[l.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:t==="create"?"Add New Product":t==="edit"?"Edit Product":"Product Details"}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 p-1",children:l.jsx(Kr,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),l.jsxs("form",{onSubmit:p(w),className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),l.jsx("input",{...g("pro_name",{required:"Product name is required"}),type:"text",className:"input text-sm sm:text-base",disabled:a,placeholder:"Enter product name"}),x.pro_name&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.pro_name.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),l.jsxs("select",{...g("category_id",{required:"Category is required"}),className:"input text-sm sm:text-base",disabled:a,children:[l.jsx("option",{value:"",children:"Select Category"}),Array.isArray(m)&&m.map(E=>l.jsx("option",{value:E.id,children:E.name},E.id))]}),x.category_id&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.category_id.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand"}),l.jsxs("select",{...g("brand_id"),className:"input text-sm sm:text-base",disabled:a,children:[l.jsx("option",{value:"",children:"Select Brand (Optional)"}),Array.isArray(h)&&h.map(E=>l.jsx("option",{value:E.id,children:E.name},E.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit Price *"}),l.jsx("input",{...g("upis",{required:"Unit price is required",min:{value:0,message:"Price must be positive"}}),type:"number",step:"0.01",className:"input text-sm sm:text-base",disabled:a,placeholder:"0.00"}),x.upis&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.upis.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sale Price"}),l.jsx("input",{...g("sup",{min:{value:0,message:"Price must be positive"}}),type:"number",step:"0.01",className:"input text-sm sm:text-base",disabled:a,placeholder:"0.00"}),x.sup&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.sup.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity *"}),l.jsx("input",{...g("qty",{required:"Quantity is required",min:{value:0,message:"Quantity must be positive"}}),type:"number",className:"input text-sm sm:text-base",disabled:a,placeholder:"0"}),x.qty&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.qty.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reorder Point"}),l.jsx("input",{...g("reorder_point",{min:{value:0,message:"Reorder point must be positive"}}),type:"number",className:"input text-sm sm:text-base",disabled:a,placeholder:"10"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reorder Quantity *"}),l.jsx("input",{...g("reorder_quantity",{required:"Reorder quantity is required",min:{value:1,message:"Reorder quantity must be at least 1"}}),type:"number",className:"input text-sm sm:text-base",disabled:a,placeholder:"50"}),x.reorder_quantity&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.reorder_quantity.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch Number"}),l.jsx("input",{...g("batch_number"),type:"text",className:"input text-sm sm:text-base",disabled:a,placeholder:"Enter batch number"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiration Date"}),l.jsx("input",{...g("expiration_date"),type:"date",className:"input text-sm sm:text-base",disabled:a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),l.jsxs("select",{...g("status"),className:"input text-sm sm:text-base",disabled:a,children:[l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"})]})]}),l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Image"}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsx("div",{className:"flex-shrink-0",children:s?l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-lg overflow-hidden border-2 border-primary-500",children:l.jsx("img",{src:s,alt:"Preview",className:"w-full h-full object-cover"})}),l.jsx("p",{className:"text-xs text-gray-600 mt-1 text-center",children:"New Image"})]}):(i||t==="view")&&(e!=null&&e.image)?l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-lg overflow-hidden border border-gray-300",children:l.jsx("img",{src:Qo(e.image,oa.base_image_url),alt:"Product",className:"w-full h-full object-cover"})}),l.jsx("p",{className:"text-xs text-gray-600 mt-1 text-center",children:"Current Image"})]}):l.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-lg flex items-center justify-center border border-dashed border-gray-300",children:l.jsx(Hf,{className:"w-12 h-12 text-gray-400"})})}),!a&&l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 hover:border-primary-400 transition-colors",children:l.jsxs("div",{className:"flex flex-col items-center justify-center text-center",children:[l.jsx(kx,{className:"w-8 h-8 text-gray-400 mb-2"}),l.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer",children:[l.jsx("span",{className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Click to upload"}),l.jsx("span",{className:"text-sm text-gray-500",children:" or drag and drop"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF up to 10MB"}),l.jsx("input",{id:"image-upload",...g("image",{onChange:_}),type:"file",accept:"image/*",className:"hidden"})]})}),l.jsx("p",{className:"mt-2 text-xs text-gray-500",children:i?"Upload new image to replace current one (optional)":"Upload product image (optional)"})]})]})]}),l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{...g("pro_description"),rows:3,className:"input text-sm sm:text-base resize-none",disabled:a,placeholder:"Enter product description"})]})]}),!a&&l.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-4 border-t border-gray-200",children:[l.jsx("button",{type:"button",onClick:r,className:"btn-secondary w-full sm:w-auto order-2 sm:order-1",disabled:P,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary w-full sm:w-auto order-1 sm:order-2",disabled:P,children:i?"Update Product":"Create Product"})]}),a&&l.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:l.jsx("button",{type:"button",onClick:r,className:"btn-secondary w-full sm:w-auto",children:"Close"})})]})]})})},vv=({items:e,title:t,type:r="product"})=>{const[n,a]=T.useState(null),[i,s]=T.useState("grid"),o=h=>{var g,p;return r==="product"?h.image_url||(h.image?`http://localhost:8000/storage/${h.image}`:null):r==="staff"?((g=h.profile)==null?void 0:g.image_url)||((p=h.profile)!=null&&p.image?`http://localhost:8000/storage/${h.profile.image}`:null):null},c=h=>r==="product"?h.pro_name:r==="staff"?h.name:"Unknown",u=h=>{var g;return r==="product"?{category:((g=h.category)==null?void 0:g.name)||"No Category",price:`$${h.upis||0}`,stock:`${h.qty||0} units`,status:h.status||"unknown"}:r==="staff"?{position:h.position||"Staff",department:h.department||"General",email:h.email||"No Email",status:h.status||"active"}:{}},f=(e==null?void 0:e.filter(h=>o(h)))||[],d=(h,g)=>{const p=document.createElement("a");p.href=h,p.download=`${g.replace(/\s+/g,"_")}_image.jpg`,document.body.appendChild(p),p.click(),document.body.removeChild(p)},m=async(h,g)=>{if(navigator.share)try{await navigator.share({title:`${g} Image`,url:h})}catch(p){console.log("Error sharing:",p)}else navigator.clipboard.writeText(h),alert("Image URL copied to clipboard!")};return l.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 sm:p-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:[" ",t," Gallery"]}),l.jsxs("p",{className:"text-gray-600",children:[f.length," ",r,"s with photos"]})]}),l.jsxs("div",{className:"flex items-center space-x-2 mt-4 sm:mt-0",children:[l.jsx("button",{onClick:()=>s("grid"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${i==="grid"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Grid View"}),l.jsx("button",{onClick:()=>s("list"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${i==="list"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"List View"})]})]}),f.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Wa,{className:"w-12 h-12 text-gray-400"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Photos Available"}),l.jsxs("p",{className:"text-gray-500",children:["No ",r,"s have photos uploaded yet. Add some photos to see them here!"]})]}):l.jsxs(l.Fragment,{children:[i==="grid"&&l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:f.map(h=>{const g=o(h),p=c(h),x=u(h);return l.jsxs("div",{className:"group relative bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>a({item:h,imageUrl:g,itemName:p,details:x}),children:[l.jsx("div",{className:"aspect-square bg-gray-200",children:l.jsx("img",{src:g,alt:p,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"})}),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-300 flex items-center justify-center",children:l.jsx(wO,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),l.jsxs("div",{className:"p-3",children:[l.jsx("h3",{className:"font-medium text-gray-900 text-sm truncate",children:p}),l.jsx("p",{className:"text-xs text-gray-500 truncate",children:r==="product"?x.category:x.position})]})]},h.id)})}),i==="list"&&l.jsx("div",{className:"space-y-4",children:f.map(h=>{const g=o(h),p=c(h),x=u(h);return l.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors cursor-pointer",onClick:()=>a({item:h,imageUrl:g,itemName:p,details:x}),children:[l.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0",children:l.jsx("img",{src:g,alt:p,className:"w-full h-full object-cover",loading:"lazy"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("h3",{className:"font-medium text-gray-900 truncate",children:p}),l.jsx("div",{className:"flex flex-wrap gap-4 mt-1 text-sm text-gray-500",children:Object.entries(x).map(([y,_])=>l.jsxs("span",{className:"capitalize",children:[y,": ",l.jsx("span",{className:"font-medium",children:_})]},y))})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:y=>{y.stopPropagation(),d(g,p)},className:"p-2 text-gray-400 hover:text-blue-600 transition-colors",title:"Download",children:l.jsx(Jl,{className:"w-4 h-4"})}),l.jsx("button",{onClick:y=>{y.stopPropagation(),m(g,p)},className:"p-2 text-gray-400 hover:text-green-600 transition-colors",title:"Share",children:l.jsx(nw,{className:"w-4 h-4"})})]})]},h.id)})})]}),n&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"relative max-w-4xl max-h-full",children:[l.jsx("button",{onClick:()=>a(null),className:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors",children:l.jsx(Kr,{className:"w-8 h-8"})}),l.jsxs("div",{className:"bg-white rounded-lg overflow-hidden",children:[l.jsx("img",{src:n.imageUrl,alt:n.itemName,className:"max-w-full max-h-[70vh] object-contain"}),l.jsxs("div",{className:"p-4 sm:p-6",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:n.itemName}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 text-sm",children:Object.entries(n.details).map(([h,g])=>l.jsxs("div",{children:[l.jsxs("span",{className:"text-gray-500 capitalize",children:[h,":"]}),l.jsx("p",{className:"font-medium text-gray-900",children:g})]},h))}),l.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-4 pt-4 border-t",children:[l.jsxs("button",{onClick:()=>d(n.imageUrl,n.itemName),className:"btn-secondary text-sm",children:[l.jsx(Jl,{className:"w-4 h-4 mr-2"}),"Download"]}),l.jsxs("button",{onClick:()=>m(n.imageUrl,n.itemName),className:"btn-primary text-sm",children:[l.jsx(nw,{className:"w-4 h-4 mr-2"}),"Share"]})]})]})]})]})})]})},YD=()=>{var H;const{hasPermission:e}=Rn(),[t,r]=T.useState(""),[n,a]=T.useState(null),[i,s]=T.useState(!1),[o,c]=T.useState("create"),[u,f]=T.useState("table"),{data:d,isLoading:m,error:h,refetch:g}=sp(),p=MD(g),x=qN(g),y=BD(g),_=RD(g),w=Array.isArray((H=d==null?void 0:d.data)==null?void 0:H.data)?d.data.data:Array.isArray(d==null?void 0:d.data)?d.data:Array.isArray(d)?d:null,[P,E]=T.useState([]);T.useEffect(()=>{Array.isArray(w)&&E(w)},[w]);const D=Array.isArray(P),N=Array.isArray(P)?P.filter(q=>(q.pro_name||"").toLowerCase().includes(t.toLowerCase())||(q.description||"").toLowerCase().includes(t.toLowerCase())||(q.barcode||"").toLowerCase().includes(t.toLowerCase())):[],k=()=>{a(null),c("create"),s(!0)},F=q=>{a(q),c("edit"),s(!0)},L=q=>{a(q),c("view"),s(!0)},A=async q=>{var V,W,ne,ce;if(window.confirm(`Are you sure you want to delete "${q.pro_name}"?`))try{E(C=>C.filter(I=>I.id!==q.id)),await p.mutate(q.id),g()}catch(C){if(console.error("Delete failed:",C),((V=C.response)==null?void 0:V.status)===422&&((ce=(ne=(W=C.response)==null?void 0:W.data)==null?void 0:ne.message)!=null&&ce.includes("transaction history"))&&window.confirm(`Cannot delete "${q.pro_name}" because it has transaction history.

Would you like to mark it as inactive instead?`))try{E(B=>B.map(z=>z.id===q.id?{...z,status:"inactive"}:z)),await x.mutate({id:q.id,data:{...q,status:"inactive"}}),g()}catch(B){console.error("Deactivate failed:",B),Xe.error("Failed to deactivate product"),g()}}},S=async q=>{const V=q.status==="active",W=V?"deactivate":"activate";if(window.confirm(`Are you sure you want to ${W} "${q.pro_name}"?`))try{V?await _.mutate(q.id):await y.mutate(q.id)}catch(ne){console.error(`${W} failed:`,ne)}};if(m&&!d)return l.jsx(pr,{className:"h-64"});if(h)return l.jsxs("div",{className:"text-red-600 p-4 bg-red-50 rounded",children:["Error loading products: ",h.message,l.jsx("button",{onClick:g,className:"ml-4 px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700",children:"Retry"})]});const M=e(["create","create_product"]),U=e(["update","update_product"]),G=e("delete");return l.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Products"}),l.jsx("p",{className:"text-sm sm:text-base text-gray-600",children:t?`${N.length} of ${P.length} products`:`${N.length} total products`})]}),M&&l.jsxs("button",{onClick:k,className:"btn-primary w-full sm:w-auto",children:[l.jsx(za,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"sm:inline",children:"Add Product"})]})]}),l.jsx("div",{className:"bg-white rounded-lg shadow p-4 sm:p-6",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 sm:w-5 sm:h-5"}),l.jsx("input",{type:"text",placeholder:"Search products...",value:t,onChange:q=>r(q.target.value),className:"input pl-9 sm:pl-10 text-sm sm:text-base"})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("button",{className:"btn-secondary sm:w-auto",children:[l.jsx(_O,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"sm:inline",children:"Filter"})]}),l.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[l.jsx("button",{onClick:()=>f("table"),className:`p-2 rounded-md transition-colors ${u==="table"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"Table View",children:l.jsx(Q4,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>f("gallery"),className:`p-2 rounded-md transition-colors ${u==="gallery"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,title:"Gallery View",children:l.jsx(eN,{className:"w-4 h-4"})})]})]})]})}),u==="table"&&l.jsx("div",{className:"block sm:hidden space-y-4",children:D&&(N==null?void 0:N.map(q=>{var V;return l.jsxs("div",{className:"bg-white rounded-lg shadow p-4",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center flex-1 min-w-0",children:[l.jsxs("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center mr-3 flex-shrink-0 overflow-hidden border border-gray-200",children:[q.image_url||q.image?l.jsx("img",{src:q.image_url||Qo(q.image,oa.base_image_url),alt:q.pro_name,className:"w-full h-full object-cover cursor-pointer",onClick:()=>L(q),onError:W=>{console.log("Mobile image failed to load:",W.target.src),W.target.style.display="none";const ne=W.target.parentNode.querySelector(".fallback-icon");ne&&(ne.style.display="flex",ne.classList.remove("hidden"))},onLoad:W=>{console.log("Mobile image loaded successfully:",W.target.src)}}):null,l.jsx(Sn,{className:`fallback-icon w-8 h-8 text-gray-400 ${q.image_url||q.image?"hidden":""}`})]}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("h3",{className:"font-medium text-gray-900 truncate",children:q.pro_name}),l.jsx("p",{className:"text-sm text-gray-500 line-clamp-2",children:q.pro_description})]})]}),l.jsxs("div",{className:"flex items-center space-x-2 ml-2",children:[l.jsx("button",{onClick:()=>L(q),className:"text-gray-400 hover:text-gray-600 p-1",title:"View",children:l.jsx(Wa,{className:"w-4 h-4"})}),U&&l.jsx("button",{onClick:()=>F(q),className:"text-blue-400 hover:text-blue-600 p-1",title:"Edit",children:l.jsx(Li,{className:"w-4 h-4"})}),U&&l.jsx("button",{onClick:()=>S(q),className:`p-1 ${q.status==="active"?"text-orange-400 hover:text-orange-600":"text-green-400 hover:text-green-600"}`,title:q.status==="active"?"Deactivate":"Activate",children:q.status==="active"?l.jsx(aw,{className:"w-4 h-4"}):l.jsx(iw,{className:"w-4 h-4"})}),G&&l.jsx("button",{onClick:()=>A(q),className:"text-red-400 hover:text-red-600 p-1",title:"Delete",children:l.jsx(Ha,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Category:"}),l.jsx("p",{className:"font-medium",children:((V=q.category)==null?void 0:V.name)||"N/A"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Price:"}),l.jsx("p",{className:"font-medium",children:Vr(q.sup)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Stock:"}),l.jsx("p",{className:`font-medium ${q.qty<=(q.reorder_point||10)?"text-red-600":"text-gray-900"}`,children:q.qty})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-gray-500",children:"Status:"}),l.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${Pw(q.status)}`,children:q.status})]})]})]},q.id)}))}),u==="table"&&l.jsxs("div",{className:"hidden sm:block bg-white rounded-lg shadow overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-head",children:"Image"}),l.jsx("th",{className:"table-head",children:"Product"}),l.jsx("th",{className:"table-head",children:"Category"}),l.jsx("th",{className:"table-head",children:"Price"}),l.jsx("th",{className:"table-head",children:"Stock"}),l.jsx("th",{className:"table-head",children:"Status"}),l.jsx("th",{className:"table-head",children:"Created"}),l.jsx("th",{className:"table-head",children:"Actions"})]})}),l.jsx("tbody",{children:D&&(N==null?void 0:N.map(q=>{var V;return l.jsxs("tr",{className:"table-row",children:[l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden border border-gray-200",children:[q.image_url||q.image?l.jsx("img",{src:q.image_url||Qo(q.image,oa.base_image_url),alt:q.pro_name,className:"w-full h-full object-cover cursor-pointer hover:opacity-75 transition-opacity",onClick:()=>L(q),onError:W=>{console.log("Desktop image failed to load:",W.target.src),W.target.style.display="none";const ne=W.target.parentNode.querySelector(".fallback-icon");ne&&(ne.style.display="flex",ne.classList.remove("hidden"))},onLoad:W=>{console.log("Desktop image loaded successfully:",W.target.src)}}):null,l.jsx(Sn,{className:`fallback-icon w-8 h-8 text-gray-400 ${q.image_url||q.image?"hidden":""}`})]})}),l.jsx("td",{className:"table-cell",children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:q.pro_name}),l.jsx("div",{className:"text-sm text-gray-500 line-clamp-2",children:q.pro_description})]})}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:"text-sm text-gray-900",children:((V=q.category)==null?void 0:V.name)||"N/A"})}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:"font-medium text-gray-900",children:Vr(q.sup)})}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:`font-medium ${q.qty<=(q.reorder_point||10)?"text-red-600":"text-gray-900"}`,children:q.qty})}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Pw(q.status)}`,children:q.status})}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:"text-sm text-gray-500",children:Mr(q.created_at)})}),l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>L(q),className:"text-gray-400 hover:text-gray-600",title:"View",children:l.jsx(Wa,{className:"w-4 h-4"})}),U&&l.jsx("button",{onClick:()=>F(q),className:"text-blue-400 hover:text-blue-600",title:"Edit",children:l.jsx(Li,{className:"w-4 h-4"})}),U&&l.jsx("button",{onClick:()=>S(q),className:`${q.status==="active"?"text-orange-400 hover:text-orange-600":"text-green-400 hover:text-green-600"}`,title:q.status==="active"?"Deactivate":"Activate",children:q.status==="active"?l.jsx(aw,{className:"w-4 h-4"}):l.jsx(iw,{className:"w-4 h-4"})}),G&&l.jsx("button",{onClick:()=>A(q),className:"text-red-400 hover:text-red-600",title:"Delete",children:l.jsx(Ha,{className:"w-4 h-4"})})]})})]},q.id)}))})]})}),D&&(P==null?void 0:P.length)===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Sn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No products found"}),l.jsx("p",{className:"text-gray-500",children:t?"Try adjusting your search terms":"Get started by adding your first product"})]})]}),u==="gallery"&&l.jsx(vv,{items:N,title:"Products",type:"product"}),i&&l.jsx(KD,{product:n,mode:o,onClose:()=>s(!1),onSuccess:({type:q,product:V})=>{s(!1),V&&E(W=>q==="create"?[V,...W]:q==="update"?W.map(ne=>ne.id===V.id?{...ne,...V}:ne):W),g()}})]})},XD=({category:e,mode:t,onClose:r,onSuccess:n})=>{var P,E;const[a,i]=T.useState({name:(e==null?void 0:e.name)||"",description:(e==null?void 0:e.description)||"",status:(e==null?void 0:e.status)||"active",image:null}),[s,o]=T.useState((e==null?void 0:e.image_url)||(e==null?void 0:e.image)||""),[c,u]=T.useState({}),f=T.useRef(null),d=UD(),m=WN(),h=t==="create"?d:m,g=["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/svg+xml"],p=()=>{const D={};return a.name.trim()?a.name.length<2?D.name="Name must be at least 2 characters":a.name.length>100&&(D.name="Name must not exceed 100 characters"):D.name="Name is required",a.description&&a.description.length>500&&(D.description="Description must not exceed 500 characters"),a.image&&(g.includes(a.image.type)||(D.image="Please select a valid image (JPEG, PNG, GIF, WEBP, SVG)"),a.image.size>5*1024*1024&&(D.image="Image size must be less than 5MB")),u(D),Object.keys(D).length===0},x=D=>{const N=D.target.files[0];if(N){if(!g.includes(N.type)){u({...c,image:"Please select a valid image (JPEG, PNG, GIF, WEBP, SVG)"});return}if(N.size>5*1024*1024){u({...c,image:"Image size must be less than 5MB"});return}i({...a,image:N}),u({...c,image:""});const k=new FileReader;k.onload=F=>o(F.target.result),k.readAsDataURL(N)}},y=()=>{i({...a,image:null}),o(""),f.current&&(f.current.value="")},_=async D=>{var N,k,F,L,A,S,M,U,G;if(D.preventDefault(),!!p())try{const H=new FormData;H.append("name",a.name.trim()),H.append("description",((N=a.description)==null?void 0:N.trim())||""),H.append("status",a.status),a.image&&(H.append("image",a.image),console.log("Image file:",a.image),console.log("Image name:",a.image.name),console.log("Image size:",a.image.size),console.log("Image type:",a.image.type)),console.log("FormData entries:");for(let[W,ne]of H.entries())console.log(W,ne);let q;t==="create"?(console.log("Creating category..."),q=await d.mutateAsync(H)):(console.log("Updating category..."),q=await m.mutateAsync({id:e.id,data:H}));const V=q&&(((k=q.data)==null?void 0:k.data)||q.data||q)||null;typeof n=="function"&&await n({type:t==="edit"?"update":"create",category:V}),r()}catch(H){if(console.error("Failed to save category:",H),console.error("Error response:",H.response),console.error("Error data:",(F=H.response)==null?void 0:F.data),console.error("Validation errors:",(A=(L=H.response)==null?void 0:L.data)==null?void 0:A.errors),(M=(S=H.response)==null?void 0:S.data)!=null&&M.errors){const q=H.response.data.errors,V={};Object.keys(q).forEach(W=>{V[W]=Array.isArray(q[W])?q[W].join(", "):q[W]}),u(V),console.log("Formatted errors:",V)}else(G=(U=H.response)==null?void 0:U.data)!=null&&G.message?u({general:H.response.data.message}):u({general:"Failed to save category. Please try again."})}},w=D=>{const{name:N,value:k}=D.target;i({...a,[N]:k}),c[N]&&u({...c,[N]:""})};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("h2",{className:"text-xl font-semibold",children:t==="create"?"Add Category":"Edit Category"}),t==="edit"&&(e==null?void 0:e.status)&&l.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${e.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:["Currently ",e.status]})]}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Kr,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:_,className:"p-6 space-y-4",children:[c.general&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:c.general}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Category Image ",t==="create"&&" *"]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("div",{className:"w-20 h-20 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center overflow-hidden",children:s?l.jsxs("div",{className:"relative",children:[l.jsx("img",{src:s,alt:"Preview",className:"w-full h-full object-cover"}),l.jsx("button",{type:"button",onClick:y,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1",children:l.jsx(Kr,{className:"w-3 h-3"})})]}):l.jsx(Hf,{className:"w-8 h-8 text-gray-400"})}),l.jsxs("div",{children:[l.jsx("input",{type:"file",ref:f,onChange:x,accept:"image/*",className:"hidden"}),l.jsxs("button",{type:"button",onClick:()=>{var D;return(D=f.current)==null?void 0:D.click()},className:"btn-secondary",children:[l.jsx(kx,{className:"w-4 h-4 mr-2"}),"Choose Image"]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Supported: JPEG, PNG, GIF, WEBP, SVG",l.jsx("br",{}),"Max size: 5MB"]})]})]}),c.image&&l.jsx("p",{className:"text-red-600 text-sm mt-1",children:c.image})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Name *"}),l.jsx("input",{type:"text",id:"name",name:"name",value:a.name,onChange:w,maxLength:100,className:`mt-1 block w-full rounded-md border ${c.name?"border-red-300":"border-gray-300"} px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"Enter category name"}),l.jsxs("div",{className:"flex justify-between items-center mt-1",children:[l.jsx("div",{children:c.name&&l.jsx("p",{className:"text-red-600 text-sm",children:c.name})}),l.jsxs("p",{className:"text-xs text-gray-500",children:[((P=a.name)==null?void 0:P.length)||0,"/100 characters"]})]})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700",children:"Description"}),l.jsx("textarea",{id:"description",name:"description",value:a.description,onChange:w,rows:3,maxLength:500,className:`mt-1 block w-full rounded-md border ${c.description?"border-red-300":"border-gray-300"} px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500`,placeholder:"Enter category description (optional)"}),l.jsxs("div",{className:"flex justify-between items-center mt-1",children:[l.jsx("div",{children:c.description&&l.jsx("p",{className:"text-red-600 text-sm",children:c.description})}),l.jsxs("p",{className:"text-xs text-gray-500",children:[((E=a.description)==null?void 0:E.length)||0,"/500 characters"]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Status *"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("label",{className:`relative flex items-center p-3 border-2 rounded-lg cursor-pointer transition-all ${a.status==="active"?"border-green-500 bg-green-50":"border-gray-200 hover:border-gray-300"}`,children:[l.jsx("input",{type:"radio",name:"status",value:"active",checked:a.status==="active",onChange:w,className:"sr-only"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${a.status==="active"?"border-green-500 bg-green-500":"border-gray-300"}`,children:a.status==="active"&&l.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"font-medium text-gray-900",children:"Active"}),l.jsx("span",{className:"text-green-600",children:""})]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Visible to users"})]})]})]}),l.jsxs("label",{className:`relative flex items-center p-3 border-2 rounded-lg cursor-pointer transition-all ${a.status==="inactive"?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"}`,children:[l.jsx("input",{type:"radio",name:"status",value:"inactive",checked:a.status==="inactive",onChange:w,className:"sr-only"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center ${a.status==="inactive"?"border-red-500 bg-red-500":"border-gray-300"}`,children:a.status==="inactive"&&l.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"font-medium text-gray-900",children:"Inactive"}),l.jsx("span",{className:"text-red-600",children:""})]}),l.jsx("p",{className:"text-xs text-gray-500",children:"Hidden from users"})]})]})]})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"You can change the status anytime after creating the category"})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 hover:text-gray-900",children:"Cancel"}),l.jsx("button",{type:"submit",disabled:h.isLoading,className:"btn-primary disabled:opacity-50",children:h.isLoading?l.jsx(pr,{className:"w-4 h-4"}):t==="create"?"Create Category":"Update Category"})]})]})]})})},p1="https://glistening-insight.up.railway.app/api/",JD=e=>{try{const t=new URL(e),n=t.pathname.replace(/^\/storage\//,"/api/storage/");return`${t.origin}${n}`}catch{return e}},ZD=e=>{if(e.startsWith("http"))try{const n=new URL(e).pathname.replace(/^\/storage\//,"").split("/");if(n.length>=2)return{folder:n[0],filename:n.slice(1).join("/")}}catch{return null}if(e.includes("/")){const t=e.split("/"),r=t.pop();return{folder:t.join("/"),filename:r}}return e.includes(".")?{folder:"categories",filename:e}:null},Ww=e=>{if(!e)return null;if(e.startsWith("http"))return JD(e);if(!e.includes(".")&&!e.includes("/"))return null;const t=ZD(e);return t?`${p1.endsWith("/")?p1.slice(0,-1):p1}/storage/${t.folder}/${t.filename}`:null},zw=e=>{const n=`<svg width="600" height="400" xmlns="http://www.w3.org/2000/svg"><rect width="600" height="400" fill="#e5e7eb"/><text x="50%" y="50%" font-family="Arial, sans-serif" font-size="24" fill="#6b7280" text-anchor="middle" dominant-baseline="middle">${(e||"Category").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}</text></svg>`;return`data:image/svg+xml;charset=UTF-8,${encodeURIComponent(n)}`},QD=()=>{const{hasPermission:e}=Rn(),[t,r]=T.useState(null),[n,a]=T.useState(!1),[i,s]=T.useState("create"),[o,c]=T.useState("grid"),[u,f]=T.useState(""),[d,m]=T.useState("all"),[h,g]=T.useState([]),[p,x]=T.useState("created_at"),[y,_]=T.useState("desc"),{data:w,isLoading:P,error:E,refetch:D}=zx(),N=$D(),k=WN(),F=T.useMemo(()=>{const W=(w==null?void 0:w.data)||w||[];return Array.isArray(W)?W:[]},[w]),L=Array.isArray(F),A=L?F.filter(W=>{const ne=W.name.toLowerCase().includes(u.toLowerCase())||W.description&&W.description.toLowerCase().includes(u.toLowerCase()),ce=d==="all"||W.status===d;return ne&&ce}).sort((W,ne)=>{let ce=W[p],C=ne[p];return(p==="created_at"||p==="updated_at")&&(ce=new Date(ce),C=new Date(C)),typeof ce=="string"&&(ce=ce.toLowerCase(),C=C.toLowerCase()),y==="asc"?ce>C?1:-1:ce<C?1:-1}):[],S=()=>{r(null),s("create"),a(!0)},M=W=>{r(W),s("edit"),a(!0)},U=async W=>{var ne,ce,C;try{window.confirm(`Are you sure you want to delete "${W.name}"?`)&&(await N.mutateAsync(W.id),D())}catch(I){if(((ne=I.response)==null?void 0:ne.status)===422&&((C=(ce=I.response)==null?void 0:ce.data)!=null&&C.can_force_delete)){const B=I.response.data.product_count;if(window.confirm(`"${W.name}" has ${B} product(s) associated with it.

Choose an option:
 OK: Delete category AND all ${B} products (PERMANENT)
 Cancel: Keep category and products

 WARNING: This will permanently delete all products in this category!`))try{await N.mutateAsync(W.id,!0),D()}catch(Z){console.error("Force delete failed:",Z),Xe.error("Force delete failed. Please try again."),D()}}else console.error("Delete failed:",I),D()}},G=async W=>{const ne=W.status==="active"?"inactive":"active";try{const ce=new FormData;ce.append("name",W.name),ce.append("description",W.description||""),ce.append("status",ne),await k.mutateAsync({id:W.id,data:ce}),D()}catch(ce){console.error("Status toggle failed:",ce),D()}};if(P&&!w)return l.jsx(pr,{className:"h-64"});if(E)return l.jsx("div",{className:"text-red-600",children:"Error loading categories"});const H=e(["create"]),q=e(["update"]),V=e(["delete"]);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Categories"}),l.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[l.jsx("p",{className:"text-gray-600",children:u?`${A.length} of ${F.length} categories`:`${A.length} total categories`}),L&&F.length>0&&l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("span",{className:"px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full",children:[F.filter(W=>W.status==="active").length," Active"]}),F.filter(W=>W.status==="inactive").length>0&&l.jsxs("span",{className:"px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full",children:[F.filter(W=>W.status==="inactive").length," Inactive"]})]})]})]}),l.jsx("div",{className:"flex space-x-2",children:H&&l.jsxs("button",{onClick:S,className:"btn-primary",children:[l.jsx(za,{className:"w-4 h-4 mr-2"}),"Add Category"]})})]}),L&&F.length>0&&l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:l.jsx(Nh,{className:"w-6 h-6 text-blue-600"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Categories"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F.length})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:l.jsx("div",{className:"w-6 h-6 bg-green-600 rounded-full"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Active"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F.filter(W=>W.status==="active").length})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:l.jsx("div",{className:"w-6 h-6 bg-red-600 rounded-full"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Inactive"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F.filter(W=>W.status==="inactive").length})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:l.jsx(Hf,{className:"w-6 h-6 text-purple-600"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"With Images"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F.filter(W=>W.image_url||W.image).length})]})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-4 space-y-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",placeholder:"Search categories...",value:u,onChange:W=>f(W.target.value),className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[l.jsx("button",{onClick:()=>c("grid"),className:`p-2 rounded-md transition-all ${o==="grid"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:l.jsx(eN,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>c("table"),className:`p-2 rounded-md transition-all ${o==="table"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:l.jsx(Q4,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Status:"}),l.jsxs("select",{value:d,onChange:W=>m(W.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"all",children:"All"}),l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"})]})]}),(u||d!=="all")&&l.jsx("button",{onClick:()=>{f(""),m("all")},className:"text-sm text-blue-600 hover:text-blue-800",children:"Clear Filters"})]}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Sort by:"}),l.jsxs("select",{value:p,onChange:W=>x(W.target.value),className:"border border-gray-300 rounded-md px-3 py-1 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l.jsx("option",{value:"created_at",children:"Created Date"}),l.jsx("option",{value:"name",children:"Name"}),l.jsx("option",{value:"status",children:"Status"}),l.jsx("option",{value:"updated_at",children:"Updated Date"})]})]}),l.jsx("button",{onClick:()=>_(y==="asc"?"desc":"asc"),className:"p-1 text-gray-600 hover:text-gray-900",title:`Sort ${y==="asc"?"Descending":"Ascending"}`,children:y==="asc"?"":""})]})]}),h.length>0&&l.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200",children:[l.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[h.length," categories selected"]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:async()=>{for(const W of h){const ne=F.find(ce=>ce.id===W);ne&&ne.status!=="active"&&await G(ne)}g([])},className:"px-3 py-1 bg-green-600 text-white text-sm rounded hover:bg-green-700",children:"Activate"}),l.jsx("button",{onClick:async()=>{for(const W of h){const ne=F.find(ce=>ce.id===W);ne&&ne.status!=="inactive"&&await G(ne)}g([])},className:"px-3 py-1 bg-gray-600 text-white text-sm rounded hover:bg-gray-700",children:"Deactivate"}),l.jsx("button",{onClick:()=>g([]),className:"px-3 py-1 bg-red-600 text-white text-sm rounded hover:bg-red-700",children:"Clear Selection"})]})]})]}),o==="grid"?l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:A.map(W=>l.jsxs("div",{className:"bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-200 overflow-hidden group relative",children:[l.jsx("div",{className:"absolute top-2 left-2 z-10",children:l.jsx("input",{type:"checkbox",checked:h.includes(W.id),onChange:ne=>{ne.target.checked?g([...h,W.id]):g(h.filter(ce=>ce!==W.id))},className:"w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500"})}),l.jsxs("div",{className:"aspect-video bg-gradient-to-br from-gray-100 to-gray-200 relative overflow-hidden",children:[(()=>{const ne=Ww(W.image_url||W.image);return ne?l.jsx("img",{src:ne,alt:W.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:ce=>{if(!ce.target.src.startsWith("data:")){const C=`img_error_${ce.target.src}`;sessionStorage.getItem(C)||(sessionStorage.setItem(C,"true"),console.warn(`Image failed to load: ${W.name}`,ce.target.src)),ce.target.src=zw(W.name)}},loading:"lazy"}):l.jsx("div",{className:"w-full h-full flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Hf,{className:"w-12 h-12 text-gray-400 mx-auto mb-2"}),l.jsx("p",{className:"text-xs text-gray-500",children:"No Image"})]})})})(),l.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100",children:l.jsxs("div",{className:"flex space-x-2",children:[q&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>G(W),className:`p-2 bg-white rounded-full transition-colors ${W.status==="active"?"text-red-600 hover:bg-red-50":"text-green-600 hover:bg-green-50"}`,title:W.status==="active"?"Deactivate (Make Inactive)":"Activate (Make Active)",children:W.status==="active"?"":""}),l.jsx("button",{onClick:()=>M(W),className:"p-2 bg-white rounded-full text-blue-600 hover:bg-blue-50 transition-colors",title:"Edit",children:l.jsx(Li,{className:"w-4 h-4"})})]}),V&&l.jsx("button",{onClick:()=>U(W),className:"p-2 bg-white rounded-full text-red-600 hover:bg-red-50 transition-colors",title:"Delete",children:l.jsx(Ha,{className:"w-4 h-4"})})]})})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("div",{className:"flex items-start justify-between mb-2",children:[l.jsx("h3",{className:"font-semibold text-gray-900 truncate flex-1 mr-2",children:W.name}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:`w-3 h-3 rounded-full cursor-pointer hover:scale-110 transition-transform ${W.status==="active"?"bg-green-500":"bg-red-500"}`,title:`Click to ${W.status==="active"?"deactivate":"activate"}`,onClick:()=>G(W)}),W.status&&l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full cursor-pointer hover:opacity-80 transition-opacity ${W.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,onClick:()=>G(W),title:`Click to ${W.status==="active"?"deactivate":"activate"}`,children:W.status})]})]}),l.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:W.description||"No description available"}),l.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[l.jsx("span",{children:"Created"}),l.jsx("span",{children:Mr(W.created_at)})]})]})]},W.id))}):l.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-head",children:l.jsx("input",{type:"checkbox",checked:h.length===A.length&&A.length>0,onChange:W=>{W.target.checked?g(A.map(ne=>ne.id)):g([])},className:"w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500"})}),l.jsx("th",{className:"table-head",children:"Image"}),l.jsx("th",{className:"table-head",children:"Name"}),l.jsx("th",{className:"table-head",children:"Description"}),l.jsx("th",{className:"table-head",children:"Status"}),l.jsx("th",{className:"table-head",children:"Created"}),l.jsx("th",{className:"table-head",children:"Actions"})]})}),l.jsx("tbody",{children:A.map(W=>l.jsxs("tr",{className:"table-row",children:[l.jsx("td",{className:"table-cell",children:l.jsx("input",{type:"checkbox",checked:h.includes(W.id),onChange:ne=>{ne.target.checked?g([...h,W.id]):g(h.filter(ce=>ce!==W.id))},className:"w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500"})}),l.jsx("td",{className:"table-cell",children:l.jsx("div",{className:"w-12 h-12 rounded-lg overflow-hidden bg-gray-100 flex items-center justify-center",children:(()=>{const ne=Ww(W.image_url||W.image);return ne?l.jsx("img",{src:ne,alt:W.name,className:"w-full h-full object-cover",onError:ce=>{if(!ce.target.src.startsWith("data:")){const C=`img_error_${ce.target.src}`;sessionStorage.getItem(C)||sessionStorage.setItem(C,"true"),ce.target.src=zw(W.name)}},loading:"lazy"}):l.jsx(Hf,{className:"w-6 h-6 text-gray-400"})})()})}),l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Nh,{className:"w-5 h-5 text-gray-400 mr-3"}),l.jsx("span",{className:"font-medium text-gray-900",children:W.name})]})}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:"text-gray-600",children:W.description||"N/A"})}),l.jsx("td",{className:"table-cell",children:W.status&&l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full cursor-pointer hover:opacity-80 transition-opacity ${W.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,onClick:()=>G(W),title:`Click to ${W.status==="active"?"deactivate":"activate"}`,children:W.status})}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:"text-sm text-gray-500",children:Mr(W.created_at)})}),l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[q&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>G(W),className:`p-1 rounded transition-colors ${W.status==="active"?"text-red-600 hover:bg-red-50":"text-green-600 hover:bg-green-50"}`,title:W.status==="active"?"Deactivate (Make Inactive)":"Activate (Make Active)",children:W.status==="active"?"":""}),l.jsx("button",{onClick:()=>M(W),className:"text-blue-400 hover:text-blue-600",title:"Edit",children:l.jsx(Li,{className:"w-4 h-4"})})]}),V&&l.jsx("button",{onClick:()=>U(W),className:"text-red-400 hover:text-red-600",title:"Delete",children:l.jsx(Ha,{className:"w-4 h-4"})})]})})]},W.id))})]})})}),A.length===0&&l.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[l.jsx(Nh,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:u?"No categories found":"No categories yet"}),l.jsx("p",{className:"text-gray-600 mb-6",children:u?`No categories match "${u}". Try a different search term.`:"Get started by creating your first category."}),H&&!u&&l.jsxs("button",{onClick:S,className:"btn-primary",children:[l.jsx(za,{className:"w-4 h-4 mr-2"}),"Add Category"]})]}),n&&l.jsx(XD,{category:t,mode:i,onClose:()=>a(!1),onSuccess:()=>{D()}})]})},eF=({brand:e,mode:t,onClose:r,onSuccess:n})=>{const a=t==="edit",i=zD(),s=HD(),{register:o,handleSubmit:c,formState:{errors:u},reset:f}=Ta({defaultValues:{name:"",code:"",description:"",status:"active",...e}});T.useEffect(()=>{e&&f(e)},[e,f]);const d=async h=>{var g;try{let p;if(a?p=await s.mutateAsync({id:e.id,data:h}):p=await i.mutateAsync(h),typeof n=="function"){const x=p&&(((g=p.data)==null?void 0:g.data)||p.data||p)||null;await n({type:a?"update":"create",brand:x})}r()}catch(p){console.error("Submit failed:",p)}},m=i.isLoading||s.isLoading;return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a?"Edit Brand":"Add New Brand"}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Kr,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:c(d),className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand Name *"}),l.jsx("input",{...o("name",{required:"Brand name is required"}),type:"text",className:"input",placeholder:"Enter brand name"}),u.name&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.name.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand Code *"}),l.jsx("input",{...o("code",{required:"Brand code is required"}),type:"text",className:"input",placeholder:"Enter brand code (e.g., APPLE, SAMSUNG)"}),u.code&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.code.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),l.jsxs("select",{...o("status",{required:"Status is required"}),className:"input",children:[l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"})]}),u.status&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.status.message})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:r,className:"btn-secondary",disabled:m,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:m,children:m?l.jsx(pr,{size:"sm"}):a?"Update Brand":"Create Brand"})]})]})]})})},tF=()=>{const{hasPermission:e}=Rn(),[t,r]=T.useState(null),[n,a]=T.useState(!1),[i,s]=T.useState("create"),{data:o,isLoading:c,error:u,refetch:f}=zN(),d=VD(),m=(o==null?void 0:o.data)||o||[],[h,g]=T.useState([]);T.useEffect(()=>{Array.isArray(m)&&g(m)},[m]);const p=Array.isArray(h),x=()=>{r(null),s("create"),a(!0)},y=D=>{r(D),s("edit"),a(!0)},_=async D=>{if(window.confirm(`Are you sure you want to delete "${D.name}"?`))try{g(N=>N.filter(k=>k.id!==D.id)),await d.mutateAsync(D.id),f()}catch(N){console.error("Delete failed:",N),f()}};if(c&&!o)return l.jsx(pr,{className:"h-64"});if(u)return l.jsx("div",{className:"text-red-600",children:"Error loading brands"});const w=e(["create"]),P=e(["update"]),E=e(["delete"]);return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Brands"}),l.jsx("p",{className:"text-gray-600",children:"Manage product brands"})]}),w&&l.jsxs("button",{onClick:x,className:"btn-primary",children:[l.jsx(za,{className:"w-4 h-4 mr-2"}),"Add Brand"]})]}),l.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-head",children:"Name"}),l.jsx("th",{className:"table-head",children:"Code"}),l.jsx("th",{className:"table-head",children:"Created"}),l.jsx("th",{className:"table-head",children:"Actions"})]})}),l.jsx("tbody",{children:p&&(h==null?void 0:h.map(D=>l.jsxs("tr",{className:"table-row",children:[l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(G4,{className:"w-5 h-5 text-gray-400 mr-3"}),l.jsx("span",{className:"font-medium text-gray-900",children:D.name})]})}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:"text-gray-600",children:D.code||"N/A"})}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:"text-sm text-gray-500",children:Mr(D.created_at)})}),l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[P&&l.jsx("button",{onClick:()=>y(D),className:"text-blue-400 hover:text-blue-600",children:l.jsx(Li,{className:"w-4 h-4"})}),E&&l.jsx("button",{onClick:()=>_(D),className:"text-red-400 hover:text-red-600",children:l.jsx(Ha,{className:"w-4 h-4"})})]})})]},D.id)))})]})})}),n&&l.jsx(eF,{brand:t,mode:i,onClose:()=>a(!1),onSuccess:({type:D,brand:N})=>{N&&g(k=>D==="create"?[N,...k]:D==="update"?k.map(F=>F.id===N.id?{...F,...N}:F):k),f()}})]})},Hw=()=>Promise.resolve({data:[{id:1,supplier:"Fashion Wholesale",contact_person:"Alice Johnson",email:"alice@fashionwholesale.com",phone:"+1234567890",address:"123 Business District, City",status:"active",created_at:"2024-01-01T00:00:00Z"},{id:2,supplier:"Microsofts",contact_person:"Bob Smith",email:"bob@microsofts.com",phone:"+1234567891",address:"456 Tech Park, City",status:"active",created_at:"2024-01-02T00:00:00Z"},{id:3,supplier:"adidas US",contact_person:"Carol Davis",email:"carol@adidas.com",phone:"+1234567892",address:"789 Sports Avenue, City",status:"active",created_at:"2024-01-03T00:00:00Z"}]}),K0=()=>{const e=localStorage.getItem("token");return e&&e.startsWith("demo-token-")},cp={getAll:()=>Hw(),getById:e=>K0()?Hw().then(t=>({data:t.data.find(n=>n.id===parseInt(e))})):ut.get(`/suppliers/${e}`),create:e=>K0()?Promise.resolve({data:{id:Date.now(),...e,created_at:new Date().toISOString()}}):ut.post("/suppliers",e),update:(e,t)=>K0()?Promise.resolve({data:{id:parseInt(e),...t,updated_at:new Date().toISOString()}}):ut.put(`/suppliers/${e}`,t),delete:e=>K0()?Promise.resolve({data:{message:"Supplier deleted successfully"}}):ut.delete(`/suppliers/${e}`)},Hx=()=>{const[e,t]=T.useState(null),[r,n]=T.useState(!0),[a,i]=T.useState(null),s=T.useCallback(async()=>{try{n(!0);const o=await cp.getAll();t(o),i(null)}catch(o){i(o)}finally{n(!1)}},[]);return T.useEffect(()=>{s()},[s]),{data:e,isLoading:r,error:a,refetch:s}},rF=e=>{const[t,r]=T.useState(!1),n=async a=>{var i,s;try{r(!0);const o=await cp.create(a);return Xe.success("Supplier created successfully"),e&&e(),o}catch(o){throw Xe.error(((s=(i=o.response)==null?void 0:i.data)==null?void 0:s.message)||"Failed to create supplier"),o}finally{r(!1)}};return{mutate:n,mutateAsync:n,isLoading:t}},nF=e=>{const[t,r]=T.useState(!1),n=async({id:a,data:i})=>{var s,o;try{r(!0);const c=await cp.update(a,i);return Xe.success("Supplier updated successfully"),e&&e(),c}catch(c){throw Xe.error(((o=(s=c.response)==null?void 0:s.data)==null?void 0:o.message)||"Failed to update supplier"),c}finally{r(!1)}};return{mutate:n,mutateAsync:n,isLoading:t}},aF=e=>{const[t,r]=T.useState(!1),n=async a=>{var i,s;try{r(!0);const o=await cp.delete(a);return Xe.success("Supplier deleted successfully"),e&&e(),o}catch(o){throw Xe.error(((s=(i=o.response)==null?void 0:i.data)==null?void 0:s.message)||"Failed to delete supplier"),o}finally{r(!1)}};return{mutate:n,mutateAsync:n,isLoading:t}},iF=({supplier:e,mode:t,onClose:r,onSuccess:n})=>{const a=t==="edit",i=rF(),s=nF(),{register:o,handleSubmit:c,formState:{errors:u},reset:f}=Ta({defaultValues:e||{}});T.useEffect(()=>{e&&f(e)},[e,f]);const d=async h=>{var g;try{let p;a?p=await s.mutateAsync({id:e.id,data:h}):p=await i.mutateAsync(h);const x=p&&(((g=p.data)==null?void 0:g.data)||p.data||p)||null;typeof n=="function"&&n({type:a?"update":"create",supplier:x}),r()}catch(p){console.error("Submit failed:",p)}},m=i.isLoading||s.isLoading;return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a?"Edit Supplier":"Add New Supplier"}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Kr,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:c(d),className:"p-6 space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier Name *"}),l.jsx("input",{...o("supplier",{required:"Supplier name is required"}),type:"text",className:"input"}),u.supplier&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.supplier.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact *"}),l.jsx("input",{...o("sup_con",{required:"Contact is required"}),type:"text",className:"input"}),u.sup_con&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.sup_con.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),l.jsx("textarea",{...o("sup_add",{required:"Address is required"}),rows:3,className:"input"}),u.sup_add&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.sup_add.message})]}),l.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[l.jsx("button",{type:"button",onClick:r,className:"btn-secondary",disabled:m,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:m,children:m?l.jsx(pr,{size:"sm"}):a?"Update Supplier":"Create Supplier"})]})]})]})})},sF=()=>{var k;const{hasPermission:e}=Rn(),[t,r]=T.useState(""),[n,a]=T.useState(null),[i,s]=T.useState(!1),[o,c]=T.useState("create"),{data:u,isLoading:f,error:d,refetch:m}=Hx(),h=aF(),g=((k=u==null?void 0:u.data)==null?void 0:k.data)||(u==null?void 0:u.data)||u||[],[p,x]=T.useState([]);T.useEffect(()=>{Array.isArray(g)&&x(g)},[g]);const y=()=>{a(null),c("create"),s(!0)},_=F=>{a(F),c("edit"),s(!0)},w=async F=>{if(window.confirm(`Are you sure you want to delete "${F.supplier}"?`))try{x(L=>L.filter(A=>A.id!==F.id)),await h.mutateAsync(F.id),m()}catch(L){console.error("Delete failed:",L),m()}};if(f&&!u)return l.jsx(pr,{className:"h-64"});if(d)return l.jsx("div",{className:"text-red-600",children:"Error loading suppliers"});const P=e(["create"]),E=e(["update"]),D=e(["delete"]),N=Array.isArray(p)?p.filter(F=>(F.supplier||"").toLowerCase().includes(t.toLowerCase())||(F.sup_con||"").toLowerCase().includes(t.toLowerCase())):[];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Suppliers"}),l.jsx("p",{className:"text-gray-600",children:"Manage your suppliers"})]}),P&&l.jsxs("button",{onClick:y,className:"btn-primary",children:[l.jsx(za,{className:"w-4 h-4 mr-2"}),"Add Supplier"]})]}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsx("div",{className:"relative",children:l.jsx("input",{type:"text",placeholder:"Search suppliers...",value:t,onChange:F=>r(F.target.value),className:"input pl-10"})})}),l.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-head",children:"Supplier"}),l.jsx("th",{className:"table-head",children:"Contact"}),l.jsx("th",{className:"table-head",children:"Address"}),l.jsx("th",{className:"table-head",children:"Created"}),l.jsx("th",{className:"table-head",children:"Actions"})]})}),l.jsx("tbody",{children:N.map(F=>l.jsxs("tr",{className:"table-row",children:[l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Fh,{className:"w-5 h-5 text-gray-400 mr-3"}),l.jsx("span",{className:"font-medium text-gray-900",children:F.supplier})]})}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:"text-gray-600",children:F.sup_con})}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:"text-gray-600",children:F.sup_add})}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:"text-sm text-gray-500",children:Mr(F.created_at)})}),l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[E&&l.jsx("button",{onClick:()=>_(F),className:"text-blue-400 hover:text-blue-600",children:l.jsx(Li,{className:"w-4 h-4"})}),D&&l.jsx("button",{onClick:()=>w(F),className:"text-red-400 hover:text-red-600",children:l.jsx(Ha,{className:"w-4 h-4"})})]})})]},F.id))})]})}),N.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Fh,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No suppliers found"}),l.jsx("p",{className:"text-gray-500",children:t?"Try adjusting your search terms":"Get started by adding your first supplier"})]})]}),i&&l.jsx(iF,{supplier:n,mode:o,onClose:()=>s(!1),onSuccess:({type:F,supplier:L})=>{L&&x(A=>F==="create"?[L,...A]:F==="update"?A.map(S=>S.id===L.id?{...S,...L}:S):A),m()}})]})},up={getAll:()=>ut.get("/customers"),getById:e=>ut.get(`/customers/${e}`),create:e=>ut.post("/customers",e),update:(e,t)=>ut.put(`/customers/${e}`,t),delete:e=>ut.delete(`/customers/${e}`)},HN=()=>{const[e,t]=T.useState(null),[r,n]=T.useState(!0),[a,i]=T.useState(null),s=T.useCallback(async()=>{try{n(!0);const o=await up.getAll();t(o),i(null)}catch(o){i(o)}finally{n(!1)}},[]);return T.useEffect(()=>{s()},[s]),{data:e,isLoading:r,error:a,refetch:s}},oF=e=>{const[t,r]=T.useState(!1),n=async a=>{var i,s;try{r(!0);const o=await up.create(a);return Xe.success("Customer created successfully"),e&&e(),o}catch(o){throw Xe.error(((s=(i=o.response)==null?void 0:i.data)==null?void 0:s.message)||"Failed to create customer"),o}finally{r(!1)}};return{mutate:n,mutateAsync:n,isLoading:t}},lF=e=>{const[t,r]=T.useState(!1),n=async({id:a,data:i})=>{var s,o;try{r(!0);const c=await up.update(a,i);return Xe.success("Customer updated successfully"),e&&e(),c}catch(c){throw Xe.error(((o=(s=c.response)==null?void 0:s.data)==null?void 0:o.message)||"Failed to update customer"),c}finally{r(!1)}};return{mutate:n,mutateAsync:n,isLoading:t}},cF=e=>{const[t,r]=T.useState(!1),n=async a=>{var i,s;try{r(!0);const o=await up.delete(a);return Xe.success("Customer deleted successfully"),e&&e(),o}catch(o){throw Xe.error(((s=(i=o.response)==null?void 0:i.data)==null?void 0:s.message)||"Failed to delete customer"),o}finally{r(!1)}};return{mutate:n,mutateAsync:n,isLoading:t}},uF=({customer:e,mode:t,onClose:r,onSuccess:n})=>{const a=t==="view",i=t==="edit",s=oF(),o=lF(),{register:c,handleSubmit:u,formState:{errors:f},reset:d}=Ta({defaultValues:{cus_name:"",cus_contact:"",...e}});T.useEffect(()=>{e&&d({cus_name:e.cus_name||"",cus_contact:e.cus_contact||""})},[e,d]);const m=async g=>{var p;try{let x;i?x=await o.mutateAsync({id:e.id,data:g}):x=await s.mutateAsync(g);const y=x&&(((p=x.data)==null?void 0:p.data)||x.data||x)||null;typeof n=="function"&&n({type:i?"update":"create",customer:y}),r()}catch(x){console.error("Submit failed:",x)}},h=s.isLoading||o.isLoading;return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200 sticky top-0 bg-white",children:[l.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:t==="create"?"Add New Customer":t==="edit"?"Edit Customer":"Customer Details"}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 p-1",children:l.jsx(Kr,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),l.jsxs("form",{onSubmit:u(m),className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name *"}),l.jsx("input",{...c("cus_name",{required:"Customer name is required"}),type:"text",className:"input text-sm sm:text-base",disabled:a,placeholder:"Enter customer name"}),f.cus_name&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.cus_name.message})]}),l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Number"}),l.jsx("input",{...c("cus_contact",{maxLength:{value:10,message:"Contact number must be 10 digits or less"}}),type:"tel",className:"input text-sm sm:text-base",disabled:a,placeholder:"Enter contact number (max 10 digits)",maxLength:10}),f.cus_contact&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.cus_contact.message})]})]}),!a&&l.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-4 border-t border-gray-200",children:[l.jsx("button",{type:"button",onClick:r,className:"btn-secondary w-full sm:w-auto order-2 sm:order-1",disabled:h,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary w-full sm:w-auto order-1 sm:order-2",disabled:h,children:h?l.jsx(pr,{size:"sm"}):i?"Update Customer":"Create Customer"})]}),a&&l.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:l.jsx("button",{type:"button",onClick:r,className:"btn-secondary w-full sm:w-auto",children:"Close"})})]})]})})},fF=()=>{var F;const{hasPermission:e}=Rn(),[t,r]=T.useState(""),[n,a]=T.useState(null),[i,s]=T.useState(!1),[o,c]=T.useState("create"),{data:u,isLoading:f,error:d,refetch:m}=HN(),h=cF(),g=((F=u==null?void 0:u.data)==null?void 0:F.data)||(u==null?void 0:u.data)||u||[],[p,x]=T.useState([]);T.useEffect(()=>{Array.isArray(g)&&x(g)},[g]);const y=()=>{a(null),c("create"),s(!0)},_=L=>{a(L),c("view"),s(!0)},w=L=>{a(L),c("edit"),s(!0)},P=async L=>{if(window.confirm(`Are you sure you want to delete "${L.cus_name}"?`))try{x(A=>A.filter(S=>S.id!==L.id)),await h.mutateAsync(L.id),m()}catch(A){console.error("Delete failed:",A),m()}};if(f&&!u)return l.jsx(pr,{className:"h-64"});if(d)return l.jsx("div",{className:"text-red-600",children:"Error loading customers"});const E=e(["create"]),D=e(["update"]),N=e(["delete"]),k=Array.isArray(p)?p.filter(L=>{var A,S;return((A=L.cus_name)==null?void 0:A.toLowerCase().includes(t.toLowerCase()))||((S=L.cus_contact)==null?void 0:S.toLowerCase().includes(t.toLowerCase()))}):[];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Customers"}),l.jsx("p",{className:"text-gray-600",children:"Manage your customers"})]}),E&&l.jsxs("button",{onClick:y,className:"btn-primary",children:[l.jsx(za,{className:"w-4 h-4 mr-2"}),"Add Customer"]})]}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Search customers by name or contact...",value:t,onChange:L=>r(L.target.value),className:"input pl-10"})]})}),l.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-head",children:"Customer"}),l.jsx("th",{className:"table-head",children:"Contact"}),l.jsx("th",{className:"table-head",children:"Created"}),l.jsx("th",{className:"table-head",children:"Actions"})]})}),l.jsx("tbody",{children:k.map(L=>l.jsxs("tr",{className:"table-row",children:[l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(Jo,{className:"w-5 h-5 text-gray-400 mr-3"}),l.jsx("span",{className:"font-medium text-gray-900",children:L.cus_name})]})}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:"text-gray-600",children:L.cus_contact||"N/A"})}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:"text-sm text-gray-500",children:Mr(L.created_at)})}),l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>_(L),className:"text-gray-400 hover:text-gray-600",title:"View",children:l.jsx(Wa,{className:"w-4 h-4"})}),D&&l.jsx("button",{onClick:()=>w(L),className:"text-blue-400 hover:text-blue-600",title:"Edit",children:l.jsx(Li,{className:"w-4 h-4"})}),N&&l.jsx("button",{onClick:()=>P(L),className:"text-red-400 hover:text-red-600",title:"Delete",children:l.jsx(Ha,{className:"w-4 h-4"})})]})})]},L.id))})]})}),k.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Jo,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No customers found"}),l.jsx("p",{className:"text-gray-500",children:t?"Try adjusting your search terms":"Get started by adding your first customer"})]})]}),i&&l.jsx(uF,{customer:n,mode:o,onClose:()=>s(!1),onSuccess:({type:L,customer:A})=>{A&&x(S=>L==="create"?[A,...S]:L==="update"?S.map(M=>M.id===A.id?{...M,...A}:M):S),m()}})]})},Vw=()=>Promise.resolve({data:[{id:1,name:"Dara Sok",email:"dara.sok@company.com",phone:"+855123456789",position:"Sales Manager",department:"Sales",salary:800,status:"active",hire_date:"2024-01-01",created_at:"2024-01-01T00:00:00Z"},{id:2,name:"Sarah Wilson",email:"sarah.wilson@company.com",phone:"+855123456790",position:"Inventory Specialist",department:"Warehouse",salary:600,status:"active",hire_date:"2024-01-15",created_at:"2024-01-15T00:00:00Z"},{id:3,name:"Mike Chen",email:"mike.chen@company.com",phone:"+855123456791",position:"Customer Service",department:"Support",salary:500,status:"active",hire_date:"2024-02-01",created_at:"2024-02-01T00:00:00Z"}]}),Pf=()=>{const e=localStorage.getItem("token");return e&&e.startsWith("demo-token-")},fp={getAll:()=>Pf()?Vw():ut.get("/staffs"),getById:e=>Pf()?Vw().then(t=>({data:t.data.find(n=>n.id===parseInt(e))})):ut.get(`/staffs/${e}`),create:e=>Pf()?Promise.resolve({data:{id:Date.now(),...e,created_at:new Date().toISOString()}}):e instanceof FormData?vu("/staffs",e).then(t=>t.data):ut.post("/staffs",e),update:(e,t)=>Pf()?Promise.resolve({data:{id:parseInt(e),...t,updated_at:new Date().toISOString()}}):t instanceof FormData?(t.append("_method","PUT"),vu(`/staffs/${e}`,t).then(r=>r.data)):ut.put(`/staffs/${e}`,t),delete:e=>Pf()?Promise.resolve({data:{message:"Staff deleted successfully"}}):ut.delete(`/staffs/${e}`)},kd=()=>{const[e,t]=T.useState(null),[r,n]=T.useState(!0),[a,i]=T.useState(null),s=T.useCallback(async()=>{try{n(!0);const o=await fp.getAll();t(o),i(null)}catch(o){i(o)}finally{n(!1)}},[]);return T.useEffect(()=>{s()},[s]),{data:e,isLoading:r,error:a,refetch:s}},dF=()=>{const[e,t]=T.useState(!1),r=async n=>{var a,i;try{t(!0);const s=await fp.create(n);return Xe.success("Staff created successfully"),s}catch(s){throw Xe.error(((i=(a=s.response)==null?void 0:a.data)==null?void 0:i.message)||"Failed to create staff"),s}finally{t(!1)}};return{mutate:r,mutateAsync:r,isLoading:e}},hF=()=>{const[e,t]=T.useState(!1),r=async({id:n,data:a})=>{var i,s;try{t(!0);const o=await fp.update(n,a);return Xe.success("Staff updated successfully"),o}catch(o){throw Xe.error(((s=(i=o.response)==null?void 0:i.data)==null?void 0:s.message)||"Failed to update staff"),o}finally{t(!1)}};return{mutate:r,mutateAsync:r,isLoading:e}},mF=()=>{const[e,t]=T.useState(!1),r=async n=>{var a,i;try{t(!0);const s=await fp.delete(n);return Xe.success("Staff deleted successfully"),s}catch(s){throw Xe.error(((i=(a=s.response)==null?void 0:a.data)==null?void 0:i.message)||"Failed to delete staff"),s}finally{t(!1)}};return{mutate:r,mutateAsync:r,isLoading:e}},Gw=e=>{if(!e)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const t=e.match(/^(\d{2})\/(\d{2})\/(\d{4})$/);if(t){const[,s,o,c]=t;return`${c}-${o}-${s}`}const r=new Date(e);if(Number.isNaN(r.getTime()))return"";const n=r.getFullYear(),a=String(r.getMonth()+1).padStart(2,"0"),i=String(r.getDate()).padStart(2,"0");return`${n}-${a}-${i}`},pF=({staff:e,mode:t,onClose:r,onSuccess:n})=>{const a=t==="view",i=t==="edit",s=dF(),o=hF(),{register:c,handleSubmit:u,formState:{errors:f},reset:d}=Ta({defaultValues:{full_name:"",gen:"M",dob:Gw(""),position:"",salary:"",stopwork:!1,status:"active",photo:null,...e}});T.useEffect(()=>{e&&d({full_name:e.full_name||"",gen:e.gen||"M",dob:Gw(e.dob||""),position:e.position||"",salary:e.salary||"",stopwork:e.stopwork||!1,status:e.status||"active",photo:null})},[e,d]);const m=async g=>{var p,x,y;try{if(console.log("Form data received:",g),!((p=g.full_name)!=null&&p.trim()))throw new Error("Full name is required");if(!g.dob)throw new Error("Date of birth is required");if(!((x=g.position)!=null&&x.trim()))throw new Error("Position is required");if(!g.salary||parseFloat(g.salary)<0)throw new Error("Valid salary is required");const _=g.photo&&g.photo[0];console.log("Has file:",_);let w;if(_){const D=g.photo[0];if(!D.type.startsWith("image/"))throw new Error("Selected file is not an image");const N=new FormData;N.append("full_name",g.full_name||""),N.append("gen",g.gen||"M"),N.append("dob",g.dob||""),N.append("position",g.position||""),N.append("salary",g.salary?parseFloat(g.salary).toString():"0"),g.stopwork&&N.append("stopwork","1"),N.append("status",g.status||"active"),N.append("photo",D),w=N,console.log("Submitting FormData with file")}else w={full_name:g.full_name||"",gen:g.gen||"M",dob:g.dob||"",position:g.position||"",salary:g.salary?parseFloat(g.salary):0,stopwork:!!g.stopwork,status:g.status||"active"},console.log("Submitting JSON data:",w);let P;i?P=await o.mutateAsync({id:e.id,data:w}):P=await s.mutateAsync(w);const E=P&&(((y=P.data)==null?void 0:y.data)||P.data||P)||null;typeof n=="function"&&await n({type:i?"update":"create",staff:E}),r()}catch(_){console.error("Submit failed:",_),alert("Error: "+_.message)}},h=s.isLoading||o.isLoading;return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[95vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200 sticky top-0 bg-white",children:[l.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:t==="create"?"Add New Staff":t==="edit"?"Edit Staff":"Staff Details"}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 p-1",children:l.jsx(Kr,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),l.jsxs("form",{onSubmit:u(m),className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[l.jsxs("div",{className:"sm:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),l.jsx("input",{...c("full_name",{required:"Full name is required"}),type:"text",className:"input text-sm sm:text-base",disabled:a,placeholder:"Enter full name"}),f.full_name&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.full_name.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender *"}),l.jsxs("select",{...c("gen",{required:"Gender is required"}),className:"input text-sm sm:text-base",disabled:a,children:[l.jsx("option",{value:"M",children:"Male"}),l.jsx("option",{value:"F",children:"Female"})]}),f.gen&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.gen.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth *"}),l.jsx("input",{...c("dob",{required:"Date of birth is required"}),type:"date",className:"input text-sm sm:text-base",disabled:a}),f.dob&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.dob.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Position *"}),l.jsx("input",{...c("position",{required:"Position is required"}),type:"text",className:"input text-sm sm:text-base",disabled:a,placeholder:"Enter position"}),f.position&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.position.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Salary *"}),l.jsx("input",{...c("salary",{required:"Salary is required",min:{value:0,message:"Salary must be positive"}}),type:"number",step:"0.01",className:"input text-sm sm:text-base",disabled:a,placeholder:"0.00"}),f.salary&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.salary.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),l.jsxs("select",{...c("status"),className:"input text-sm sm:text-base",disabled:a,children:[l.jsx("option",{value:"active",children:"Active"}),l.jsx("option",{value:"inactive",children:"Inactive"})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{...c("stopwork"),type:"checkbox",className:"h-4 w-4 text-blue-600 rounded",disabled:a}),l.jsx("label",{className:"ml-2 block text-sm text-gray-700",children:"Stop/Work"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Photo"}),(i||t==="view")&&(e==null?void 0:e.photo)&&l.jsxs("div",{className:"mb-3",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Current Photo:"}),l.jsx("div",{className:"w-32 h-32 bg-gray-100 rounded-lg overflow-hidden border border-gray-300",children:l.jsx("img",{src:e.photo_url||Qo(e.photo,oa.base_image_url),alt:"Staff",className:"w-full h-full object-cover"})})]}),l.jsx("input",{...c("photo"),type:"file",accept:"image/jpeg,image/png,image/jpg,image/gif,image/webp,image/avif",className:"input text-sm sm:text-base",disabled:a}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Supported formats: JPEG, PNG, JPG, GIF, WEBP, AVIF (max 10MB)"})]})]}),!a&&l.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-4 border-t border-gray-200",children:[l.jsx("button",{type:"button",onClick:r,className:"btn-secondary w-full sm:w-auto order-2 sm:order-1",disabled:h,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary w-full sm:w-auto order-1 sm:order-2",disabled:h,children:h?l.jsx(pr,{size:"sm"}):i?"Update Staff":"Create Staff"})]}),a&&l.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:l.jsx("button",{type:"button",onClick:r,className:"btn-secondary w-full sm:w-auto",children:"Close"})})]})]})})},gF=()=>{var F;const{hasPermission:e}=Rn(),[t,r]=T.useState(""),[n,a]=T.useState(null),[i,s]=T.useState(!1),[o,c]=T.useState("create"),{data:u,isLoading:f,error:d,refetch:m}=kd(),h=mF(),g=((F=u==null?void 0:u.data)==null?void 0:F.data)||(u==null?void 0:u.data)||u||[],[p,x]=T.useState([]);T.useEffect(()=>{Array.isArray(g)&&x(g)},[g]);const y=e(["create"]),_=e(["update"]),w=e(["delete"]),P=()=>{a(null),c("create"),s(!0)},E=L=>{a(L),c("edit"),s(!0)},D=L=>{a(L),c("view"),s(!0)},N=async L=>{if(window.confirm(`Are you sure you want to delete "${L.full_name}"?`))try{x(A=>A.filter(S=>S.id!==L.id)),await h.mutateAsync(L.id),m()}catch(A){console.error("Delete failed:",A),m()}};if(f&&!u)return l.jsx(pr,{className:"h-64"});if(d)return l.jsx("div",{className:"text-red-600",children:"Error loading staff"});const k=Array.isArray(p)?p.filter(L=>(L.full_name||"").toLowerCase().includes(t.toLowerCase())||(L.position||"").toLowerCase().includes(t.toLowerCase())):[];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Staff"}),l.jsx("p",{className:"text-gray-600",children:"Manage your staff members"})]}),y&&l.jsxs("button",{onClick:P,className:"btn-primary",children:[l.jsx(za,{className:"w-4 h-4 mr-2"}),"Add Staff"]})]}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Search staff...",value:t,onChange:L=>r(L.target.value),className:"input pl-10"})]})}),l.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-head",children:"Photo"}),l.jsx("th",{className:"table-head",children:"Staff"}),l.jsx("th",{className:"table-head",children:"Position"}),l.jsx("th",{className:"table-head",children:"Gender"}),l.jsx("th",{className:"table-head",children:"Salary"}),l.jsx("th",{className:"table-head",children:"Status"}),l.jsx("th",{className:"table-head",children:"Actions"})]})}),l.jsx("tbody",{children:k.map(L=>l.jsxs("tr",{className:"table-row",children:[l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden border border-gray-200",children:[L.photo_url||L.photo?l.jsx("img",{src:L.photo_url||Qo(L.photo,oa.base_image_url),alt:L.full_name,className:"w-full h-full object-cover cursor-pointer hover:opacity-75 transition-opacity",onClick:()=>D(L),onError:A=>{console.log("Staff image failed to load:",A.target.src),A.target.style.display="none";const S=A.target.parentNode.querySelector(".fallback-icon");S&&(S.style.display="flex",S.classList.remove("hidden"))},onLoad:A=>{console.log("Staff image loaded successfully:",A.target.src)}}):null,l.jsx(iv,{className:`fallback-icon w-8 h-8 text-gray-400 ${L.photo_url||L.photo?"hidden":""}`})]})}),l.jsx("td",{className:"table-cell",children:l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:L.full_name}),l.jsxs("div",{className:"text-sm text-gray-500",children:["Date of Birth : ",Mr(L.dob,"dd/MM/yyyy")]})]})}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:"text-gray-900",children:L.position})}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:"text-gray-900",children:L.gen==="M"?"Male":"Female"})}),l.jsx("td",{className:"table-cell",children:l.jsxs("span",{className:"font-medium text-gray-900",children:["$",L.salary]})}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${L.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:L.status})}),l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>D(L),className:"text-gray-400 hover:text-gray-600",title:"View",children:l.jsx(Wa,{className:"w-4 h-4"})}),_&&l.jsx("button",{onClick:()=>E(L),className:"text-blue-400 hover:text-blue-600",title:"Edit",children:l.jsx(Li,{className:"w-4 h-4"})}),w&&l.jsx("button",{onClick:()=>N(L),className:"text-red-400 hover:text-red-600",title:"Delete",children:l.jsx(Ha,{className:"w-4 h-4"})})]})})]},L.id))})]})}),k.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(iv,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No staff found"}),l.jsx("p",{className:"text-gray-500",children:t?"Try adjusting your search terms":"Get started by adding your first staff member"})]})]}),i&&l.jsx(pF,{staff:n,mode:o,onClose:()=>s(!1),onSuccess:({type:L,staff:A})=>{A&&x(S=>L==="create"?[A,...S]:L==="update"?S.map(M=>M.id===A.id?{...M,...A}:M):S),m()}})]})},od={getAll:()=>ut.get("/imports",{_t:Date.now()}),getById:e=>ut.get(`/imports/${e}`,{_t:Date.now()}),create:e=>ut.post("/imports",e),update:(e,t)=>ut.put(`/imports/${e}`,t),delete:e=>ut.delete(`/imports/${e}`)},VN=(e={})=>{const[t,r]=T.useState(null),[n,a]=T.useState(!0),[i,s]=T.useState(null);return T.useEffect(()=>{(async()=>{try{a(!0);const u=await od.getAll(e);r(u),s(null)}catch(u){s(u),console.error("Imports fetch failed:",u)}finally{a(!1)}})()},[JSON.stringify(e)]),{data:t,isLoading:n,error:i,refetch:()=>{(async()=>{try{a(!0);const u=await od.getAll(e);r(u),s(null)}catch(u){s(u),console.error("Imports refetch failed:",u)}finally{a(!1)}})()}}},vF=()=>{const[e,t]=T.useState(!1),[r,n]=T.useState(null);return{mutateAsync:async i=>{var s,o,c,u;try{t(!0),n(null);const f=await od.create(i);return Xe.success("Import created successfully"),f}catch(f){n(f),console.error("Import creation failed:",f);const d=((o=(s=f.response)==null?void 0:s.data)==null?void 0:o.message)||((u=(c=f.response)==null?void 0:c.data)==null?void 0:u.error)||"Failed to create import";throw Xe.error(d),f}finally{t(!1)}},isLoading:e,error:r}},xF=()=>{const[e,t]=T.useState(!1),[r,n]=T.useState(null);return{mutateAsync:async({id:i,data:s})=>{var o,c,u,f;try{t(!0),n(null);const d=await od.update(i,s);return Xe.success("Import updated successfully"),d}catch(d){n(d),console.error("Import update failed:",d);const m=((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.message)||((f=(u=d.response)==null?void 0:u.data)==null?void 0:f.error)||"Failed to update import";throw Xe.error(m),d}finally{t(!1)}},isLoading:e,error:r}},yF=()=>{const[e,t]=T.useState(!1),[r,n]=T.useState(null);return{mutateAsync:async i=>{var s,o,c,u;try{t(!0),n(null);const f=await od.delete(i);return Xe.success("Import deleted successfully"),f}catch(f){n(f),console.error("Import deletion failed:",f);const d=((o=(s=f.response)==null?void 0:s.data)==null?void 0:o.message)||((u=(c=f.response)==null?void 0:c.data)==null?void 0:u.error)||"Failed to delete import";throw Xe.error(d),f}finally{t(!1)}},isLoading:e,error:r}};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var Vh={};Vh.version="0.18.5";var GN=1252,bF=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],KN=function(e){bF.indexOf(e)!=-1&&(GN=e)};function wF(){KN(1252)}var ld=function(e){KN(e)};function _F(){ld(1200),wF()}function SF(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var Y0=function(t){return String.fromCharCode(t)},Kw=function(t){return String.fromCharCode(t)},kl,zo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function cd(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,c=0,u=0;u<e.length;)r=e.charCodeAt(u++),i=r>>2,n=e.charCodeAt(u++),s=(r&3)<<4|n>>4,a=e.charCodeAt(u++),o=(n&15)<<2|a>>6,c=a&63,isNaN(n)?o=c=64:isNaN(a)&&(c=64),t+=zo.charAt(i)+zo.charAt(s)+zo.charAt(o)+zo.charAt(c);return t}function no(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,c=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<e.length;)i=zo.indexOf(e.charAt(u++)),s=zo.indexOf(e.charAt(u++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=zo.indexOf(e.charAt(u++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),c=zo.indexOf(e.charAt(u++)),a=(o&3)<<6|c,c!==64&&(t+=String.fromCharCode(a));return t}var er=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),uo=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Ql(e){return er?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function Yw(e){return er?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var rs=function(t){return er?uo(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function dp(e){if(typeof ArrayBuffer>"u")return rs(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function Ld(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function NF(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var Kn=er?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:uo(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function AF(e){for(var t=[],r=0,n=e.length+250,a=Ql(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Ql(65535),n=65530)}return t.push(a.slice(0,r)),Kn(t)}var Kf=/\u0000/g,X0=/[\u0001-\u0006]/g;function cu(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function is(e,t){var r=""+e;return r.length>=t?r:zr("0",t-r.length)+r}function Vx(e,t){var r=""+e;return r.length>=t?r:zr(" ",t-r.length)+r}function Gh(e,t){var r=""+e;return r.length>=t?r:r+zr(" ",t-r.length)}function jF(e,t){var r=""+Math.round(e);return r.length>=t?r:zr("0",t-r.length)+r}function EF(e,t){var r=""+e;return r.length>=t?r:zr("0",t-r.length)+r}var Xw=Math.pow(2,32);function zc(e,t){if(e>Xw||e<-Xw)return jF(e,t);var r=Math.round(e);return EF(r,t)}function Kh(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var Jw=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],g1=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function PF(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Gr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},Zw={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},TF={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Yh(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,c=1,u=0,f=0,d=Math.floor(a);u<t&&(d=Math.floor(a),o=d*s+i,f=d*u+c,!(a-d<5e-8));)a=1/(a-d),i=s,s=o,c=u,u=f;if(f>t&&(u>t?(f=c,o=i):(f=u,o=s)),!r)return[0,n*o,f];var m=Math.floor(n*o/f);return[m,n*o-m*f,f]}function J0(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var c=new Date(1900,0,1);c.setDate(c.getDate()+n-1),s=[c.getFullYear(),c.getMonth()+1,c.getDate()],i=c.getDay(),n<60&&(i=(i+6)%7),r&&(i=IF(c,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var YN=new Date(1899,11,31,0,0,0),CF=YN.getTime(),OF=new Date(1900,2,1,0,0,0);function XN(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=OF&&(r+=24*60*60*1e3),(r-(CF+(e.getTimezoneOffset()-YN.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Gx(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function kF(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function LF(e){var t=e<0?12:11,r=Gx(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function DF(e){var t=Gx(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function FF(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=LF(e):t===10?r=e.toFixed(10).substr(0,12):r=DF(e),Gx(kF(r.toUpperCase()))}function xv(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):FF(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return el(14,XN(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function IF(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function MF(e,t,r,n){var a="",i=0,s=0,o=r.y,c,u=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:c=o%100,u=2;break;default:c=o%1e4,u=4;break}break;case 109:switch(t.length){case 1:case 2:c=r.m,u=t.length;break;case 3:return g1[r.m-1][1];case 5:return g1[r.m-1][0];default:return g1[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:c=r.d,u=t.length;break;case 3:return Jw[r.q][0];default:return Jw[r.q][1]}break;case 104:switch(t.length){case 1:case 2:c=1+(r.H+11)%12,u=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:c=r.H,u=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:c=r.M,u=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?is(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=is(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":c=r.D*24+r.H;break;case"[m]":case"[mm]":c=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":c=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}u=t.length===3?1:2;break;case 101:c=o,u=1;break}var f=u>0?is(c,u):"";return f}function Ho(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var JN=/%/g;function RF(e,t,r){var n=t.replace(JN,""),a=t.length-n.length;return Zs(e,n,r*Math.pow(10,2*a))+zr("%",a)}function BF(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Zs(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function ZN(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+ZN(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,f){return c+u+f.substr(0,(a+i)%a)+"."+f.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var QN=/# (\?+)( ?)\/( ?)(\d+)/;function UF(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?zr(" ",e[1].length+1+e[4].length):Vx(s,e[1].length)+e[2]+"/"+e[3]+is(o,e[4].length))}function $F(e,t,r){return r+(t===0?"":""+t)+zr(" ",e[1].length+2+e[4].length)}var eA=/^#*0*\.([0#]+)/,tA=/\).*[0#]/,rA=/\(###\) ###\\?-####/;function Sa(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function Qw(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function e5(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function qF(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function WF(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function Pi(e,t,r){if(e.charCodeAt(0)===40&&!t.match(tA)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Pi("n",n,r):"("+Pi("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return BF(e,t,r);if(t.indexOf("%")!==-1)return RF(e,t,r);if(t.indexOf("E")!==-1)return ZN(t,r);if(t.charCodeAt(0)===36)return"$"+Pi(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+zc(c,t.length);if(t.match(/^[#?]+$/))return a=zc(r,0),a==="0"&&(a=""),a.length>t.length?a:Sa(t.substr(0,t.length-a.length))+a;if(i=t.match(QN))return UF(i,c,u);if(t.match(/^#+0+$/))return u+zc(c,t.length-t.indexOf("0"));if(i=t.match(eA))return a=Qw(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Sa(i[1])).replace(/\.$/,"."+Sa(i[1])).replace(/\.(\d*)$/,function(g,p){return"."+p+zr("0",Sa(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+Qw(c,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Ho(zc(c,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Pi(e,t,-r):Ho(""+(Math.floor(r)+qF(r,i[1].length)))+"."+is(e5(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return Pi(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=cu(Pi(e,t.replace(/[\\-]/g,""),r)),s=0,cu(cu(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(rA))return a=Pi(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var f="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Yh(c,Math.pow(10,s)-1,!1),a=""+u,f=Zs("n",i[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),a+=f+i[2]+"/"+i[3],f=Gh(o[2],s),f.length<i[4].length&&(f=Sa(i[4].substr(i[4].length-f.length))+f),a+=f,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Yh(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Vx(o[1],s)+i[2]+"/"+i[3]+Gh(o[2],s):zr(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=zc(r,0),t.length<=a.length?a:Sa(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var d=t.indexOf(".")-s,m=t.length-a.length-d;return Sa(t.substr(0,d)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=e5(r,i[1].length),r<0?"-"+Pi(e,t,-r):Ho(WF(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?is(0,3-g.length):"")+g})+"."+is(s,i[1].length);switch(t){case"###,##0.00":return Pi(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var h=Ho(zc(c,0));return h!=="0"?u+h:"";case"###,###.00":return Pi(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Pi(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function zF(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return Zs(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function HF(e,t,r){var n=t.replace(JN,""),a=t.length-n.length;return Zs(e,n,r*Math.pow(10,2*a))+zr("%",a)}function nA(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+nA(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,c,u,f){return c+u+f.substr(0,(a+i)%a)+"."+f.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function ws(e,t,r){if(e.charCodeAt(0)===40&&!t.match(tA)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ws("n",n,r):"("+ws("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return zF(e,t,r);if(t.indexOf("%")!==-1)return HF(e,t,r);if(t.indexOf("E")!==-1)return nA(t,r);if(t.charCodeAt(0)===36)return"$"+ws(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,c=Math.abs(r),u=r<0?"-":"";if(t.match(/^00+$/))return u+is(c,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Sa(t.substr(0,t.length-a.length))+a;if(i=t.match(QN))return $F(i,c,u);if(t.match(/^#+0+$/))return u+is(c,t.length-t.indexOf("0"));if(i=t.match(eA))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Sa(i[1])).replace(/\.$/,"."+Sa(i[1])),a=a.replace(/\.(\d*)$/,function(g,p){return"."+p+zr("0",Sa(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return u+(""+c).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return u+Ho(""+c);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ws(e,t,-r):Ho(""+r)+"."+zr("0",i[1].length);if(i=t.match(/^#,#*,#0/))return ws(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=cu(ws(e,t.replace(/[\\-]/g,""),r)),s=0,cu(cu(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(rA))return a=ws(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var f="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=Yh(c,Math.pow(10,s)-1,!1),a=""+u,f=Zs("n",i[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),a+=f+i[2]+"/"+i[3],f=Gh(o[2],s),f.length<i[4].length&&(f=Sa(i[4].substr(i[4].length-f.length))+f),a+=f,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=Yh(c,Math.pow(10,s)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Vx(o[1],s)+i[2]+"/"+i[3]+Gh(o[2],s):zr(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Sa(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var d=t.indexOf(".")-s,m=t.length-a.length-d;return Sa(t.substr(0,d)+a+t.substr(t.length-m))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+ws(e,t,-r):Ho(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?is(0,3-g.length):"")+g})+"."+is(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var h=Ho(""+c);return h!=="0"?u+h:"";default:if(t.match(/\.[0#?]*$/))return ws(e,t.slice(0,t.lastIndexOf(".")),r)+Sa(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function Zs(e,t,r){return(r|0)===r?ws(e,t,r):Pi(e,t,r)}function VF(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var aA=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function iA(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Kh(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(aA))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function GF(e,t,r,n){for(var a=[],i="",s=0,o="",c="t",u,f,d,m="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!Kh(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(d=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(d);a[a.length]={t:"t",v:i},++s;break;case"\\":var h=e.charAt(++s),g=h==="("||h===")"?h:"t";a[a.length]={t:g,v:h},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(u==null&&(u=J0(t,r,e.charAt(s+1)==="2"),u==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},c=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||u==null&&(u=J0(t,r),u==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&c.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=m),a[a.length]={t:o,v:i},c=o;break;case"A":case"a":case"":var p={t:o,v:o};if(u==null&&(u=J0(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(u!=null&&(p.v=u.H>=12?"P":"A"),p.t="T",m="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(u!=null&&(p.v=u.H>=12?"PM":"AM"),p.t="T",s+=5,m="h"):e.substr(s,5).toUpperCase()==="/"?(u!=null&&(p.v=u.H>=12?"":""),p.t="T",s+=5,m="h"):(p.t="t",++s),u==null&&p.t==="T")return"";a[a.length]=p,c=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(aA)){if(u==null&&(u=J0(t,r),u==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},c=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",iA(e)||(a[a.length]={t:"t",v:i}));break;case".":if(u!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},c=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var x=0,y=0,_;for(s=a.length-1,c="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=m,c="h",x<1&&(x=1);break;case"s":(_=a[s].v.match(/\.0+$/))&&(y=Math.max(y,_[0].length-1)),x<3&&(x=3);case"d":case"y":case"M":case"e":c=a[s].t;break;case"m":c==="s"&&(a[s].t="M",x<2&&(x=2));break;case"X":break;case"Z":x<1&&a[s].v.match(/[Hh]/)&&(x=1),x<2&&a[s].v.match(/[Mm]/)&&(x=2),x<3&&a[s].v.match(/[Ss]/)&&(x=3)}switch(x){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var w="",P;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=MF(a[s].t.charCodeAt(0),a[s].v,u,y),a[s].t="t";break;case"n":case"?":for(P=s+1;a[P]!=null&&((o=a[P].t)==="?"||o==="D"||(o===" "||o==="t")&&a[P+1]!=null&&(a[P+1].t==="?"||a[P+1].t==="t"&&a[P+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[P].v==="/"||a[P].v===" "&&a[P+1]!=null&&a[P+1].t=="?"));)a[s].v+=a[P].v,a[P]={v:"",t:";"},++P;w+=a[s].v,s=P-1;break;case"G":a[s].t="t",a[s].v=xv(t,r);break}var E="",D,N;if(w.length>0){w.charCodeAt(0)==40?(D=t<0&&w.charCodeAt(0)===45?-t:t,N=Zs("n",w,D)):(D=t<0&&n>1?-t:t,N=Zs("n",w,D),D<0&&a[0]&&a[0].t=="t"&&(N=N.substr(1),a[0].v="-"+a[0].v)),P=N.length-1;var k=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){k=s;break}var F=a.length;if(k===a.length&&N.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(P>=a[s].v.length-1?(P-=a[s].v.length,a[s].v=N.substr(P+1,a[s].v.length)):P<0?a[s].v="":(a[s].v=N.substr(0,P+1),P=-1),a[s].t="t",F=s);P>=0&&F<a.length&&(a[F].v=N.substr(0,P+1)+a[F].v)}else if(k!==a.length&&N.indexOf("E")===-1){for(P=N.indexOf(".")-1,s=k;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(f=a[s].v.indexOf(".")>-1&&s===k?a[s].v.indexOf(".")-1:a[s].v.length-1,E=a[s].v.substr(f+1);f>=0;--f)P>=0&&(a[s].v.charAt(f)==="0"||a[s].v.charAt(f)==="#")&&(E=N.charAt(P--)+E);a[s].v=E,a[s].t="t",F=s}for(P>=0&&F<a.length&&(a[F].v=N.substr(0,P+1)+a[F].v),P=N.indexOf(".")+1,s=k;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==k)){for(f=a[s].v.indexOf(".")>-1&&s===k?a[s].v.indexOf(".")+1:0,E=a[s].v.substr(0,f);f<a[s].v.length;++f)P<N.length&&(E+=N.charAt(P++));a[s].v=E,a[s].t="t",F=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(D=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=Zs(a[s].t,a[s].v,D),a[s].t="t");var L="";for(s=0;s!==a.length;++s)a[s]!=null&&(L+=a[s].v);return L}var t5=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function r5(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function KF(e,t){var r=VF(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(t5),o=r[1].match(t5);return r5(t,s)?[n,r[0]]:r5(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function el(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Gr)[e],n==null&&(n=r.table&&r.table[Zw[e]]||Gr[Zw[e]]),n==null&&(n=TF[e]||"General");break}if(Kh(n,0))return xv(t,r);t instanceof Date&&(t=XN(t,r.date1904));var a=KF(n,t);if(Kh(a[1]))return xv(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return GF(a[1],t,r,a[0])}function sA(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Gr[r]==null){t<0&&(t=r);continue}if(Gr[r]==e){t=r;break}}t<0&&(t=391)}return Gr[t]=e,t}function hp(e){for(var t=0;t!=392;++t)e[t]!==void 0&&sA(e[t],t)}function mp(){Gr=PF()}var oA=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function YF(e){var t=typeof e=="number"?Gr[e]:e;return t=t.replace(oA,"(\\d+)"),new RegExp("^"+t+"$")}function XF(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,c=-1;(t.match(oA)||[]).forEach(function(d,m){var h=parseInt(r[m+1],10);switch(d.toLowerCase().charAt(0)){case"y":n=h;break;case"d":i=h;break;case"h":s=h;break;case"s":c=h;break;case"m":s>=0?o=h:a=h;break}}),c>=0&&o==-1&&a>=0&&(o=a,a=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var f=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2);return s==-1&&o==-1&&c==-1?u:n==-1&&a==-1&&i==-1?f:u+"T"+f}var JF=function(){var e={};e.version="1.2.0";function t(){for(var N=0,k=new Array(256),F=0;F!=256;++F)N=F,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,k[F]=N;return typeof Int32Array<"u"?new Int32Array(k):k}var r=t();function n(N){var k=0,F=0,L=0,A=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(L=0;L!=256;++L)A[L]=N[L];for(L=0;L!=256;++L)for(F=N[L],k=256+L;k<4096;k+=256)F=A[k]=F>>>8^N[F&255];var S=[];for(L=1;L!=16;++L)S[L-1]=typeof Int32Array<"u"?A.subarray(L*256,L*256+256):A.slice(L*256,L*256+256);return S}var a=n(r),i=a[0],s=a[1],o=a[2],c=a[3],u=a[4],f=a[5],d=a[6],m=a[7],h=a[8],g=a[9],p=a[10],x=a[11],y=a[12],_=a[13],w=a[14];function P(N,k){for(var F=k^-1,L=0,A=N.length;L<A;)F=F>>>8^r[(F^N.charCodeAt(L++))&255];return~F}function E(N,k){for(var F=k^-1,L=N.length-15,A=0;A<L;)F=w[N[A++]^F&255]^_[N[A++]^F>>8&255]^y[N[A++]^F>>16&255]^x[N[A++]^F>>>24]^p[N[A++]]^g[N[A++]]^h[N[A++]]^m[N[A++]]^d[N[A++]]^f[N[A++]]^u[N[A++]]^c[N[A++]]^o[N[A++]]^s[N[A++]]^i[N[A++]]^r[N[A++]];for(L+=15;A<L;)F=F>>>8^r[(F^N[A++])&255];return~F}function D(N,k){for(var F=k^-1,L=0,A=N.length,S=0,M=0;L<A;)S=N.charCodeAt(L++),S<128?F=F>>>8^r[(F^S)&255]:S<2048?(F=F>>>8^r[(F^(192|S>>6&31))&255],F=F>>>8^r[(F^(128|S&63))&255]):S>=55296&&S<57344?(S=(S&1023)+64,M=N.charCodeAt(L++)&1023,F=F>>>8^r[(F^(240|S>>8&7))&255],F=F>>>8^r[(F^(128|S>>2&63))&255],F=F>>>8^r[(F^(128|M>>6&15|(S&3)<<4))&255],F=F>>>8^r[(F^(128|M&63))&255]):(F=F>>>8^r[(F^(224|S>>12&15))&255],F=F>>>8^r[(F^(128|S>>6&63))&255],F=F>>>8^r[(F^(128|S&63))&255]);return~F}return e.table=r,e.bstr=P,e.buf=E,e.str=D,e}(),mr=function(){var t={};t.version="1.2.1";function r(J,he){for(var ie=J.split("/"),oe=he.split("/"),de=0,me=0,Oe=Math.min(ie.length,oe.length);de<Oe;++de){if(me=ie[de].length-oe[de].length)return me;if(ie[de]!=oe[de])return ie[de]<oe[de]?-1:1}return ie.length-oe.length}function n(J){if(J.charAt(J.length-1)=="/")return J.slice(0,-1).indexOf("/")===-1?J:n(J.slice(0,-1));var he=J.lastIndexOf("/");return he===-1?J:J.slice(0,he+1)}function a(J){if(J.charAt(J.length-1)=="/")return a(J.slice(0,-1));var he=J.lastIndexOf("/");return he===-1?J:J.slice(he+1)}function i(J,he){typeof he=="string"&&(he=new Date(he));var ie=he.getHours();ie=ie<<6|he.getMinutes(),ie=ie<<5|he.getSeconds()>>>1,J.write_shift(2,ie);var oe=he.getFullYear()-1980;oe=oe<<4|he.getMonth()+1,oe=oe<<5|he.getDate(),J.write_shift(2,oe)}function s(J){var he=J.read_shift(2)&65535,ie=J.read_shift(2)&65535,oe=new Date,de=ie&31;ie>>>=5;var me=ie&15;ie>>>=4,oe.setMilliseconds(0),oe.setFullYear(ie+1980),oe.setMonth(me-1),oe.setDate(de);var Oe=he&31;he>>>=5;var Me=he&63;return he>>>=6,oe.setHours(he),oe.setMinutes(Me),oe.setSeconds(Oe<<1),oe}function o(J){ni(J,0);for(var he={},ie=0;J.l<=J.length-4;){var oe=J.read_shift(2),de=J.read_shift(2),me=J.l+de,Oe={};switch(oe){case 21589:ie=J.read_shift(1),ie&1&&(Oe.mtime=J.read_shift(4)),de>5&&(ie&2&&(Oe.atime=J.read_shift(4)),ie&4&&(Oe.ctime=J.read_shift(4))),Oe.mtime&&(Oe.mt=new Date(Oe.mtime*1e3));break}J.l=me,he[oe]=Oe}return he}var c;function u(){return c||(c={})}function f(J,he){if(J[0]==80&&J[1]==75)return rr(J,he);if((J[0]|32)==109&&(J[1]|32)==105)return $n(J,he);if(J.length<512)throw new Error("CFB file size "+J.length+" < 512");var ie=3,oe=512,de=0,me=0,Oe=0,Me=0,Ce=0,ee=[],le=J.slice(0,512);ni(le,0);var Ee=d(le);switch(ie=Ee[0],ie){case 3:oe=512;break;case 4:oe=4096;break;case 0:if(Ee[1]==0)return rr(J,he);default:throw new Error("Major Version: Expected 3 or 4 saw "+ie)}oe!==512&&(le=J.slice(0,oe),ni(le,28));var $e=J.slice(0,oe);m(le,ie);var Ge=le.read_shift(4,"i");if(ie===3&&Ge!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ge);le.l+=4,Oe=le.read_shift(4,"i"),le.l+=4,le.chk("00100000","Mini Stream Cutoff Size: "),Me=le.read_shift(4,"i"),de=le.read_shift(4,"i"),Ce=le.read_shift(4,"i"),me=le.read_shift(4,"i");for(var He=-1,it=0;it<109&&(He=le.read_shift(4,"i"),!(He<0));++it)ee[it]=He;var ht=h(J,oe);x(Ce,me,ht,oe,ee);var $t=_(ht,Oe,ee,oe);$t[Oe].name="!Directory",de>0&&Me!==M&&($t[Me].name="!MiniFAT"),$t[ee[0]].name="!FAT",$t.fat_addrs=ee,$t.ssz=oe;var dr={},an=[],Ui=[],Fs=[];w(Oe,$t,ht,an,de,dr,Ui,Me),g(Ui,Fs,an),an.shift();var ms={FileIndex:Ui,FullPaths:Fs};return he&&he.raw&&(ms.raw={header:$e,sectors:ht}),ms}function d(J){if(J[J.l]==80&&J[J.l+1]==75)return[0,0];J.chk(U,"Header Signature: "),J.l+=16;var he=J.read_shift(2,"u");return[J.read_shift(2,"u"),he]}function m(J,he){var ie=9;switch(J.l+=2,ie=J.read_shift(2)){case 9:if(he!=3)throw new Error("Sector Shift: Expected 9 saw "+ie);break;case 12:if(he!=4)throw new Error("Sector Shift: Expected 12 saw "+ie);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ie)}J.chk("0600","Mini Sector Shift: "),J.chk("000000000000","Reserved: ")}function h(J,he){for(var ie=Math.ceil(J.length/he)-1,oe=[],de=1;de<ie;++de)oe[de-1]=J.slice(de*he,(de+1)*he);return oe[ie-1]=J.slice(ie*he),oe}function g(J,he,ie){for(var oe=0,de=0,me=0,Oe=0,Me=0,Ce=ie.length,ee=[],le=[];oe<Ce;++oe)ee[oe]=le[oe]=oe,he[oe]=ie[oe];for(;Me<le.length;++Me)oe=le[Me],de=J[oe].L,me=J[oe].R,Oe=J[oe].C,ee[oe]===oe&&(de!==-1&&ee[de]!==de&&(ee[oe]=ee[de]),me!==-1&&ee[me]!==me&&(ee[oe]=ee[me])),Oe!==-1&&(ee[Oe]=oe),de!==-1&&oe!=ee[oe]&&(ee[de]=ee[oe],le.lastIndexOf(de)<Me&&le.push(de)),me!==-1&&oe!=ee[oe]&&(ee[me]=ee[oe],le.lastIndexOf(me)<Me&&le.push(me));for(oe=1;oe<Ce;++oe)ee[oe]===oe&&(me!==-1&&ee[me]!==me?ee[oe]=ee[me]:de!==-1&&ee[de]!==de&&(ee[oe]=ee[de]));for(oe=1;oe<Ce;++oe)if(J[oe].type!==0){if(Me=oe,Me!=ee[Me])do Me=ee[Me],he[oe]=he[Me]+"/"+he[oe];while(Me!==0&&ee[Me]!==-1&&Me!=ee[Me]);ee[oe]=-1}for(he[0]+="/",oe=1;oe<Ce;++oe)J[oe].type!==2&&(he[oe]+="/")}function p(J,he,ie){for(var oe=J.start,de=J.size,me=[],Oe=oe;ie&&de>0&&Oe>=0;)me.push(he.slice(Oe*S,Oe*S+S)),de-=S,Oe=Ll(ie,Oe*4);return me.length===0?ze(0):Kn(me).slice(0,J.size)}function x(J,he,ie,oe,de){var me=M;if(J===M){if(he!==0)throw new Error("DIFAT chain shorter than expected")}else if(J!==-1){var Oe=ie[J],Me=(oe>>>2)-1;if(!Oe)return;for(var Ce=0;Ce<Me&&(me=Ll(Oe,Ce*4))!==M;++Ce)de.push(me);x(Ll(Oe,oe-4),he-1,ie,oe,de)}}function y(J,he,ie,oe,de){var me=[],Oe=[];de||(de=[]);var Me=oe-1,Ce=0,ee=0;for(Ce=he;Ce>=0;){de[Ce]=!0,me[me.length]=Ce,Oe.push(J[Ce]);var le=ie[Math.floor(Ce*4/oe)];if(ee=Ce*4&Me,oe<4+ee)throw new Error("FAT boundary crossed: "+Ce+" 4 "+oe);if(!J[le])break;Ce=Ll(J[le],ee)}return{nodes:me,data:u5([Oe])}}function _(J,he,ie,oe){var de=J.length,me=[],Oe=[],Me=[],Ce=[],ee=oe-1,le=0,Ee=0,$e=0,Ge=0;for(le=0;le<de;++le)if(Me=[],$e=le+he,$e>=de&&($e-=de),!Oe[$e]){Ce=[];var He=[];for(Ee=$e;Ee>=0;){He[Ee]=!0,Oe[Ee]=!0,Me[Me.length]=Ee,Ce.push(J[Ee]);var it=ie[Math.floor(Ee*4/oe)];if(Ge=Ee*4&ee,oe<4+Ge)throw new Error("FAT boundary crossed: "+Ee+" 4 "+oe);if(!J[it]||(Ee=Ll(J[it],Ge),He[Ee]))break}me[$e]={nodes:Me,data:u5([Ce])}}return me}function w(J,he,ie,oe,de,me,Oe,Me){for(var Ce=0,ee=oe.length?2:0,le=he[J].data,Ee=0,$e=0,Ge;Ee<le.length;Ee+=128){var He=le.slice(Ee,Ee+128);ni(He,64),$e=He.read_shift(2),Ge=Zx(He,0,$e-ee),oe.push(Ge);var it={name:Ge,type:He.read_shift(1),color:He.read_shift(1),L:He.read_shift(4,"i"),R:He.read_shift(4,"i"),C:He.read_shift(4,"i"),clsid:He.read_shift(16),state:He.read_shift(4,"i"),start:0,size:0},ht=He.read_shift(2)+He.read_shift(2)+He.read_shift(2)+He.read_shift(2);ht!==0&&(it.ct=P(He,He.l-8));var $t=He.read_shift(2)+He.read_shift(2)+He.read_shift(2)+He.read_shift(2);$t!==0&&(it.mt=P(He,He.l-8)),it.start=He.read_shift(4,"i"),it.size=He.read_shift(4,"i"),it.size<0&&it.start<0&&(it.size=it.type=0,it.start=M,it.name=""),it.type===5?(Ce=it.start,de>0&&Ce!==M&&(he[Ce].name="!StreamData")):it.size>=4096?(it.storage="fat",he[it.start]===void 0&&(he[it.start]=y(ie,it.start,he.fat_addrs,he.ssz)),he[it.start].name=it.name,it.content=he[it.start].data.slice(0,it.size)):(it.storage="minifat",it.size<0?it.size=0:Ce!==M&&it.start!==M&&he[Ce]&&(it.content=p(it,he[Ce].data,(he[Me]||{}).data))),it.content&&ni(it.content,0),me[Ge]=it,Oe.push(it)}}function P(J,he){return new Date((si(J,he+4)/1e7*Math.pow(2,32)+si(J,he)/1e7-11644473600)*1e3)}function E(J,he){return u(),f(c.readFileSync(J),he)}function D(J,he){var ie=he&&he.type;switch(ie||er&&Buffer.isBuffer(J)&&(ie="buffer"),ie||"base64"){case"file":return E(J,he);case"base64":return f(rs(no(J)),he);case"binary":return f(rs(J),he)}return f(J,he)}function N(J,he){var ie=he||{},oe=ie.root||"Root Entry";if(J.FullPaths||(J.FullPaths=[]),J.FileIndex||(J.FileIndex=[]),J.FullPaths.length!==J.FileIndex.length)throw new Error("inconsistent CFB structure");J.FullPaths.length===0&&(J.FullPaths[0]=oe+"/",J.FileIndex[0]={name:oe,type:5}),ie.CLSID&&(J.FileIndex[0].clsid=ie.CLSID),k(J)}function k(J){var he="Sh33tJ5";if(!mr.find(J,"/"+he)){var ie=ze(4);ie[0]=55,ie[1]=ie[3]=50,ie[2]=54,J.FileIndex.push({name:he,type:2,content:ie,size:4,L:69,R:69,C:69}),J.FullPaths.push(J.FullPaths[0]+he),F(J)}}function F(J,he){N(J);for(var ie=!1,oe=!1,de=J.FullPaths.length-1;de>=0;--de){var me=J.FileIndex[de];switch(me.type){case 0:oe?ie=!0:(J.FileIndex.pop(),J.FullPaths.pop());break;case 1:case 2:case 5:oe=!0,isNaN(me.R*me.L*me.C)&&(ie=!0),me.R>-1&&me.L>-1&&me.R==me.L&&(ie=!0);break;default:ie=!0;break}}if(!(!ie&&!he)){var Oe=new Date(1987,1,19),Me=0,Ce=Object.create?Object.create(null):{},ee=[];for(de=0;de<J.FullPaths.length;++de)Ce[J.FullPaths[de]]=!0,J.FileIndex[de].type!==0&&ee.push([J.FullPaths[de],J.FileIndex[de]]);for(de=0;de<ee.length;++de){var le=n(ee[de][0]);oe=Ce[le],oe||(ee.push([le,{name:a(le).replace("/",""),type:1,clsid:H,ct:Oe,mt:Oe,content:null}]),Ce[le]=!0)}for(ee.sort(function(Ge,He){return r(Ge[0],He[0])}),J.FullPaths=[],J.FileIndex=[],de=0;de<ee.length;++de)J.FullPaths[de]=ee[de][0],J.FileIndex[de]=ee[de][1];for(de=0;de<ee.length;++de){var Ee=J.FileIndex[de],$e=J.FullPaths[de];if(Ee.name=a($e).replace("/",""),Ee.L=Ee.R=Ee.C=-(Ee.color=1),Ee.size=Ee.content?Ee.content.length:0,Ee.start=0,Ee.clsid=Ee.clsid||H,de===0)Ee.C=ee.length>1?1:-1,Ee.size=0,Ee.type=5;else if($e.slice(-1)=="/"){for(Me=de+1;Me<ee.length&&n(J.FullPaths[Me])!=$e;++Me);for(Ee.C=Me>=ee.length?-1:Me,Me=de+1;Me<ee.length&&n(J.FullPaths[Me])!=n($e);++Me);Ee.R=Me>=ee.length?-1:Me,Ee.type=1}else n(J.FullPaths[de+1]||"")==n($e)&&(Ee.R=de+1),Ee.type=2}}}function L(J,he){var ie=he||{};if(ie.fileType=="mad")return Nt(J,ie);switch(F(J),ie.fileType){case"zip":return gi(J,ie)}var oe=function(Ge){for(var He=0,it=0,ht=0;ht<Ge.FileIndex.length;++ht){var $t=Ge.FileIndex[ht];if($t.content){var dr=$t.content.length;dr>0&&(dr<4096?He+=dr+63>>6:it+=dr+511>>9)}}for(var an=Ge.FullPaths.length+3>>2,Ui=He+7>>3,Fs=He+127>>7,ms=Ui+it+an+Fs,$i=ms+127>>7,ps=$i<=109?0:Math.ceil(($i-109)/127);ms+$i+ps+127>>7>$i;)ps=++$i<=109?0:Math.ceil(($i-109)/127);var Ya=[1,ps,$i,Fs,an,it,He,0];return Ge.FileIndex[0].size=He<<6,Ya[7]=(Ge.FileIndex[0].start=Ya[0]+Ya[1]+Ya[2]+Ya[3]+Ya[4]+Ya[5])+(Ya[6]+7>>3),Ya}(J),de=ze(oe[7]<<9),me=0,Oe=0;{for(me=0;me<8;++me)de.write_shift(1,G[me]);for(me=0;me<8;++me)de.write_shift(2,0);for(de.write_shift(2,62),de.write_shift(2,3),de.write_shift(2,65534),de.write_shift(2,9),de.write_shift(2,6),me=0;me<3;++me)de.write_shift(2,0);for(de.write_shift(4,0),de.write_shift(4,oe[2]),de.write_shift(4,oe[0]+oe[1]+oe[2]+oe[3]-1),de.write_shift(4,0),de.write_shift(4,4096),de.write_shift(4,oe[3]?oe[0]+oe[1]+oe[2]-1:M),de.write_shift(4,oe[3]),de.write_shift(-4,oe[1]?oe[0]-1:M),de.write_shift(4,oe[1]),me=0;me<109;++me)de.write_shift(-4,me<oe[2]?oe[1]+me:-1)}if(oe[1])for(Oe=0;Oe<oe[1];++Oe){for(;me<236+Oe*127;++me)de.write_shift(-4,me<oe[2]?oe[1]+me:-1);de.write_shift(-4,Oe===oe[1]-1?M:Oe+1)}var Me=function(Ge){for(Oe+=Ge;me<Oe-1;++me)de.write_shift(-4,me+1);Ge&&(++me,de.write_shift(-4,M))};for(Oe=me=0,Oe+=oe[1];me<Oe;++me)de.write_shift(-4,q.DIFSECT);for(Oe+=oe[2];me<Oe;++me)de.write_shift(-4,q.FATSECT);Me(oe[3]),Me(oe[4]);for(var Ce=0,ee=0,le=J.FileIndex[0];Ce<J.FileIndex.length;++Ce)le=J.FileIndex[Ce],le.content&&(ee=le.content.length,!(ee<4096)&&(le.start=Oe,Me(ee+511>>9)));for(Me(oe[6]+7>>3);de.l&511;)de.write_shift(-4,q.ENDOFCHAIN);for(Oe=me=0,Ce=0;Ce<J.FileIndex.length;++Ce)le=J.FileIndex[Ce],le.content&&(ee=le.content.length,!(!ee||ee>=4096)&&(le.start=Oe,Me(ee+63>>6)));for(;de.l&511;)de.write_shift(-4,q.ENDOFCHAIN);for(me=0;me<oe[4]<<2;++me){var Ee=J.FullPaths[me];if(!Ee||Ee.length===0){for(Ce=0;Ce<17;++Ce)de.write_shift(4,0);for(Ce=0;Ce<3;++Ce)de.write_shift(4,-1);for(Ce=0;Ce<12;++Ce)de.write_shift(4,0);continue}le=J.FileIndex[me],me===0&&(le.start=le.size?le.start-1:M);var $e=me===0&&ie.root||le.name;if(ee=2*($e.length+1),de.write_shift(64,$e,"utf16le"),de.write_shift(2,ee),de.write_shift(1,le.type),de.write_shift(1,le.color),de.write_shift(-4,le.L),de.write_shift(-4,le.R),de.write_shift(-4,le.C),le.clsid)de.write_shift(16,le.clsid,"hex");else for(Ce=0;Ce<4;++Ce)de.write_shift(4,0);de.write_shift(4,le.state||0),de.write_shift(4,0),de.write_shift(4,0),de.write_shift(4,0),de.write_shift(4,0),de.write_shift(4,le.start),de.write_shift(4,le.size),de.write_shift(4,0)}for(me=1;me<J.FileIndex.length;++me)if(le=J.FileIndex[me],le.size>=4096)if(de.l=le.start+1<<9,er&&Buffer.isBuffer(le.content))le.content.copy(de,de.l,0,le.size),de.l+=le.size+511&-512;else{for(Ce=0;Ce<le.size;++Ce)de.write_shift(1,le.content[Ce]);for(;Ce&511;++Ce)de.write_shift(1,0)}for(me=1;me<J.FileIndex.length;++me)if(le=J.FileIndex[me],le.size>0&&le.size<4096)if(er&&Buffer.isBuffer(le.content))le.content.copy(de,de.l,0,le.size),de.l+=le.size+63&-64;else{for(Ce=0;Ce<le.size;++Ce)de.write_shift(1,le.content[Ce]);for(;Ce&63;++Ce)de.write_shift(1,0)}if(er)de.l=de.length;else for(;de.l<de.length;)de.write_shift(1,0);return de}function A(J,he){var ie=J.FullPaths.map(function(Ce){return Ce.toUpperCase()}),oe=ie.map(function(Ce){var ee=Ce.split("/");return ee[ee.length-(Ce.slice(-1)=="/"?2:1)]}),de=!1;he.charCodeAt(0)===47?(de=!0,he=ie[0].slice(0,-1)+he):de=he.indexOf("/")!==-1;var me=he.toUpperCase(),Oe=de===!0?ie.indexOf(me):oe.indexOf(me);if(Oe!==-1)return J.FileIndex[Oe];var Me=!me.match(X0);for(me=me.replace(Kf,""),Me&&(me=me.replace(X0,"!")),Oe=0;Oe<ie.length;++Oe)if((Me?ie[Oe].replace(X0,"!"):ie[Oe]).replace(Kf,"")==me||(Me?oe[Oe].replace(X0,"!"):oe[Oe]).replace(Kf,"")==me)return J.FileIndex[Oe];return null}var S=64,M=-2,U="d0cf11e0a1b11ae1",G=[208,207,17,224,161,177,26,225],H="00000000000000000000000000000000",q={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:M,FREESECT:-1,HEADER_SIGNATURE:U,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:H,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function V(J,he,ie){u();var oe=L(J,ie);c.writeFileSync(he,oe)}function W(J){for(var he=new Array(J.length),ie=0;ie<J.length;++ie)he[ie]=String.fromCharCode(J[ie]);return he.join("")}function ne(J,he){var ie=L(J,he);switch(he&&he.type||"buffer"){case"file":return u(),c.writeFileSync(he.filename,ie),ie;case"binary":return typeof ie=="string"?ie:W(ie);case"base64":return cd(typeof ie=="string"?ie:W(ie));case"buffer":if(er)return Buffer.isBuffer(ie)?ie:uo(ie);case"array":return typeof ie=="string"?rs(ie):ie}return ie}var ce;function C(J){try{var he=J.InflateRaw,ie=new he;if(ie._processChunk(new Uint8Array([3,0]),ie._finishFlushFlag),ie.bytesRead)ce=J;else throw new Error("zlib does not expose bytesRead")}catch(oe){console.error("cannot use native zlib: "+(oe.message||oe))}}function I(J,he){if(!ce)return Ot(J,he);var ie=ce.InflateRaw,oe=new ie,de=oe._processChunk(J.slice(J.l),oe._finishFlushFlag);return J.l+=oe.bytesRead,de}function B(J){return ce?ce.deflateRawSync(J):Tt(J)}var z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ge=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function pe(J){var he=(J<<1|J<<11)&139536|(J<<5|J<<15)&558144;return(he>>16|he>>8|he)&255}for(var te=typeof Uint8Array<"u",be=te?new Uint8Array(256):[],Te=0;Te<256;++Te)be[Te]=pe(Te);function ye(J,he){var ie=be[J&255];return he<=8?ie>>>8-he:(ie=ie<<8|be[J>>8&255],he<=16?ie>>>16-he:(ie=ie<<8|be[J>>16&255],ie>>>24-he))}function Ze(J,he){var ie=he&7,oe=he>>>3;return(J[oe]|(ie<=6?0:J[oe+1]<<8))>>>ie&3}function Ke(J,he){var ie=he&7,oe=he>>>3;return(J[oe]|(ie<=5?0:J[oe+1]<<8))>>>ie&7}function De(J,he){var ie=he&7,oe=he>>>3;return(J[oe]|(ie<=4?0:J[oe+1]<<8))>>>ie&15}function fe(J,he){var ie=he&7,oe=he>>>3;return(J[oe]|(ie<=3?0:J[oe+1]<<8))>>>ie&31}function Ve(J,he){var ie=he&7,oe=he>>>3;return(J[oe]|(ie<=1?0:J[oe+1]<<8))>>>ie&127}function ft(J,he,ie){var oe=he&7,de=he>>>3,me=(1<<ie)-1,Oe=J[de]>>>oe;return ie<8-oe||(Oe|=J[de+1]<<8-oe,ie<16-oe)||(Oe|=J[de+2]<<16-oe,ie<24-oe)||(Oe|=J[de+3]<<24-oe),Oe&me}function et(J,he,ie){var oe=he&7,de=he>>>3;return oe<=5?J[de]|=(ie&7)<<oe:(J[de]|=ie<<oe&255,J[de+1]=(ie&7)>>8-oe),he+3}function se(J,he,ie){var oe=he&7,de=he>>>3;return ie=(ie&1)<<oe,J[de]|=ie,he+1}function xe(J,he,ie){var oe=he&7,de=he>>>3;return ie<<=oe,J[de]|=ie&255,ie>>>=8,J[de+1]=ie,he+8}function we(J,he,ie){var oe=he&7,de=he>>>3;return ie<<=oe,J[de]|=ie&255,ie>>>=8,J[de+1]=ie&255,J[de+2]=ie>>>8,he+16}function qe(J,he){var ie=J.length,oe=2*ie>he?2*ie:he+5,de=0;if(ie>=he)return J;if(er){var me=Yw(oe);if(J.copy)J.copy(me);else for(;de<J.length;++de)me[de]=J[de];return me}else if(te){var Oe=new Uint8Array(oe);if(Oe.set)Oe.set(J);else for(;de<ie;++de)Oe[de]=J[de];return Oe}return J.length=oe,J}function Re(J){for(var he=new Array(J),ie=0;ie<J;++ie)he[ie]=0;return he}function Be(J,he,ie){var oe=1,de=0,me=0,Oe=0,Me=0,Ce=J.length,ee=te?new Uint16Array(32):Re(32);for(me=0;me<32;++me)ee[me]=0;for(me=Ce;me<ie;++me)J[me]=0;Ce=J.length;var le=te?new Uint16Array(Ce):Re(Ce);for(me=0;me<Ce;++me)ee[de=J[me]]++,oe<de&&(oe=de),le[me]=0;for(ee[0]=0,me=1;me<=oe;++me)ee[me+16]=Me=Me+ee[me-1]<<1;for(me=0;me<Ce;++me)Me=J[me],Me!=0&&(le[me]=ee[Me+16]++);var Ee=0;for(me=0;me<Ce;++me)if(Ee=J[me],Ee!=0)for(Me=ye(le[me],oe)>>oe-Ee,Oe=(1<<oe+4-Ee)-1;Oe>=0;--Oe)he[Me|Oe<<Ee]=Ee&15|me<<4;return oe}var nt=te?new Uint16Array(512):Re(512),pt=te?new Uint16Array(32):Re(32);if(!te){for(var ct=0;ct<512;++ct)nt[ct]=0;for(ct=0;ct<32;++ct)pt[ct]=0}(function(){for(var J=[],he=0;he<32;he++)J.push(5);Be(J,pt,32);var ie=[];for(he=0;he<=143;he++)ie.push(8);for(;he<=255;he++)ie.push(9);for(;he<=279;he++)ie.push(7);for(;he<=287;he++)ie.push(8);Be(ie,nt,288)})();var gt=function(){for(var he=te?new Uint8Array(32768):[],ie=0,oe=0;ie<ge.length-1;++ie)for(;oe<ge[ie+1];++oe)he[oe]=ie;for(;oe<32768;++oe)he[oe]=29;var de=te?new Uint8Array(259):[];for(ie=0,oe=0;ie<Z.length-1;++ie)for(;oe<Z[ie+1];++oe)de[oe]=ie;function me(Me,Ce){for(var ee=0;ee<Me.length;){var le=Math.min(65535,Me.length-ee),Ee=ee+le==Me.length;for(Ce.write_shift(1,+Ee),Ce.write_shift(2,le),Ce.write_shift(2,~le&65535);le-- >0;)Ce[Ce.l++]=Me[ee++]}return Ce.l}function Oe(Me,Ce){for(var ee=0,le=0,Ee=te?new Uint16Array(32768):[];le<Me.length;){var $e=Math.min(65535,Me.length-le);if($e<10){for(ee=et(Ce,ee,+(le+$e==Me.length)),ee&7&&(ee+=8-(ee&7)),Ce.l=ee/8|0,Ce.write_shift(2,$e),Ce.write_shift(2,~$e&65535);$e-- >0;)Ce[Ce.l++]=Me[le++];ee=Ce.l*8;continue}ee=et(Ce,ee,+(le+$e==Me.length)+2);for(var Ge=0;$e-- >0;){var He=Me[le];Ge=(Ge<<5^He)&32767;var it=-1,ht=0;if((it=Ee[Ge])&&(it|=le&-32768,it>le&&(it-=32768),it<le))for(;Me[it+ht]==Me[le+ht]&&ht<250;)++ht;if(ht>2){He=de[ht],He<=22?ee=xe(Ce,ee,be[He+1]>>1)-1:(xe(Ce,ee,3),ee+=5,xe(Ce,ee,be[He-23]>>5),ee+=3);var $t=He<8?0:He-4>>2;$t>0&&(we(Ce,ee,ht-Z[He]),ee+=$t),He=he[le-it],ee=xe(Ce,ee,be[He]>>3),ee-=3;var dr=He<4?0:He-2>>1;dr>0&&(we(Ce,ee,le-it-ge[He]),ee+=dr);for(var an=0;an<ht;++an)Ee[Ge]=le&32767,Ge=(Ge<<5^Me[le])&32767,++le;$e-=ht-1}else He<=143?He=He+48:ee=se(Ce,ee,1),ee=xe(Ce,ee,be[He]),Ee[Ge]=le&32767,++le}ee=xe(Ce,ee,0)-1}return Ce.l=(ee+7)/8|0,Ce.l}return function(Ce,ee){return Ce.length<8?me(Ce,ee):Oe(Ce,ee)}}();function Tt(J){var he=ze(50+Math.floor(J.length*1.1)),ie=gt(J,he);return he.slice(0,ie)}var st=te?new Uint16Array(32768):Re(32768),Fr=te?new Uint16Array(32768):Re(32768),Mt=te?new Uint16Array(128):Re(128),Br=1,qt=1;function Yt(J,he){var ie=fe(J,he)+257;he+=5;var oe=fe(J,he)+1;he+=5;var de=De(J,he)+4;he+=4;for(var me=0,Oe=te?new Uint8Array(19):Re(19),Me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ce=1,ee=te?new Uint8Array(8):Re(8),le=te?new Uint8Array(8):Re(8),Ee=Oe.length,$e=0;$e<de;++$e)Oe[z[$e]]=me=Ke(J,he),Ce<me&&(Ce=me),ee[me]++,he+=3;var Ge=0;for(ee[0]=0,$e=1;$e<=Ce;++$e)le[$e]=Ge=Ge+ee[$e-1]<<1;for($e=0;$e<Ee;++$e)(Ge=Oe[$e])!=0&&(Me[$e]=le[Ge]++);var He=0;for($e=0;$e<Ee;++$e)if(He=Oe[$e],He!=0){Ge=be[Me[$e]]>>8-He;for(var it=(1<<7-He)-1;it>=0;--it)Mt[Ge|it<<He]=He&7|$e<<3}var ht=[];for(Ce=1;ht.length<ie+oe;)switch(Ge=Mt[Ve(J,he)],he+=Ge&7,Ge>>>=3){case 16:for(me=3+Ze(J,he),he+=2,Ge=ht[ht.length-1];me-- >0;)ht.push(Ge);break;case 17:for(me=3+Ke(J,he),he+=3;me-- >0;)ht.push(0);break;case 18:for(me=11+Ve(J,he),he+=7;me-- >0;)ht.push(0);break;default:ht.push(Ge),Ce<Ge&&(Ce=Ge);break}var $t=ht.slice(0,ie),dr=ht.slice(ie);for($e=ie;$e<286;++$e)$t[$e]=0;for($e=oe;$e<30;++$e)dr[$e]=0;return Br=Be($t,st,286),qt=Be(dr,Fr,30),he}function Un(J,he){if(J[0]==3&&!(J[1]&3))return[Ql(he),2];for(var ie=0,oe=0,de=Yw(he||1<<18),me=0,Oe=de.length>>>0,Me=0,Ce=0;!(oe&1);){if(oe=Ke(J,ie),ie+=3,oe>>>1)oe>>1==1?(Me=9,Ce=5):(ie=Yt(J,ie),Me=Br,Ce=qt);else{ie&7&&(ie+=8-(ie&7));var ee=J[ie>>>3]|J[(ie>>>3)+1]<<8;if(ie+=32,ee>0)for(!he&&Oe<me+ee&&(de=qe(de,me+ee),Oe=de.length);ee-- >0;)de[me++]=J[ie>>>3],ie+=8;continue}for(;;){!he&&Oe<me+32767&&(de=qe(de,me+32767),Oe=de.length);var le=ft(J,ie,Me),Ee=oe>>>1==1?nt[le]:st[le];if(ie+=Ee&15,Ee>>>=4,!(Ee>>>8&255))de[me++]=Ee;else{if(Ee==256)break;Ee-=257;var $e=Ee<8?0:Ee-4>>2;$e>5&&($e=0);var Ge=me+Z[Ee];$e>0&&(Ge+=ft(J,ie,$e),ie+=$e),le=ft(J,ie,Ce),Ee=oe>>>1==1?pt[le]:Fr[le],ie+=Ee&15,Ee>>>=4;var He=Ee<4?0:Ee-2>>1,it=ge[Ee];for(He>0&&(it+=ft(J,ie,He),ie+=He),!he&&Oe<Ge&&(de=qe(de,Ge+100),Oe=de.length);me<Ge;)de[me]=de[me-it],++me}}}return he?[de,ie+7>>>3]:[de.slice(0,me),ie+7>>>3]}function Ot(J,he){var ie=J.slice(J.l||0),oe=Un(ie,he);return J.l+=oe[1],oe[0]}function vn(J,he){if(J)typeof console<"u"&&console.error(he);else throw new Error(he)}function rr(J,he){var ie=J;ni(ie,0);var oe=[],de=[],me={FileIndex:oe,FullPaths:de};N(me,{root:he.root});for(var Oe=ie.length-4;(ie[Oe]!=80||ie[Oe+1]!=75||ie[Oe+2]!=5||ie[Oe+3]!=6)&&Oe>=0;)--Oe;ie.l=Oe+4,ie.l+=4;var Me=ie.read_shift(2);ie.l+=6;var Ce=ie.read_shift(4);for(ie.l=Ce,Oe=0;Oe<Me;++Oe){ie.l+=20;var ee=ie.read_shift(4),le=ie.read_shift(4),Ee=ie.read_shift(2),$e=ie.read_shift(2),Ge=ie.read_shift(2);ie.l+=8;var He=ie.read_shift(4),it=o(ie.slice(ie.l+Ee,ie.l+Ee+$e));ie.l+=Ee+$e+Ge;var ht=ie.l;ie.l=He+4,va(ie,ee,le,me,it),ie.l=ht}return me}function va(J,he,ie,oe,de){J.l+=2;var me=J.read_shift(2),Oe=J.read_shift(2),Me=s(J);if(me&8257)throw new Error("Unsupported ZIP encryption");for(var Ce=J.read_shift(4),ee=J.read_shift(4),le=J.read_shift(4),Ee=J.read_shift(2),$e=J.read_shift(2),Ge="",He=0;He<Ee;++He)Ge+=String.fromCharCode(J[J.l++]);if($e){var it=o(J.slice(J.l,J.l+$e));(it[21589]||{}).mt&&(Me=it[21589].mt),((de||{})[21589]||{}).mt&&(Me=de[21589].mt)}J.l+=$e;var ht=J.slice(J.l,J.l+ee);switch(Oe){case 8:ht=I(J,le);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Oe)}var $t=!1;me&8&&(Ce=J.read_shift(4),Ce==134695760&&(Ce=J.read_shift(4),$t=!0),ee=J.read_shift(4),le=J.read_shift(4)),ee!=he&&vn($t,"Bad compressed size: "+he+" != "+ee),le!=ie&&vn($t,"Bad uncompressed size: "+ie+" != "+le),Yr(oe,Ge,ht,{unsafe:!0,mt:Me})}function gi(J,he){var ie=he||{},oe=[],de=[],me=ze(1),Oe=ie.compression?8:0,Me=0,Ce=0,ee=0,le=0,Ee=0,$e=J.FullPaths[0],Ge=$e,He=J.FileIndex[0],it=[],ht=0;for(Ce=1;Ce<J.FullPaths.length;++Ce)if(Ge=J.FullPaths[Ce].slice($e.length),He=J.FileIndex[Ce],!(!He.size||!He.content||Ge=="Sh33tJ5")){var $t=le,dr=ze(Ge.length);for(ee=0;ee<Ge.length;++ee)dr.write_shift(1,Ge.charCodeAt(ee)&127);dr=dr.slice(0,dr.l),it[Ee]=JF.buf(He.content,0);var an=He.content;Oe==8&&(an=B(an)),me=ze(30),me.write_shift(4,67324752),me.write_shift(2,20),me.write_shift(2,Me),me.write_shift(2,Oe),He.mt?i(me,He.mt):me.write_shift(4,0),me.write_shift(-4,it[Ee]),me.write_shift(4,an.length),me.write_shift(4,He.content.length),me.write_shift(2,dr.length),me.write_shift(2,0),le+=me.length,oe.push(me),le+=dr.length,oe.push(dr),le+=an.length,oe.push(an),me=ze(46),me.write_shift(4,33639248),me.write_shift(2,0),me.write_shift(2,20),me.write_shift(2,Me),me.write_shift(2,Oe),me.write_shift(4,0),me.write_shift(-4,it[Ee]),me.write_shift(4,an.length),me.write_shift(4,He.content.length),me.write_shift(2,dr.length),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(4,0),me.write_shift(4,$t),ht+=me.l,de.push(me),ht+=dr.length,de.push(dr),++Ee}return me=ze(22),me.write_shift(4,101010256),me.write_shift(2,0),me.write_shift(2,0),me.write_shift(2,Ee),me.write_shift(2,Ee),me.write_shift(4,ht),me.write_shift(4,le),me.write_shift(2,0),Kn([Kn(oe),Kn(de),me])}var Gt={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function yt(J,he){if(J.ctype)return J.ctype;var ie=J.name||"",oe=ie.match(/\.([^\.]+)$/);return oe&&Gt[oe[1]]||he&&(oe=(ie=he).match(/[\.\\]([^\.\\])+$/),oe&&Gt[oe[1]])?Gt[oe[1]]:"application/octet-stream"}function zt(J){for(var he=cd(J),ie=[],oe=0;oe<he.length;oe+=76)ie.push(he.slice(oe,oe+76));return ie.join(`\r
`)+`\r
`}function vi(J){var he=J.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ee){var le=ee.charCodeAt(0).toString(16).toUpperCase();return"="+(le.length==1?"0"+le:le)});he=he.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),he.charAt(0)==`
`&&(he="=0D"+he.slice(1)),he=he.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ie=[],oe=he.split(`\r
`),de=0;de<oe.length;++de){var me=oe[de];if(me.length==0){ie.push("");continue}for(var Oe=0;Oe<me.length;){var Me=76,Ce=me.slice(Oe,Oe+Me);Ce.charAt(Me-1)=="="?Me--:Ce.charAt(Me-2)=="="?Me-=2:Ce.charAt(Me-3)=="="&&(Me-=3),Ce=me.slice(Oe,Oe+Me),Oe+=Me,Oe<me.length&&(Ce+="="),ie.push(Ce)}}return ie.join(`\r
`)}function nr(J){for(var he=[],ie=0;ie<J.length;++ie){for(var oe=J[ie];ie<=J.length&&oe.charAt(oe.length-1)=="=";)oe=oe.slice(0,oe.length-1)+J[++ie];he.push(oe)}for(var de=0;de<he.length;++de)he[de]=he[de].replace(/[=][0-9A-Fa-f]{2}/g,function(me){return String.fromCharCode(parseInt(me.slice(1),16))});return rs(he.join(`\r
`))}function xa(J,he,ie){for(var oe="",de="",me="",Oe,Me=0;Me<10;++Me){var Ce=he[Me];if(!Ce||Ce.match(/^\s*$/))break;var ee=Ce.match(/^(.*?):\s*([^\s].*)$/);if(ee)switch(ee[1].toLowerCase()){case"content-location":oe=ee[2].trim();break;case"content-type":me=ee[2].trim();break;case"content-transfer-encoding":de=ee[2].trim();break}}switch(++Me,de.toLowerCase()){case"base64":Oe=rs(no(he.slice(Me).join("")));break;case"quoted-printable":Oe=nr(he.slice(Me));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+de)}var le=Yr(J,oe.slice(ie.length),Oe,{unsafe:!0});me&&(le.ctype=me)}function $n(J,he){if(W(J.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ie=he&&he.root||"",oe=(er&&Buffer.isBuffer(J)?J.toString("binary"):W(J)).split(`\r
`),de=0,me="";for(de=0;de<oe.length;++de)if(me=oe[de],!!/^Content-Location:/i.test(me)&&(me=me.slice(me.indexOf("file")),ie||(ie=me.slice(0,me.lastIndexOf("/")+1)),me.slice(0,ie.length)!=ie))for(;ie.length>0&&(ie=ie.slice(0,ie.length-1),ie=ie.slice(0,ie.lastIndexOf("/")+1),me.slice(0,ie.length)!=ie););var Oe=(oe[1]||"").match(/boundary="(.*?)"/);if(!Oe)throw new Error("MAD cannot find boundary");var Me="--"+(Oe[1]||""),Ce=[],ee=[],le={FileIndex:Ce,FullPaths:ee};N(le);var Ee,$e=0;for(de=0;de<oe.length;++de){var Ge=oe[de];Ge!==Me&&Ge!==Me+"--"||($e++&&xa(le,oe.slice(Ee,de),ie),Ee=de)}return le}function Nt(J,he){var ie=he||{},oe=ie.boundary||"SheetJS";oe="------="+oe;for(var de=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+oe.slice(2)+'"',"","",""],me=J.FullPaths[0],Oe=me,Me=J.FileIndex[0],Ce=1;Ce<J.FullPaths.length;++Ce)if(Oe=J.FullPaths[Ce].slice(me.length),Me=J.FileIndex[Ce],!(!Me.size||!Me.content||Oe=="Sh33tJ5")){Oe=Oe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ht){return"_x"+ht.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ht){return"_u"+ht.charCodeAt(0).toString(16)+"_"});for(var ee=Me.content,le=er&&Buffer.isBuffer(ee)?ee.toString("binary"):W(ee),Ee=0,$e=Math.min(1024,le.length),Ge=0,He=0;He<=$e;++He)(Ge=le.charCodeAt(He))>=32&&Ge<128&&++Ee;var it=Ee>=$e*4/5;de.push(oe),de.push("Content-Location: "+(ie.root||"file:///C:/SheetJS/")+Oe),de.push("Content-Transfer-Encoding: "+(it?"quoted-printable":"base64")),de.push("Content-Type: "+yt(Me,Oe)),de.push(""),de.push(it?vi(le):zt(le))}return de.push(oe+`--\r
`),de.join(`\r
`)}function Ur(J){var he={};return N(he,J),he}function Yr(J,he,ie,oe){var de=oe&&oe.unsafe;de||N(J);var me=!de&&mr.find(J,he);if(!me){var Oe=J.FullPaths[0];he.slice(0,Oe.length)==Oe?Oe=he:(Oe.slice(-1)!="/"&&(Oe+="/"),Oe=(Oe+he).replace("//","/")),me={name:a(he),type:2},J.FileIndex.push(me),J.FullPaths.push(Oe),de||mr.utils.cfb_gc(J)}return me.content=ie,me.size=ie?ie.length:0,oe&&(oe.CLSID&&(me.clsid=oe.CLSID),oe.mt&&(me.mt=oe.mt),oe.ct&&(me.ct=oe.ct)),me}function Pn(J,he){N(J);var ie=mr.find(J,he);if(ie){for(var oe=0;oe<J.FileIndex.length;++oe)if(J.FileIndex[oe]==ie)return J.FileIndex.splice(oe,1),J.FullPaths.splice(oe,1),!0}return!1}function br(J,he,ie){N(J);var oe=mr.find(J,he);if(oe){for(var de=0;de<J.FileIndex.length;++de)if(J.FileIndex[de]==oe)return J.FileIndex[de].name=a(ie),J.FullPaths[de]=ie,!0}return!1}function Pr(J){F(J,!0)}return t.find=A,t.read=D,t.parse=f,t.write=ne,t.writeFile=V,t.utils={cfb_new:Ur,cfb_add:Yr,cfb_del:Pn,cfb_mov:br,cfb_gc:Pr,ReadShift:Xf,CheckField:AA,prep_blob:ni,bconcat:Kn,use_zlib:C,_deflateRaw:Tt,_inflateRaw:Ot,consts:q},t}();function ZF(e){return typeof e=="string"?dp(e):Array.isArray(e)?NF(e):e}function Dd(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=dp(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?Ys(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([ZF(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var s=document.createElement("a");if(s.download!=null)return s.download=e,s.href=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Ld(t)),o.write(t),o.close(),t}catch(c){if(!c.message||!c.message.match(/onstruct/))throw c}throw new Error("cannot save file "+e)}function Jn(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function n5(e,t){for(var r=[],n=Jn(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function Kx(e){for(var t=[],r=Jn(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function pp(e){for(var t=[],r=Jn(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function QF(e){for(var t=[],r=Jn(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Xh=new Date(1899,11,30,0,0,0);function Va(e,t){var r=e.getTime();t&&(r-=1462*24*60*60*1e3);var n=Xh.getTime()+(e.getTimezoneOffset()-Xh.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var lA=new Date,eI=Xh.getTime()+(lA.getTimezoneOffset()-Xh.getTimezoneOffset())*6e4,a5=lA.getTimezoneOffset();function cA(e){var t=new Date;return t.setTime(e*24*60*60*1e3+eI),t.getTimezoneOffset()!==a5&&t.setTime(t.getTime()+(t.getTimezoneOffset()-a5)*6e4),t}var i5=new Date("2017-02-19T19:06:09.000Z"),uA=isNaN(i5.getFullYear())?new Date("2/19/17"):i5,tI=uA.getFullYear()==2017;function Pa(e,t){var r=new Date(e);if(tI)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(uA.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function gp(e,t){if(er&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return Ys(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return Ys(SF(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return Ys(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return Ys(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Ga(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Ga(e[r]));return t}function zr(e,t){for(var r="";r.length<t;)r+=e;return r}function Qs(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var rI=["january","february","march","april","may","june","july","august","september","october","november","december"];function ud(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&rI.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Ut(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return er?n=uo(r):n=AF(r),mr.utils.cfb_add(e,t,n)}mr.utils.cfb_add(e,t,r)}else e.file(t,r)}function Yx(){return mr.utils.cfb_new()}var gn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,nI={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Xx=Kx(nI),Jx=/[&<>'"]/g,aI=/[\u0000-\u0008\u000b-\u001f]/g;function ur(e){var t=e+"";return t.replace(Jx,function(r){return Xx[r]}).replace(aI,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function s5(e){return ur(e).replace(/ /g,"_x0020_")}var fA=/[\u0000-\u001f]/g;function iI(e){var t=e+"";return t.replace(Jx,function(r){return Xx[r]}).replace(/\n/g,"<br/>").replace(fA,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function sI(e){var t=e+"";return t.replace(Jx,function(r){return Xx[r]}).replace(fA,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function oI(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function lI(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function v1(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function o5(e){var t=Ql(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function l5(e){return uo(e,"binary").toString("utf8")}var Z0="foo bar baz",Yf=er&&(l5(Z0)==v1(Z0)&&l5||o5(Z0)==v1(Z0)&&o5)||v1,Ys=er?function(e){return uo(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},cI=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),dA=/(^\s|\s$|\n)/;function Yn(e,t){return"<"+e+(t.match(dA)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function fd(e){return Jn(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function ot(e,t,r){return"<"+e+(r!=null?fd(r):"")+(t!=null?(t.match(dA)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function yv(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function uI(e,t){switch(typeof e){case"string":var r=ot("vt:lpwstr",ur(e));return t&&(r=r.replace(/&quot;/g,"_x0022_")),r;case"number":return ot((e|0)==e?"vt:i4":"vt:r8",ur(String(e)));case"boolean":return ot("vt:bool",e?"true":"false")}if(e instanceof Date)return ot("vt:filetime",yv(e));throw new Error("Unable to serialize "+e)}var Dn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Ou=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ii={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function fI(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function dI(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var c5=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},u5=er?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:uo(t)})):c5(e)}:c5,f5=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode($f(e,a)));return n.join("").replace(Kf,"")},Zx=er?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Kf,""):f5(e,t,r)}:f5,d5=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},hA=er?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):d5(e,t,r)}:d5,h5=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(eu(e,a)));return n.join("")},Fd=er?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):h5(t,r,n)}:h5,mA=function(e,t){var r=si(e,t);return r>0?Fd(e,t+4,t+4+r-1):""},pA=mA,gA=function(e,t){var r=si(e,t);return r>0?Fd(e,t+4,t+4+r-1):""},vA=gA,xA=function(e,t){var r=2*si(e,t);return r>0?Fd(e,t+4,t+4+r-1):""},yA=xA,bA=function(t,r){var n=si(t,r);return n>0?Zx(t,r+4,r+4+n):""},wA=bA,_A=function(e,t){var r=si(e,t);return r>0?Fd(e,t+4,t+4+r):""},SA=_A,NA=function(e,t){return fI(e,t)},Jh=NA,Qx=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};er&&(pA=function(t,r){if(!Buffer.isBuffer(t))return mA(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},vA=function(t,r){if(!Buffer.isBuffer(t))return gA(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},yA=function(t,r){if(!Buffer.isBuffer(t))return xA(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},wA=function(t,r){if(!Buffer.isBuffer(t))return bA(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},SA=function(t,r){if(!Buffer.isBuffer(t))return _A(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Jh=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):NA(t,r)},Qx=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var eu=function(e,t){return e[t]},$f=function(e,t){return e[t+1]*256+e[t]},hI=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},si=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Ll=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},mI=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Xf(e,t){var r="",n,a,i=[],s,o,c,u;switch(t){case"dbcs":if(u=this.l,er&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(c=0;c<e;++c)r+=String.fromCharCode($f(this,u)),u+=2;e*=2;break;case"utf8":r=Fd(this,this.l,this.l+e);break;case"utf16le":e*=2,r=Zx(this,this.l,this.l+e);break;case"wstr":return Xf.call(this,e,"dbcs");case"lpstr-ansi":r=pA(this,this.l),e=4+si(this,this.l);break;case"lpstr-cp":r=vA(this,this.l),e=4+si(this,this.l);break;case"lpwstr":r=yA(this,this.l),e=4+2*si(this,this.l);break;case"lpp4":e=4+si(this,this.l),r=wA(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+si(this,this.l),r=SA(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=eu(this,this.l+e++))!==0;)i.push(Y0(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=$f(this,this.l+e))!==0;)i.push(Y0(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",u=this.l,c=0;c<e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=eu(this,u),this.l=u+1,o=Xf.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Y0($f(this,u))),u+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,c=0;c!=e;++c){if(this.lens&&this.lens.indexOf(u)!==-1)return s=eu(this,u),this.l=u+1,o=Xf.call(this,e-c,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(Y0(eu(this,u))),u+=1}r=i.join("");break;default:switch(e){case 1:return n=eu(this,this.l),this.l++,n;case 2:return n=(t==="i"?hI:$f)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Ll:mI)(this,this.l),this.l+=4,n):(a=si(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Jh(this,this.l):a=Jh([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=hA(this,this.l,e);break}}return this.l+=e,r}var pI=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},gI=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},vI=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function xI(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)vI(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,pI(this,t,this.l);break;case 8:if(n=8,r==="f"){dI(this,t,this.l);break}case 16:break;case-4:n=4,gI(this,t,this.l);break}return this.l+=n,this}function AA(e,t){var r=hA(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ni(e,t){e.l=t,e.read_shift=Xf,e.chk=AA,e.write_shift=xI}function Cs(e,t){e.l+=t}function ze(e){var t=Ql(e);return ni(t,0),t}function qa(){var e=[],t=er?256:2048,r=function(u){var f=ze(u);return ni(f,0),f},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(u){return n&&u<n.length-n.l?n:(a(),n=r(Math.max(u+1,t)))},s=function(){return a(),Kn(e)},o=function(u){a(),n=u,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function tt(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=fU[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var s=e.next(i);a<=127?s.write_shift(1,a):(s.write_shift(1,(a&127)+128),s.write_shift(1,a>>7));for(var o=0;o!=4;++o)if(n>=128)s.write_shift(1,(n&127)+128),n>>=7;else{s.write_shift(1,n);break}n>0&&Qx(r)&&e.push(r)}}function Jf(e,t,r){var n=Ga(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function m5(e,t,r){var n=Ga(e);return n.s=Jf(n.s,t.s,r),n.e=Jf(n.e,t.s,r),n}function Zf(e,t){if(e.cRel&&e.c<0)for(e=Ga(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Ga(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=fr(e);return!e.cRel&&e.cRel!=null&&(r=wI(r)),!e.rRel&&e.rRel!=null&&(r=yI(r)),r}function x1(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+da(e.s.c)+":"+(e.e.cRel?"":"$")+da(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Xn(e.s.r)+":"+(e.e.rRel?"":"$")+Xn(e.e.r):Zf(e.s,t.biff)+":"+Zf(e.e,t.biff)}function ey(e){return parseInt(bI(e),10)-1}function Xn(e){return""+(e+1)}function yI(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function bI(e){return e.replace(/\$(\d+)$/,"$1")}function ty(e){for(var t=_I(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function da(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function wI(e){return e.replace(/^([A-Z])/,"$$$1")}function _I(e){return e.replace(/^\$([A-Z])/,"$1")}function SI(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Fn(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function fr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function di(e){var t=e.indexOf(":");return t==-1?{s:Fn(e),e:Fn(e)}:{s:Fn(e.slice(0,t)),e:Fn(e.slice(t+1))}}function hn(e,t){return typeof t>"u"||typeof t=="number"?hn(e.s,e.e):(typeof e!="string"&&(e=fr(e)),typeof t!="string"&&(t=fr(t)),e==t?e:e+":"+t)}function Er(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function p5(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=el(e.z,r?Va(t):t)}catch{}try{return e.w=el((e.XF||{}).numFmtId||(r?14:0),r?Va(t):t)}catch{return""+t}}function ao(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?Id[e.v]||e.v:t==null?p5(e,e.v):p5(e,t))}function dc(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function jA(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?Fn(n.origin):n.origin;s=c.r,o=c.c}i["!ref"]||(i["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var f=Er(i["!ref"]);u.s.c=f.s.c,u.s.r=f.s.r,u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(u.e.r=s=f.e.r+1)}for(var d=0;d!=t.length;++d)if(t[d]){if(!Array.isArray(t[d]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=t[d].length;++m)if(!(typeof t[d][m]>"u")){var h={v:t[d][m]},g=s+d,p=o+m;if(u.s.r>g&&(u.s.r=g),u.s.c>p&&(u.s.c=p),u.e.r<g&&(u.e.r=g),u.e.c<p&&(u.e.c=p),t[d][m]&&typeof t[d][m]=="object"&&!Array.isArray(t[d][m])&&!(t[d][m]instanceof Date))h=t[d][m];else if(Array.isArray(h.v)&&(h.f=t[d][m][1],h.v=h.v[0]),h.v===null)if(h.f)h.t="n";else if(n.nullError)h.t="e",h.v=0;else if(n.sheetStubs)h.t="z";else continue;else typeof h.v=="number"?h.t="n":typeof h.v=="boolean"?h.t="b":h.v instanceof Date?(h.z=n.dateNF||Gr[14],n.cellDates?(h.t="d",h.w=el(h.z,Va(h.v))):(h.t="n",h.v=Va(h.v),h.w=el(h.z,h.v))):h.t="s";if(a)i[g]||(i[g]=[]),i[g][p]&&i[g][p].z&&(h.z=i[g][p].z),i[g][p]=h;else{var x=fr({c:p,r:g});i[x]&&i[x].z&&(h.z=i[x].z),i[x]=h}}}return u.s.c<1e7&&(i["!ref"]=hn(u)),i}function ku(e,t){return jA(null,e,t)}function NI(e){return e.read_shift(4,"i")}function cs(e,t){return t||(t=ze(4)),t.write_shift(4,e),t}function ha(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function In(e,t){var r=!1;return t==null&&(r=!0,t=ze(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function AI(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function jI(e,t){return t||(t=ze(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0),t}function ry(e,t){var r=e.l,n=e.read_shift(1),a=ha(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),c=0;c!=o;++c)i.push(AI(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}function EI(e,t){var r=!1;return t==null&&(r=!0,t=ze(15+4*e.t.length)),t.write_shift(1,0),In(e.t,t),r?t.slice(0,t.l):t}var PI=ry;function TI(e,t){var r=!1;return t==null&&(r=!0,t=ze(23+4*e.t.length)),t.write_shift(1,1),In(e.t,t),t.write_shift(4,1),jI({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function Mi(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function hc(e,t){return t==null&&(t=ze(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function mc(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function pc(e,t){return t==null&&(t=ze(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var CI=ha,EA=In;function ny(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Zh(e,t){var r=!1;return t==null&&(r=!0,t=ze(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var OI=ha,bv=ny,ay=Zh;function PA(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Jh([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Ll(t,0)>>2;return r?a/100:a}function TA(e,t){t==null&&(t=ze(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:a==(a|0)&&a>=-(1<<29)&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function CA(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function kI(e,t){return t||(t=ze(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var gc=CA,Lu=kI;function Du(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function ec(e,t){return(t||ze(8)).write_shift(8,e,"f")}function LI(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),c=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var u=qI[a];u&&(t.rgb=j5(u));break;case 2:t.rgb=j5([s,o,c]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Qh(e,t){if(t||(t=ze(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function DI(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function FI(e,t){t||(t=ze(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var OA=2,ri=3,Q0=11,em=19,eh=64,II=65,MI=71,RI=4108,BI=4126,Vn=80,g5={1:{n:"CodePage",t:OA},2:{n:"Category",t:Vn},3:{n:"PresentationFormat",t:Vn},4:{n:"ByteCount",t:ri},5:{n:"LineCount",t:ri},6:{n:"ParagraphCount",t:ri},7:{n:"SlideCount",t:ri},8:{n:"NoteCount",t:ri},9:{n:"HiddenCount",t:ri},10:{n:"MultimediaClipCount",t:ri},11:{n:"ScaleCrop",t:Q0},12:{n:"HeadingPairs",t:RI},13:{n:"TitlesOfParts",t:BI},14:{n:"Manager",t:Vn},15:{n:"Company",t:Vn},16:{n:"LinksUpToDate",t:Q0},17:{n:"CharacterCount",t:ri},19:{n:"SharedDoc",t:Q0},22:{n:"HyperlinksChanged",t:Q0},23:{n:"AppVersion",t:ri,p:"version"},24:{n:"DigSig",t:II},26:{n:"ContentType",t:Vn},27:{n:"ContentStatus",t:Vn},28:{n:"Language",t:Vn},29:{n:"Version",t:Vn},255:{},2147483648:{n:"Locale",t:em},2147483651:{n:"Behavior",t:em},1919054434:{}},v5={1:{n:"CodePage",t:OA},2:{n:"Title",t:Vn},3:{n:"Subject",t:Vn},4:{n:"Author",t:Vn},5:{n:"Keywords",t:Vn},6:{n:"Comments",t:Vn},7:{n:"Template",t:Vn},8:{n:"LastAuthor",t:Vn},9:{n:"RevNumber",t:Vn},10:{n:"EditTime",t:eh},11:{n:"LastPrinted",t:eh},12:{n:"CreatedDate",t:eh},13:{n:"ModifiedDate",t:eh},14:{n:"PageCount",t:ri},15:{n:"WordCount",t:ri},16:{n:"CharCount",t:ri},17:{n:"Thumbnail",t:MI},18:{n:"Application",t:Vn},19:{n:"DocSecurity",t:ri},255:{},2147483648:{n:"Locale",t:em},2147483651:{n:"Behavior",t:em},1919054434:{}};function UI(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var $I=UI([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),qI=Ga($I),Id={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},WI={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},th={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function kA(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function LA(e,t){var r=QF(WI),n=[],a;n[n.length]=gn,n[n.length]=ot("Types",null,{xmlns:Dn.CT,"xmlns:xsd":Dn.xsd,"xmlns:xsi":Dn.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(c){return ot("Default",null,{Extension:c[0],ContentType:c[1]})}));var i=function(c){e[c]&&e[c].length>0&&(a=e[c][0],n[n.length]=ot("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:th[c][t.bookType]||th[c].xlsx}))},s=function(c){(e[c]||[]).forEach(function(u){n[n.length]=ot("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:th[c][t.bookType]||th[c].xlsx})})},o=function(c){(e[c]||[]).forEach(function(u){n[n.length]=ot("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[c][0]})})};return i("workbooks"),s("sheets"),s("charts"),o("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),s("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var Xt={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function DA(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function uu(e){var t=[gn,ot("Relationships",null,{xmlns:Dn.RELS})];return Jn(e["!id"]).forEach(function(r){t[t.length]=ot("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function lr(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,i?a.TargetMode=i:[Xt.HLINK,Xt.XPATH,Xt.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function zI(e){var t=[gn];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function x5(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function HI(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function VI(e){var t=[gn];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(x5(e[r][0],e[r][1])),t.push(HI("",e[r][0]));return t.push(x5("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function FA(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+Vh.version+"</meta:generator></office:meta></office:document-meta>"}var $l=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function y1(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=ur(t),n[n.length]=r?ot(e,t,r):Yn(e,t))}function IA(e,t){var r=t||{},n=[gn,ot("cp:coreProperties",null,{"xmlns:cp":Dn.CORE_PROPS,"xmlns:dc":Dn.dc,"xmlns:dcterms":Dn.dcterms,"xmlns:dcmitype":Dn.dcmitype,"xmlns:xsi":Dn.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&y1("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:yv(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&y1("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:yv(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=$l.length;++i){var s=$l[i],o=r.Props&&r.Props[s[1]]!=null?r.Props[s[1]]:e?e[s[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&y1(s[0],o,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var fu=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],MA=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function RA(e){var t=[],r=ot;return e||(e={}),e.Application="SheetJS",t[t.length]=gn,t[t.length]=ot("Properties",null,{xmlns:Dn.EXT_PROPS,"xmlns:vt":Dn.vt}),fu.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=ur(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+ur(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function BA(e){var t=[gn,ot("Properties",null,{xmlns:Dn.CUST_PROPS,"xmlns:vt":Dn.vt})];if(!e)return t.join("");var r=1;return Jn(e).forEach(function(a){++r,t[t.length]=ot("property",uI(e[a],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:ur(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var y5={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function GI(e,t){var r=[];return Jn(y5).map(function(n){for(var a=0;a<$l.length;++a)if($l[a][1]==n)return $l[a];for(a=0;a<fu.length;++a)if(fu[a][1]==n)return fu[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(Yn(y5[n[1]]||n[1],a))}}),ot("DocumentProperties",r.join(""),{xmlns:ii.o})}function KI(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&Jn(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var s=0;s<$l.length;++s)if(i==$l[s][1])return;for(s=0;s<fu.length;++s)if(i==fu[s][1])return;for(s=0;s<r.length;++s)if(i==r[s])return;var o=e[i],c="string";typeof o=="number"?(c="float",o=String(o)):o===!0||o===!1?(c="boolean",o=o?"1":"0"):o=String(o),a.push(ot(s5(i),o,{"dt:dt":c}))}}),t&&Jn(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var s=t[i],o="string";typeof s=="number"?(o="float",s=String(s)):s===!0||s===!1?(o="boolean",s=s?"1":"0"):s instanceof Date?(o="dateTime.tz",s=s.toISOString()):s=String(s),a.push(ot(s5(i),s,{"dt:dt":o}))}}),"<"+n+' xmlns="'+ii.o+'">'+a.join("")+"</"+n+">"}function YI(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var s=ze(8);return s.write_shift(4,n),s.write_shift(4,a),s}function b5(e,t){var r=ze(4),n=ze(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=ze(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=YI(t);break;case 31:case 80:for(n=ze(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Kn([r,n])}var UA=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function XI(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function w5(e,t,r){var n=ze(8),a=[],i=[],s=8,o=0,c=ze(8),u=ze(8);if(c.write_shift(4,2),c.write_shift(4,1200),u.write_shift(4,1),i.push(c),a.push(u),s+=8+c.length,!t){u=ze(8),u.write_shift(4,0),a.unshift(u);var f=[ze(4)];for(f[0].write_shift(4,e.length),o=0;o<e.length;++o){var d=e[o][0];for(c=ze(4+4+2*(d.length+1)+(d.length%2?0:2)),c.write_shift(4,o+2),c.write_shift(4,d.length+1),c.write_shift(0,d,"dbcs");c.l!=c.length;)c.write_shift(1,0);f.push(c)}c=Kn(f),i.unshift(c),s+=8+c.length}for(o=0;o<e.length;++o)if(!(t&&!t[e[o][0]])&&!(UA.indexOf(e[o][0])>-1||MA.indexOf(e[o][0])>-1)&&e[o][1]!=null){var m=e[o][1],h=0;if(t){h=+t[e[o][0]];var g=r[h];if(g.p=="version"&&typeof m=="string"){var p=m.split(".");m=(+p[0]<<16)+(+p[1]||0)}c=b5(g.t,m)}else{var x=XI(m);x==-1&&(x=31,m=String(m)),c=b5(x,m)}i.push(c),u=ze(8),u.write_shift(4,t?h:2+o),a.push(u),s+=8+c.length}var y=8*(i.length+1);for(o=0;o<i.length;++o)a[o].write_shift(4,y),y+=i[o].length;return n.write_shift(4,s),n.write_shift(4,i.length),Kn([n].concat(a).concat(i))}function _5(e,t,r,n,a,i){var s=ze(a?68:48),o=[s];s.write_shift(2,65534),s.write_shift(2,0),s.write_shift(4,842412599),s.write_shift(16,mr.utils.consts.HEADER_CLSID,"hex"),s.write_shift(4,a?2:1),s.write_shift(16,t,"hex"),s.write_shift(4,a?68:48);var c=w5(e,r,n);if(o.push(c),a){var u=w5(a,null,null);s.write_shift(16,i,"hex"),s.write_shift(4,68+c.length),o.push(u)}return Kn(o)}function JI(e,t){t||(t=ze(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function ZI(e,t){return e.read_shift(t)===1}function Na(e,t){return t||(t=ze(2)),t.write_shift(2,+!!e),t}function $A(e){return e.read_shift(2,"u")}function Ci(e,t){return t||(t=ze(2)),t.write_shift(2,e),t}function qA(e,t,r){return r||(r=ze(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function WA(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function QI(e){var t=e.t||"",r=ze(3+0);r.write_shift(2,t.length),r.write_shift(1,1);var n=ze(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return Kn(a)}function e7(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function t7(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):e7(e,n,r)}function r7(e,t,r){if(r.biff>5)return t7(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function zA(e,t,r){return r||(r=ze(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function S5(e,t){t||(t=ze(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function n7(e){var t=ze(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var s=[8,6815827,6619237,4849780,83];for(r=0;r<s.length;++r)t.write_shift(4,s[r]);if(i==28)n=n.slice(1),S5(n,t);else if(i&2){for(s="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));var o=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)t.write_shift(2,o.charCodeAt(r));t.write_shift(2,0),i&8&&S5(a>-1?n.slice(a+1):"",t)}else{for(s="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<s.length;++r)t.write_shift(1,parseInt(s[r],16));for(var c=0;n.slice(c*3,c*3+3)=="../"||n.slice(c*3,c*3+3)=="..\\";)++c;for(t.write_shift(2,c),t.write_shift(4,n.length-3*c+1),r=0;r<n.length-3*c;++r)t.write_shift(1,n.charCodeAt(r+3*c)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function tc(e,t,r,n){return n||(n=ze(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function a7(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function i7(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function HA(e,t){return t||(t=ze(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function iy(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=ze(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function s7(e,t){var r=!t||t.biff==8,n=ze(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function o7(e,t){var r=!t||t.biff>=8?2:1,n=ze(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function l7(e,t){var r=ze(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=QI(e[a]);var i=Kn([r].concat(n));return i.parts=[r.length].concat(n.map(function(s){return s.length})),i}function c7(){var e=ze(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function u7(e){var t=ze(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function f7(e,t){var r=e.name||"Arial",n=t&&t.biff==5,a=n?15+r.length:16+2*r.length,i=ze(a);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function d7(e,t,r,n){var a=ze(10);return tc(e,t,n,a),a.write_shift(4,r),a}function h7(e,t,r,n,a){var i=!a||a.biff==8,s=ze(6+2+ +i+(1+i)*r.length);return tc(e,t,n,s),s.write_shift(2,r.length),i&&s.write_shift(1,1),s.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),s}function m7(e,t,r,n){var a=r&&r.biff==5;n||(n=ze(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function p7(e,t){var r=t.biff==8||!t.biff?4:2,n=ze(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function N5(e,t,r,n){var a=r&&r.biff==5;n||(n=ze(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function g7(e){var t=ze(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}function v7(e,t,r,n,a,i){var s=ze(8);return tc(e,t,n,s),qA(r,i,s),s}function x7(e,t,r,n){var a=ze(14);return tc(e,t,n,a),ec(r,a),a}function y7(e,t,r){if(r.biff<8)return b7(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(a7(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function b7(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=WA(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function w7(e){var t=ze(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)HA(e[r],t);return t}function _7(e){var t=ze(24),r=Fn(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return Kn([t,n7(e[1])])}function S7(e){var t=e[1].Tooltip,r=ze(10+2*(t.length+1));r.write_shift(2,2048);var n=Fn(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function N7(e){return e||(e=ze(4)),e.write_shift(2,1),e.write_shift(2,1),e}function A7(e,t,r){if(!r.cellStyles)return Cs(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),c=e.read_shift(2);n==2&&(e.l+=2);var u={s:a,e:i,w:s,ixfe:o,flags:c};return(r.biff>=5||!r.biff)&&(u.level=c>>8&7),u}function j7(e,t){var r=ze(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function E7(e){for(var t=ze(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function P7(e,t,r){var n=ze(15);return Rd(n,e,t),n.write_shift(8,r,"f"),n}function T7(e,t,r){var n=ze(9);return Rd(n,e,t),n.write_shift(2,r),n}var C7=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Kx({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,c){var u=[],f=Ql(1);switch(c.type){case"base64":f=rs(no(o));break;case"binary":f=rs(o);break;case"buffer":case"array":f=o;break}ni(f,0);var d=f.read_shift(1),m=!!(d&136),h=!1,g=!1;switch(d){case 2:break;case 3:break;case 48:h=!0,m=!0;break;case 49:h=!0,m=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+d.toString(16))}var p=0,x=521;d==2&&(p=f.read_shift(2)),f.l+=3,d!=2&&(p=f.read_shift(4)),p>1048576&&(p=1e6),d!=2&&(x=f.read_shift(2));var y=f.read_shift(2),_=c.codepage||1252;d!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(_=e[f[f.l]]),f.l+=1,f.l+=2),g&&(f.l+=36);for(var w=[],P={},E=Math.min(f.length,d==2?521:x-10-(h?264:0)),D=g?32:11;f.l<E&&f[f.l]!=13;)switch(P={},P.name=kl.utils.decode(_,f.slice(f.l,f.l+D)).replace(/[\u0000\r\n].*$/g,""),f.l+=D,P.type=String.fromCharCode(f.read_shift(1)),d!=2&&!g&&(P.offset=f.read_shift(4)),P.len=f.read_shift(1),d==2&&(P.offset=f.read_shift(2)),P.dec=f.read_shift(1),P.name.length&&w.push(P),d!=2&&(f.l+=g?13:14),P.type){case"B":(!h||P.len!=8)&&c.WTF&&console.log("Skipping "+P.name+":"+P.type);break;case"G":case"P":c.WTF&&console.log("Skipping "+P.name+":"+P.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+P.type)}if(f[f.l]!==13&&(f.l=x-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=x;var N=0,k=0;for(u[0]=[],k=0;k!=w.length;++k)u[0][k]=w[k].name;for(;p-- >0;){if(f[f.l]===42){f.l+=y;continue}for(++f.l,u[++N]=[],k=0,k=0;k!=w.length;++k){var F=f.slice(f.l,f.l+w[k].len);f.l+=w[k].len,ni(F,0);var L=kl.utils.decode(_,F);switch(w[k].type){case"C":L.trim().length&&(u[N][k]=L.replace(/\s+$/,""));break;case"D":L.length===8?u[N][k]=new Date(+L.slice(0,4),+L.slice(4,6)-1,+L.slice(6,8)):u[N][k]=L;break;case"F":u[N][k]=parseFloat(L.trim());break;case"+":case"I":u[N][k]=g?F.read_shift(-4,"i")^2147483648:F.read_shift(4,"i");break;case"L":switch(L.trim().toUpperCase()){case"Y":case"T":u[N][k]=!0;break;case"N":case"F":u[N][k]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+L+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+d.toString(16));u[N][k]="##MEMO##"+(g?parseInt(L.trim(),10):F.read_shift(4));break;case"N":L=L.replace(/\u0000/g,"").trim(),L&&L!="."&&(u[N][k]=+L||0);break;case"@":u[N][k]=new Date(F.read_shift(-8,"f")-621356832e5);break;case"T":u[N][k]=new Date((F.read_shift(4)-2440588)*864e5+F.read_shift(4));break;case"Y":u[N][k]=F.read_shift(4,"i")/1e4+F.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[N][k]=-F.read_shift(-8,"f");break;case"B":if(h&&w[k].len==8){u[N][k]=F.read_shift(8,"f");break}case"G":case"P":F.l+=w[k].len;break;case"0":if(w[k].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[k].type)}}}if(d!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return c&&c.sheetRows&&(u=u.slice(0,c.sheetRows)),c.DBF=w,u}function n(o,c){var u=c||{};u.dateNF||(u.dateNF="yyyymmdd");var f=ku(r(o,u),u);return f["!cols"]=u.DBF.map(function(d){return{wch:d.len,DBF:d}}),delete u.DBF,f}function a(o,c){try{return dc(n(o,c),c)}catch(u){if(c&&c.WTF)throw u}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,c){var u=c||{};if(+u.codepage>=0&&ld(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var f=qa(),d=im(o,{header:1,raw:!0,cellDates:!0}),m=d[0],h=d.slice(1),g=o["!cols"]||[],p=0,x=0,y=0,_=1;for(p=0;p<m.length;++p){if(((g[p]||{}).DBF||{}).name){m[p]=g[p].DBF.name,++y;continue}if(m[p]!=null){if(++y,typeof m[p]=="number"&&(m[p]=m[p].toString(10)),typeof m[p]!="string")throw new Error("DBF Invalid column name "+m[p]+" |"+typeof m[p]+"|");if(m.indexOf(m[p])!==p){for(x=0;x<1024;++x)if(m.indexOf(m[p]+"_"+x)==-1){m[p]+="_"+x;break}}}}var w=Er(o["!ref"]),P=[],E=[],D=[];for(p=0;p<=w.e.c-w.s.c;++p){var N="",k="",F=0,L=[];for(x=0;x<h.length;++x)h[x][p]!=null&&L.push(h[x][p]);if(L.length==0||m[p]==null){P[p]="?";continue}for(x=0;x<L.length;++x){switch(typeof L[x]){case"number":k="B";break;case"string":k="C";break;case"boolean":k="L";break;case"object":k=L[x]instanceof Date?"D":"C";break;default:k="C"}F=Math.max(F,String(L[x]).length),N=N&&N!=k?"C":k}F>250&&(F=250),k=((g[p]||{}).DBF||{}).type,k=="C"&&g[p].DBF.len>F&&(F=g[p].DBF.len),N=="B"&&k=="N"&&(N="N",D[p]=g[p].DBF.dec,F=g[p].DBF.len),E[p]=N=="C"||k=="N"?F:i[N]||0,_+=E[p],P[p]=N}var A=f.next(32);for(A.write_shift(4,318902576),A.write_shift(4,h.length),A.write_shift(2,296+32*y),A.write_shift(2,_),p=0;p<4;++p)A.write_shift(4,0);for(A.write_shift(4,0|(+t[GN]||3)<<8),p=0,x=0;p<m.length;++p)if(m[p]!=null){var S=f.next(32),M=(m[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);S.write_shift(1,M,"sbcs"),S.write_shift(1,P[p]=="?"?"C":P[p],"sbcs"),S.write_shift(4,x),S.write_shift(1,E[p]||i[P[p]]||0),S.write_shift(1,D[p]||0),S.write_shift(1,2),S.write_shift(4,0),S.write_shift(1,0),S.write_shift(4,0),S.write_shift(4,0),x+=E[p]||i[P[p]]||0}var U=f.next(264);for(U.write_shift(4,13),p=0;p<65;++p)U.write_shift(4,0);for(p=0;p<h.length;++p){var G=f.next(_);for(G.write_shift(1,0),x=0;x<m.length;++x)if(m[x]!=null)switch(P[x]){case"L":G.write_shift(1,h[p][x]==null?63:h[p][x]?84:70);break;case"B":G.write_shift(8,h[p][x]||0,"f");break;case"N":var H="0";for(typeof h[p][x]=="number"&&(H=h[p][x].toFixed(D[x]||0)),y=0;y<E[x]-H.length;++y)G.write_shift(1,32);G.write_shift(1,H,"sbcs");break;case"D":h[p][x]?(G.write_shift(4,("0000"+h[p][x].getFullYear()).slice(-4),"sbcs"),G.write_shift(2,("00"+(h[p][x].getMonth()+1)).slice(-2),"sbcs"),G.write_shift(2,("00"+h[p][x].getDate()).slice(-2),"sbcs")):G.write_shift(8,"00000000","sbcs");break;case"C":var q=String(h[p][x]!=null?h[p][x]:"").slice(0,E[x]);for(G.write_shift(1,q,"sbcs"),y=0;y<E[x]-q.length;++y)G.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),O7=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Jn(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,h){var g=e[h];return typeof g=="number"?Kw(g):g},n=function(m,h,g){var p=h.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return p==59?m:Kw(p)};e["|"]=254;function a(m,h){switch(h.type){case"base64":return i(no(m),h);case"binary":return i(m,h);case"buffer":return i(er&&Buffer.isBuffer(m)?m.toString("binary"):Ld(m),h);case"array":return i(gp(m),h)}throw new Error("Unrecognized type "+h.type)}function i(m,h){var g=m.split(/[\n\r]+/),p=-1,x=-1,y=0,_=0,w=[],P=[],E=null,D={},N=[],k=[],F=[],L=0,A;for(+h.codepage>=0&&ld(+h.codepage);y!==g.length;++y){L=0;var S=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),M=S.replace(/;;/g,"\0").split(";").map(function(z){return z.replace(/\u0000/g,";")}),U=M[0],G;if(S.length>0)switch(U){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":M[1].charAt(0)=="P"&&P.push(S.slice(3).replace(/;;/g,";"));break;case"C":var H=!1,q=!1,V=!1,W=!1,ne=-1,ce=-1;for(_=1;_<M.length;++_)switch(M[_].charAt(0)){case"A":break;case"X":x=parseInt(M[_].slice(1))-1,q=!0;break;case"Y":for(p=parseInt(M[_].slice(1))-1,q||(x=0),A=w.length;A<=p;++A)w[A]=[];break;case"K":G=M[_].slice(1),G.charAt(0)==='"'?G=G.slice(1,G.length-1):G==="TRUE"?G=!0:G==="FALSE"?G=!1:isNaN(Qs(G))?isNaN(ud(G).getDate())||(G=Pa(G)):(G=Qs(G),E!==null&&iA(E)&&(G=cA(G))),H=!0;break;case"E":W=!0;var C=TM(M[_].slice(1),{r:p,c:x});w[p][x]=[w[p][x],C];break;case"S":V=!0,w[p][x]=[w[p][x],"S5S"];break;case"G":break;case"R":ne=parseInt(M[_].slice(1))-1;break;case"C":ce=parseInt(M[_].slice(1))-1;break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+S)}if(H&&(w[p][x]&&w[p][x].length==2?w[p][x][0]=G:w[p][x]=G,E=null),V){if(W)throw new Error("SYLK shared formula cannot have own formula");var I=ne>-1&&w[ne][ce];if(!I||!I[1])throw new Error("SYLK shared formula cannot find base");w[p][x][1]=CM(I[1],{r:p-ne,c:x-ce})}break;case"F":var B=0;for(_=1;_<M.length;++_)switch(M[_].charAt(0)){case"X":x=parseInt(M[_].slice(1))-1,++B;break;case"Y":for(p=parseInt(M[_].slice(1))-1,A=w.length;A<=p;++A)w[A]=[];break;case"M":L=parseInt(M[_].slice(1))/20;break;case"F":break;case"G":break;case"P":E=P[parseInt(M[_].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(F=M[_].slice(1).split(" "),A=parseInt(F[0],10);A<=parseInt(F[1],10);++A)L=parseInt(F[2],10),k[A-1]=L===0?{hidden:!0}:{wch:L},sy(k[A-1]);break;case"C":x=parseInt(M[_].slice(1))-1,k[x]||(k[x]={});break;case"R":p=parseInt(M[_].slice(1))-1,N[p]||(N[p]={}),L>0?(N[p].hpt=L,N[p].hpx=XA(L)):L===0&&(N[p].hidden=!0);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+S)}B<1&&(E=null);break;default:if(h&&h.WTF)throw new Error("SYLK bad record "+S)}}return N.length>0&&(D["!rows"]=N),k.length>0&&(D["!cols"]=k),h&&h.sheetRows&&(w=w.slice(0,h.sheetRows)),[w,D]}function s(m,h){var g=a(m,h),p=g[0],x=g[1],y=ku(p,h);return Jn(x).forEach(function(_){y[_]=x[_]}),y}function o(m,h){return dc(s(m,h),h)}function c(m,h,g,p){var x="C;Y"+(g+1)+";X"+(p+1)+";K";switch(m.t){case"n":x+=m.v||0,m.f&&!m.F&&(x+=";E"+ly(m.f,{r:g,c:p}));break;case"b":x+=m.v?"TRUE":"FALSE";break;case"e":x+=m.w||m.v;break;case"d":x+='"'+(m.w||m.v)+'"';break;case"s":x+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return x}function u(m,h){h.forEach(function(g,p){var x="F;W"+(p+1)+" "+(p+1)+" ";g.hidden?x+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=tm(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=rm(g.wpx)),typeof g.wch=="number"&&(x+=Math.round(g.wch))),x.charAt(x.length-1)!=" "&&m.push(x)})}function f(m,h){h.forEach(function(g,p){var x="F;";g.hidden?x+="M0;":g.hpt?x+="M"+20*g.hpt+";":g.hpx&&(x+="M"+20*nm(g.hpx)+";"),x.length>2&&m.push(x+"R"+(p+1))})}function d(m,h){var g=["ID;PWXL;N;E"],p=[],x=Er(m["!ref"]),y,_=Array.isArray(m),w=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),m["!cols"]&&u(g,m["!cols"]),m["!rows"]&&f(g,m["!rows"]),g.push("B;Y"+(x.e.r-x.s.r+1)+";X"+(x.e.c-x.s.c+1)+";D"+[x.s.c,x.s.r,x.e.c,x.e.r].join(" "));for(var P=x.s.r;P<=x.e.r;++P)for(var E=x.s.c;E<=x.e.c;++E){var D=fr({r:P,c:E});y=_?(m[P]||[])[E]:m[D],!(!y||y.v==null&&(!y.f||y.F))&&p.push(c(y,m,P,E))}return g.join(w)+w+p.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:s,from_sheet:d}}(),k7=function(){function e(i,s){switch(s.type){case"base64":return t(no(i),s);case"binary":return t(i,s);case"buffer":return t(er&&Buffer.isBuffer(i)?i.toString("binary"):Ld(i),s);case"array":return t(gp(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),c=-1,u=-1,f=0,d=[];f!==o.length;++f){if(o[f].trim()==="BOT"){d[++c]=[],u=0;continue}if(!(c<0)){var m=o[f].trim().split(","),h=m[0],g=m[1];++f;for(var p=o[f]||"";(p.match(/["]/g)||[]).length&1&&f<o.length-1;)p+=`
`+o[++f];switch(p=p.trim(),+h){case-1:if(p==="BOT"){d[++c]=[],u=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?d[c][u]=!0:p==="FALSE"?d[c][u]=!1:isNaN(Qs(g))?isNaN(ud(g).getDate())?d[c][u]=g:d[c][u]=Pa(g):d[c][u]=Qs(g),++u;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),d[c][u++]=p!==""?p:null;break}if(p==="EOD")break}}return s&&s.sheetRows&&(d=d.slice(0,s.sheetRows)),d}function r(i,s){return ku(e(i,s),s)}function n(i,s){return dc(r(i,s),s)}var a=function(){var i=function(c,u,f,d,m){c.push(u),c.push(f+","+d),c.push('"'+m.replace(/"/g,'""')+'"')},s=function(c,u,f,d){c.push(u+","+f),c.push(u==1?'"'+d.replace(/"/g,'""')+'"':d)};return function(c){var u=[],f=Er(c["!ref"]),d,m=Array.isArray(c);i(u,"TABLE",0,1,"sheetjs"),i(u,"VECTORS",0,f.e.r-f.s.r+1,""),i(u,"TUPLES",0,f.e.c-f.s.c+1,""),i(u,"DATA",0,0,"");for(var h=f.s.r;h<=f.e.r;++h){s(u,-1,0,"BOT");for(var g=f.s.c;g<=f.e.c;++g){var p=fr({r:h,c:g});if(d=m?(c[h]||[])[g]:c[p],!d){s(u,1,0,"");continue}switch(d.t){case"n":var x=d.w;!x&&d.v!=null&&(x=d.v),x==null?d.f&&!d.F?s(u,1,0,"="+d.f):s(u,1,0,""):s(u,0,x,"V");break;case"b":s(u,0,d.v?1:0,d.v?"TRUE":"FALSE");break;case"s":s(u,1,0,isNaN(d.v)?d.v:'="'+d.v+'"');break;case"d":d.w||(d.w=el(d.z||Gr[14],Va(Pa(d.v)))),s(u,0,d.w,"V");break;default:s(u,1,0,"")}}}s(u,-1,0,"EOD");var y=`\r
`,_=u.join(y);return _}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),VA=function(){function e(d){return d.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(d){return d.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(d,m){for(var h=d.split(`
`),g=-1,p=-1,x=0,y=[];x!==h.length;++x){var _=h[x].trim().split(":");if(_[0]==="cell"){var w=Fn(_[1]);if(y.length<=w.r)for(g=y.length;g<=w.r;++g)y[g]||(y[g]=[]);switch(g=w.r,p=w.c,_[2]){case"t":y[g][p]=e(_[3]);break;case"v":y[g][p]=+_[3];break;case"vtf":var P=_[_.length-1];case"vtc":switch(_[3]){case"nl":y[g][p]=!!+_[4];break;default:y[g][p]=+_[4];break}_[2]=="vtf"&&(y[g][p]=[y[g][p],P])}}}return m&&m.sheetRows&&(y=y.slice(0,m.sheetRows)),y}function n(d,m){return ku(r(d,m),m)}function a(d,m){return dc(n(d,m),m)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),c="--SocialCalcSpreadsheetControlSave--";function u(d){if(!d||!d["!ref"])return"";for(var m=[],h=[],g,p="",x=di(d["!ref"]),y=Array.isArray(d),_=x.s.r;_<=x.e.r;++_)for(var w=x.s.c;w<=x.e.c;++w)if(p=fr({r:_,c:w}),g=y?(d[_]||[])[w]:d[p],!(!g||g.v==null||g.t==="z")){switch(h=["cell",p,"t"],g.t){case"s":case"str":h.push(t(g.v));break;case"n":g.f?(h[2]="vtf",h[3]="n",h[4]=g.v,h[5]=t(g.f)):(h[2]="v",h[3]=g.v);break;case"b":h[2]="vt"+(g.f?"f":"c"),h[3]="nl",h[4]=g.v?"1":"0",h[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var P=Va(Pa(g.v));h[2]="vtc",h[3]="nd",h[4]=""+P,h[5]=g.w||el(g.z||Gr[14],P);break;case"e":continue}m.push(h.join(":"))}return m.push("sheet:c:"+(x.e.c-x.s.c+1)+":r:"+(x.e.r-x.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function f(d){return[i,s,o,s,u(d),c].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:f}}(),L7=function(){function e(f,d,m,h,g){g.raw?d[m][h]=f:f===""||(f==="TRUE"?d[m][h]=!0:f==="FALSE"?d[m][h]=!1:isNaN(Qs(f))?isNaN(ud(f).getDate())?d[m][h]=f:d[m][h]=Pa(f):d[m][h]=Qs(f))}function t(f,d){var m=d||{},h=[];if(!f||f.length===0)return h;for(var g=f.split(/[\r\n]/),p=g.length-1;p>=0&&g[p].length===0;)--p;for(var x=10,y=0,_=0;_<=p;++_)y=g[_].indexOf(" "),y==-1?y=g[_].length:y++,x=Math.max(x,y);for(_=0;_<=p;++_){h[_]=[];var w=0;for(e(g[_].slice(0,x).trim(),h,_,w,m),w=1;w<=(g[_].length-x)/10+1;++w)e(g[_].slice(x+(w-1)*10,x+w*10).trim(),h,_,w,m)}return m.sheetRows&&(h=h.slice(0,m.sheetRows)),h}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(f){for(var d={},m=!1,h=0,g=0;h<f.length;++h)(g=f.charCodeAt(h))==34?m=!m:!m&&g in r&&(d[g]=(d[g]||0)+1);g=[];for(h in d)Object.prototype.hasOwnProperty.call(d,h)&&g.push([d[h],h]);if(!g.length){d=n;for(h in d)Object.prototype.hasOwnProperty.call(d,h)&&g.push([d[h],h])}return g.sort(function(p,x){return p[0]-x[0]||n[p[1]]-n[x[1]]}),r[g.pop()[1]]||44}function i(f,d){var m=d||{},h="",g=m.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(h=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(h=f.charAt(4),f=f.slice(6)):h=a(f.slice(0,1024)):m&&m.FS?h=m.FS:h=a(f.slice(0,1024));var x=0,y=0,_=0,w=0,P=0,E=h.charCodeAt(0),D=!1,N=0,k=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var F=m.dateNF!=null?YF(m.dateNF):null;function L(){var A=f.slice(w,P),S={};if(A.charAt(0)=='"'&&A.charAt(A.length-1)=='"'&&(A=A.slice(1,-1).replace(/""/g,'"')),A.length===0)S.t="z";else if(m.raw)S.t="s",S.v=A;else if(A.trim().length===0)S.t="s",S.v=A;else if(A.charCodeAt(0)==61)A.charCodeAt(1)==34&&A.charCodeAt(A.length-1)==34?(S.t="s",S.v=A.slice(2,-1).replace(/""/g,'"')):OM(A)?(S.t="n",S.f=A.slice(1)):(S.t="s",S.v=A);else if(A=="TRUE")S.t="b",S.v=!0;else if(A=="FALSE")S.t="b",S.v=!1;else if(!isNaN(_=Qs(A)))S.t="n",m.cellText!==!1&&(S.w=A),S.v=_;else if(!isNaN(ud(A).getDate())||F&&A.match(F)){S.z=m.dateNF||Gr[14];var M=0;F&&A.match(F)&&(A=XF(A,m.dateNF,A.match(F)||[]),M=1),m.cellDates?(S.t="d",S.v=Pa(A,M)):(S.t="n",S.v=Va(Pa(A,M))),m.cellText!==!1&&(S.w=el(S.z,S.v instanceof Date?Va(S.v):S.v)),m.cellNF||delete S.z}else S.t="s",S.v=A;if(S.t=="z"||(m.dense?(g[x]||(g[x]=[]),g[x][y]=S):g[fr({c:y,r:x})]=S),w=P+1,k=f.charCodeAt(w),p.e.c<y&&(p.e.c=y),p.e.r<x&&(p.e.r=x),N==E)++y;else if(y=0,++x,m.sheetRows&&m.sheetRows<=x)return!0}e:for(;P<f.length;++P)switch(N=f.charCodeAt(P)){case 34:k===34&&(D=!D);break;case E:case 10:case 13:if(!D&&L())break e;break}return P-w>0&&L(),g["!ref"]=hn(p),g}function s(f,d){return!(d&&d.PRN)||d.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?i(f,d):ku(t(f,d),d)}function o(f,d){var m="",h=d.type=="string"?[0,0,0,0]:HU(f,d);switch(d.type){case"base64":m=no(f);break;case"binary":m=f;break;case"buffer":d.codepage==65001?m=f.toString("utf8"):d.codepage&&typeof kl<"u"?m=kl.utils.decode(d.codepage,f):m=er&&Buffer.isBuffer(f)?f.toString("binary"):Ld(f);break;case"array":m=gp(f);break;case"string":m=f;break;default:throw new Error("Unrecognized type "+d.type)}return h[0]==239&&h[1]==187&&h[2]==191?m=Yf(m.slice(3)):d.type!="string"&&d.type!="buffer"&&d.codepage==65001?m=Yf(m):d.type=="binary"&&typeof kl<"u"&&d.codepage&&(m=kl.utils.decode(d.codepage,kl.utils.encode(28591,m))),m.slice(0,19)=="socialcalc:version:"?VA.to_sheet(d.type=="string"?m:Yf(m),d):s(m,d)}function c(f,d){return dc(o(f,d),d)}function u(f){for(var d=[],m=Er(f["!ref"]),h,g=Array.isArray(f),p=m.s.r;p<=m.e.r;++p){for(var x=[],y=m.s.c;y<=m.e.c;++y){var _=fr({r:p,c:y});if(h=g?(f[p]||[])[y]:f[_],!h||h.v==null){x.push("          ");continue}for(var w=(h.w||(ao(h),h.w)||"").slice(0,10);w.length<10;)w+=" ";x.push(w+(y===0?" ":""))}d.push(x.join(""))}return d.join(`
`)}return{to_workbook:c,to_sheet:o,from_sheet:u}}(),A5=function(){function e(C,I,B){if(C){ni(C,C.l||0);for(var z=B.Enum||ne;C.l<C.length;){var Z=C.read_shift(2),ge=z[Z]||z[65535],pe=C.read_shift(2),te=C.l+pe,be=ge.f&&ge.f(C,pe,B);if(C.l=te,I(be,ge,Z))return}}}function t(C,I){switch(I.type){case"base64":return r(rs(no(C)),I);case"binary":return r(rs(C),I);case"buffer":case"array":return r(C,I)}throw"Unsupported type "+I.type}function r(C,I){if(!C)return C;var B=I||{},z=B.dense?[]:{},Z="Sheet1",ge="",pe=0,te={},be=[],Te=[],ye={s:{r:0,c:0},e:{r:0,c:0}},Ze=B.sheetRows||0;if(C[2]==0&&(C[3]==8||C[3]==9)&&C.length>=16&&C[14]==5&&C[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(C[2]==2)B.Enum=ne,e(C,function(Ve,ft,et){switch(et){case 0:B.vers=Ve,Ve>=4096&&(B.qpro=!0);break;case 6:ye=Ve;break;case 204:Ve&&(ge=Ve);break;case 222:ge=Ve;break;case 15:case 51:B.qpro||(Ve[1].v=Ve[1].v.slice(1));case 13:case 14:case 16:et==14&&(Ve[2]&112)==112&&(Ve[2]&15)>1&&(Ve[2]&15)<15&&(Ve[1].z=B.dateNF||Gr[14],B.cellDates&&(Ve[1].t="d",Ve[1].v=cA(Ve[1].v))),B.qpro&&Ve[3]>pe&&(z["!ref"]=hn(ye),te[Z]=z,be.push(Z),z=B.dense?[]:{},ye={s:{r:0,c:0},e:{r:0,c:0}},pe=Ve[3],Z=ge||"Sheet"+(pe+1),ge="");var se=B.dense?(z[Ve[0].r]||[])[Ve[0].c]:z[fr(Ve[0])];if(se){se.t=Ve[1].t,se.v=Ve[1].v,Ve[1].z!=null&&(se.z=Ve[1].z),Ve[1].f!=null&&(se.f=Ve[1].f);break}B.dense?(z[Ve[0].r]||(z[Ve[0].r]=[]),z[Ve[0].r][Ve[0].c]=Ve[1]):z[fr(Ve[0])]=Ve[1];break}},B);else if(C[2]==26||C[2]==14)B.Enum=ce,C[2]==14&&(B.qpro=!0,C.l=0),e(C,function(Ve,ft,et){switch(et){case 204:Z=Ve;break;case 22:Ve[1].v=Ve[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ve[3]>pe&&(z["!ref"]=hn(ye),te[Z]=z,be.push(Z),z=B.dense?[]:{},ye={s:{r:0,c:0},e:{r:0,c:0}},pe=Ve[3],Z="Sheet"+(pe+1)),Ze>0&&Ve[0].r>=Ze)break;B.dense?(z[Ve[0].r]||(z[Ve[0].r]=[]),z[Ve[0].r][Ve[0].c]=Ve[1]):z[fr(Ve[0])]=Ve[1],ye.e.c<Ve[0].c&&(ye.e.c=Ve[0].c),ye.e.r<Ve[0].r&&(ye.e.r=Ve[0].r);break;case 27:Ve[14e3]&&(Te[Ve[14e3][0]]=Ve[14e3][1]);break;case 1537:Te[Ve[0]]=Ve[1],Ve[0]==pe&&(Z=Ve[1]);break}},B);else throw new Error("Unrecognized LOTUS BOF "+C[2]);if(z["!ref"]=hn(ye),te[ge||Z]=z,be.push(ge||Z),!Te.length)return{SheetNames:be,Sheets:te};for(var Ke={},De=[],fe=0;fe<Te.length;++fe)te[be[fe]]?(De.push(Te[fe]||be[fe]),Ke[Te[fe]]=te[Te[fe]]||te[be[fe]]):(De.push(Te[fe]),Ke[Te[fe]]={"!ref":"A1"});return{SheetNames:De,Sheets:Ke}}function n(C,I){var B=I||{};if(+B.codepage>=0&&ld(+B.codepage),B.type=="string")throw new Error("Cannot write WK1 to JS string");var z=qa(),Z=Er(C["!ref"]),ge=Array.isArray(C),pe=[];lt(z,0,i(1030)),lt(z,6,c(Z));for(var te=Math.min(Z.e.r,8191),be=Z.s.r;be<=te;++be)for(var Te=Xn(be),ye=Z.s.c;ye<=Z.e.c;++ye){be===Z.s.r&&(pe[ye]=da(ye));var Ze=pe[ye]+Te,Ke=ge?(C[be]||[])[ye]:C[Ze];if(!(!Ke||Ke.t=="z"))if(Ke.t=="n")(Ke.v|0)==Ke.v&&Ke.v>=-32768&&Ke.v<=32767?lt(z,13,h(be,ye,Ke.v)):lt(z,14,p(be,ye,Ke.v));else{var De=ao(Ke);lt(z,15,d(be,ye,De.slice(0,239)))}}return lt(z,1),z.end()}function a(C,I){var B=I||{};if(+B.codepage>=0&&ld(+B.codepage),B.type=="string")throw new Error("Cannot write WK3 to JS string");var z=qa();lt(z,0,s(C));for(var Z=0,ge=0;Z<C.SheetNames.length;++Z)(C.Sheets[C.SheetNames[Z]]||{})["!ref"]&&lt(z,27,W(C.SheetNames[Z],ge++));var pe=0;for(Z=0;Z<C.SheetNames.length;++Z){var te=C.Sheets[C.SheetNames[Z]];if(!(!te||!te["!ref"])){for(var be=Er(te["!ref"]),Te=Array.isArray(te),ye=[],Ze=Math.min(be.e.r,8191),Ke=be.s.r;Ke<=Ze;++Ke)for(var De=Xn(Ke),fe=be.s.c;fe<=be.e.c;++fe){Ke===be.s.r&&(ye[fe]=da(fe));var Ve=ye[fe]+De,ft=Te?(te[Ke]||[])[fe]:te[Ve];if(!(!ft||ft.t=="z"))if(ft.t=="n")lt(z,23,L(Ke,fe,pe,ft.v));else{var et=ao(ft);lt(z,22,N(Ke,fe,pe,et.slice(0,239)))}}++pe}}return lt(z,1),z.end()}function i(C){var I=ze(2);return I.write_shift(2,C),I}function s(C){var I=ze(26);I.write_shift(2,4096),I.write_shift(2,4),I.write_shift(4,0);for(var B=0,z=0,Z=0,ge=0;ge<C.SheetNames.length;++ge){var pe=C.SheetNames[ge],te=C.Sheets[pe];if(!(!te||!te["!ref"])){++Z;var be=di(te["!ref"]);B<be.e.r&&(B=be.e.r),z<be.e.c&&(z=be.e.c)}}return B>8191&&(B=8191),I.write_shift(2,B),I.write_shift(1,Z),I.write_shift(1,z),I.write_shift(2,0),I.write_shift(2,0),I.write_shift(1,1),I.write_shift(1,2),I.write_shift(4,0),I.write_shift(4,0),I}function o(C,I,B){var z={s:{c:0,r:0},e:{c:0,r:0}};return I==8&&B.qpro?(z.s.c=C.read_shift(1),C.l++,z.s.r=C.read_shift(2),z.e.c=C.read_shift(1),C.l++,z.e.r=C.read_shift(2),z):(z.s.c=C.read_shift(2),z.s.r=C.read_shift(2),I==12&&B.qpro&&(C.l+=2),z.e.c=C.read_shift(2),z.e.r=C.read_shift(2),I==12&&B.qpro&&(C.l+=2),z.s.c==65535&&(z.s.c=z.e.c=z.s.r=z.e.r=0),z)}function c(C){var I=ze(8);return I.write_shift(2,C.s.c),I.write_shift(2,C.s.r),I.write_shift(2,C.e.c),I.write_shift(2,C.e.r),I}function u(C,I,B){var z=[{c:0,r:0},{t:"n",v:0},0,0];return B.qpro&&B.vers!=20768?(z[0].c=C.read_shift(1),z[3]=C.read_shift(1),z[0].r=C.read_shift(2),C.l+=2):(z[2]=C.read_shift(1),z[0].c=C.read_shift(2),z[0].r=C.read_shift(2)),z}function f(C,I,B){var z=C.l+I,Z=u(C,I,B);if(Z[1].t="s",B.vers==20768){C.l++;var ge=C.read_shift(1);return Z[1].v=C.read_shift(ge,"utf8"),Z}return B.qpro&&C.l++,Z[1].v=C.read_shift(z-C.l,"cstr"),Z}function d(C,I,B){var z=ze(7+B.length);z.write_shift(1,255),z.write_shift(2,I),z.write_shift(2,C),z.write_shift(1,39);for(var Z=0;Z<z.length;++Z){var ge=B.charCodeAt(Z);z.write_shift(1,ge>=128?95:ge)}return z.write_shift(1,0),z}function m(C,I,B){var z=u(C,I,B);return z[1].v=C.read_shift(2,"i"),z}function h(C,I,B){var z=ze(7);return z.write_shift(1,255),z.write_shift(2,I),z.write_shift(2,C),z.write_shift(2,B,"i"),z}function g(C,I,B){var z=u(C,I,B);return z[1].v=C.read_shift(8,"f"),z}function p(C,I,B){var z=ze(13);return z.write_shift(1,255),z.write_shift(2,I),z.write_shift(2,C),z.write_shift(8,B,"f"),z}function x(C,I,B){var z=C.l+I,Z=u(C,I,B);if(Z[1].v=C.read_shift(8,"f"),B.qpro)C.l=z;else{var ge=C.read_shift(2);P(C.slice(C.l,C.l+ge),Z),C.l+=ge}return Z}function y(C,I,B){var z=I&32768;return I&=-32769,I=(z?C:0)+(I>=8192?I-16384:I),(z?"":"$")+(B?da(I):Xn(I))}var _={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function P(C,I){ni(C,0);for(var B=[],z=0,Z="",ge="",pe="",te="";C.l<C.length;){var be=C[C.l++];switch(be){case 0:B.push(C.read_shift(8,"f"));break;case 1:ge=y(I[0].c,C.read_shift(2),!0),Z=y(I[0].r,C.read_shift(2),!1),B.push(ge+Z);break;case 2:{var Te=y(I[0].c,C.read_shift(2),!0),ye=y(I[0].r,C.read_shift(2),!1);ge=y(I[0].c,C.read_shift(2),!0),Z=y(I[0].r,C.read_shift(2),!1),B.push(Te+ye+":"+ge+Z)}break;case 3:if(C.l<C.length){console.error("WK1 premature formula end");return}break;case 4:B.push("("+B.pop()+")");break;case 5:B.push(C.read_shift(2));break;case 6:{for(var Ze="";be=C[C.l++];)Ze+=String.fromCharCode(be);B.push('"'+Ze.replace(/"/g,'""')+'"')}break;case 8:B.push("-"+B.pop());break;case 23:B.push("+"+B.pop());break;case 22:B.push("NOT("+B.pop()+")");break;case 20:case 21:te=B.pop(),pe=B.pop(),B.push(["AND","OR"][be-20]+"("+pe+","+te+")");break;default:if(be<32&&w[be])te=B.pop(),pe=B.pop(),B.push(pe+w[be]+te);else if(_[be]){if(z=_[be][1],z==69&&(z=C[C.l++]),z>B.length){console.error("WK1 bad formula parse 0x"+be.toString(16)+":|"+B.join("|")+"|");return}var Ke=B.slice(-z);B.length-=z,B.push(_[be][0]+"("+Ke.join(",")+")")}else return be<=7?console.error("WK1 invalid opcode "+be.toString(16)):be<=24?console.error("WK1 unsupported op "+be.toString(16)):be<=30?console.error("WK1 invalid opcode "+be.toString(16)):be<=115?console.error("WK1 unsupported function opcode "+be.toString(16)):console.error("WK1 unrecognized opcode "+be.toString(16))}}B.length==1?I[1].f=""+B[0]:console.error("WK1 bad formula parse |"+B.join("|")+"|")}function E(C){var I=[{c:0,r:0},{t:"n",v:0},0];return I[0].r=C.read_shift(2),I[3]=C[C.l++],I[0].c=C[C.l++],I}function D(C,I){var B=E(C);return B[1].t="s",B[1].v=C.read_shift(I-4,"cstr"),B}function N(C,I,B,z){var Z=ze(6+z.length);Z.write_shift(2,C),Z.write_shift(1,B),Z.write_shift(1,I),Z.write_shift(1,39);for(var ge=0;ge<z.length;++ge){var pe=z.charCodeAt(ge);Z.write_shift(1,pe>=128?95:pe)}return Z.write_shift(1,0),Z}function k(C,I){var B=E(C);B[1].v=C.read_shift(2);var z=B[1].v>>1;if(B[1].v&1)switch(z&7){case 0:z=(z>>3)*5e3;break;case 1:z=(z>>3)*500;break;case 2:z=(z>>3)/20;break;case 3:z=(z>>3)/200;break;case 4:z=(z>>3)/2e3;break;case 5:z=(z>>3)/2e4;break;case 6:z=(z>>3)/16;break;case 7:z=(z>>3)/64;break}return B[1].v=z,B}function F(C,I){var B=E(C),z=C.read_shift(4),Z=C.read_shift(4),ge=C.read_shift(2);if(ge==65535)return z===0&&Z===3221225472?(B[1].t="e",B[1].v=15):z===0&&Z===3489660928?(B[1].t="e",B[1].v=42):B[1].v=0,B;var pe=ge&32768;return ge=(ge&32767)-16446,B[1].v=(1-pe*2)*(Z*Math.pow(2,ge+32)+z*Math.pow(2,ge)),B}function L(C,I,B,z){var Z=ze(14);if(Z.write_shift(2,C),Z.write_shift(1,B),Z.write_shift(1,I),z==0)return Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(2,65535),Z;var ge=0,pe=0,te=0,be=0;return z<0&&(ge=1,z=-z),pe=Math.log2(z)|0,z/=Math.pow(2,pe-31),be=z>>>0,be&2147483648||(z/=2,++pe,be=z>>>0),z-=be,be|=2147483648,be>>>=0,z*=Math.pow(2,32),te=z>>>0,Z.write_shift(4,te),Z.write_shift(4,be),pe+=16383+(ge?32768:0),Z.write_shift(2,pe),Z}function A(C,I){var B=F(C);return C.l+=I-14,B}function S(C,I){var B=E(C),z=C.read_shift(4);return B[1].v=z>>6,B}function M(C,I){var B=E(C),z=C.read_shift(8,"f");return B[1].v=z,B}function U(C,I){var B=M(C);return C.l+=I-10,B}function G(C,I){return C[C.l+I-1]==0?C.read_shift(I,"cstr"):""}function H(C,I){var B=C[C.l++];B>I-1&&(B=I-1);for(var z="";z.length<B;)z+=String.fromCharCode(C[C.l++]);return z}function q(C,I,B){if(!(!B.qpro||I<21)){var z=C.read_shift(1);C.l+=17,C.l+=1,C.l+=2;var Z=C.read_shift(I-21,"cstr");return[z,Z]}}function V(C,I){for(var B={},z=C.l+I;C.l<z;){var Z=C.read_shift(2);if(Z==14e3){for(B[Z]=[0,""],B[Z][0]=C.read_shift(2);C[C.l];)B[Z][1]+=String.fromCharCode(C[C.l]),C.l++;C.l++}}return B}function W(C,I){var B=ze(5+C.length);B.write_shift(2,14e3),B.write_shift(2,I);for(var z=0;z<C.length;++z){var Z=C.charCodeAt(z);B[B.l++]=Z>127?95:Z}return B[B.l++]=0,B}var ne={0:{n:"BOF",f:$A},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:g},15:{n:"LABEL",f},16:{n:"FORMULA",f:x},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:G},222:{n:"SHEETNAMELP",f:H},65535:{n:""}},ce={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:D},23:{n:"NUMBER17",f:F},24:{n:"NUMBER18",f:k},25:{n:"FORMULA19",f:A},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:V},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:S},38:{n:"??"},39:{n:"NUMBER27",f:M},40:{n:"FORMULA28",f:U},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:G},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:q},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),D7=/^\s|\s$|[\t\n\r]/;function GA(e,t){if(!t.bookSST)return"";var r=[gn];r[r.length]=ot("sst",null,{xmlns:Ou[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(D7)&&(i+=' xml:space="preserve"'),i+=">"+ur(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function F7(e){return[e.read_shift(4),e.read_shift(4)]}function I7(e,t){return t||(t=ze(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var M7=EI;function R7(e){var t=qa();tt(t,159,I7(e));for(var r=0;r<e.length;++r)tt(t,19,M7(e[r]));return tt(t,160),t.end()}function B7(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function KA(e){var t=0,r,n=B7(e),a=n.length+1,i,s,o,c,u;for(r=Ql(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,c=t<<1&32767,u=o|c,t=u^s;return t^52811}var U7=function(){function e(a,i){switch(i.type){case"base64":return t(no(a),i);case"binary":return t(a,i);case"buffer":return t(er&&Buffer.isBuffer(a)?a.toString("binary"):Ld(a),i);case"array":return t(gp(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},c=a.match(/\\trowd.*?\\row\b/g);if(!c.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:c.length-1}};return c.forEach(function(f,d){Array.isArray(o)&&(o[d]=[]);for(var m=/\\\w+\b/g,h=0,g,p=-1;g=m.exec(f);){switch(g[0]){case"\\cell":var x=f.slice(h,m.lastIndex-g[0].length);if(x[0]==" "&&(x=x.slice(1)),++p,x.length){var y={v:x,t:"s"};Array.isArray(o)?o[d][p]=y:o[fr({r:d,c:p})]=y}break}h=m.lastIndex}p>u.e.c&&(u.e.c=p)}),o["!ref"]=hn(u),o}function r(a,i){return dc(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=Er(a["!ref"]),o,c=Array.isArray(a),u=s.s.r;u<=s.e.r;++u){i.push("\\trowd\\trautofit1");for(var f=s.s.c;f<=s.e.c;++f)i.push("\\cellx"+(f+1));for(i.push("\\pard\\intbl"),f=s.s.c;f<=s.e.c;++f){var d=fr({r:u,c:f});o=c?(a[u]||[])[f]:a[d],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(ao(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function j5(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var $7=6,eo=$7;function tm(e){return Math.floor((e+Math.round(128/eo)/256)*eo)}function rm(e){return Math.floor((e-5)/eo*100+.5)/100}function wv(e){return Math.round((e*eo+5)/eo*256)/256}function sy(e){e.width?(e.wpx=tm(e.width),e.wch=rm(e.wpx),e.MDW=eo):e.wpx?(e.wch=rm(e.wpx),e.width=wv(e.wch),e.MDW=eo):typeof e.wch=="number"&&(e.width=wv(e.wch),e.wpx=tm(e.width),e.MDW=eo),e.customWidth&&delete e.customWidth}var q7=96,YA=q7;function nm(e){return e*96/YA}function XA(e){return e*YA/96}function W7(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=ot("numFmt",null,{numFmtId:n,formatCode:ur(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=ot("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function z7(e){var t=[];return t[t.length]=ot("cellXfs",null),e.forEach(function(r){t[t.length]=ot("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=ot("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function JA(e,t){var r=[gn,ot("styleSheet",null,{xmlns:Ou[0],"xmlns:vt":Dn.vt})],n;return e.SSF&&(n=W7(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=z7(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function H7(e,t){var r=e.read_shift(2),n=ha(e);return[r,n]}function V7(e,t,r){r||(r=ze(6+4*t.length)),r.write_shift(2,e),In(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function G7(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=DI(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var c=e.read_shift(1);switch(c>0&&(n.charset=c),e.l++,n.color=LI(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ha(e),n}function K7(e,t){t||(t=ze(25+4*32)),t.write_shift(2,e.sz*20),FI(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Qh(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),In(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Y7=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],b1,X7=Cs;function E5(e,t){t||(t=ze(4*3+8*7+16*1)),b1||(b1=Kx(Y7));var r=b1[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Qh({auto:1},t),Qh({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function J7(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function ZA(e,t,r){r||(r=ze(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Tf(e,t){return t||(t=ze(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var Z7=Cs;function Q7(e,t){return t||(t=ze(51)),t.write_shift(1,0),Tf(null,t),Tf(null,t),Tf(null,t),Tf(null,t),Tf(null,t),t.length>t.l?t.slice(0,t.l):t}function eM(e,t){return t||(t=ze(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),Zh(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function tM(e,t,r){var n=ze(2052);return n.write_shift(4,e),Zh(t,n),Zh(r,n),n.length>n.l?n.slice(0,n.l):n}function rM(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(tt(e,615,cs(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&tt(e,44,V7(a,t[a]))}),tt(e,616))}}function nM(e){var t=1;tt(e,611,cs(t)),tt(e,43,K7({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),tt(e,612)}function aM(e){var t=2;tt(e,603,cs(t)),tt(e,45,E5({patternType:"none"})),tt(e,45,E5({patternType:"gray125"})),tt(e,604)}function iM(e){var t=1;tt(e,613,cs(t)),tt(e,46,Q7()),tt(e,614)}function sM(e){var t=1;tt(e,626,cs(t)),tt(e,47,ZA({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),tt(e,627)}function oM(e,t){tt(e,617,cs(t.length)),t.forEach(function(r){tt(e,47,ZA(r,0))}),tt(e,618)}function lM(e){var t=1;tt(e,619,cs(t)),tt(e,48,eM({xfId:0,builtinId:0,name:"Normal"})),tt(e,620)}function cM(e){var t=0;tt(e,505,cs(t)),tt(e,506)}function uM(e){var t=0;tt(e,508,tM(t,"TableStyleMedium9","PivotStyleMedium4")),tt(e,509)}function fM(e,t){var r=qa();return tt(r,278),rM(r,e.SSF),nM(r),aM(r),iM(r),sM(r),oM(r,t.cellXfs),lM(r),cM(r),uM(r),tt(r,279),r.end()}function QA(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[gn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function dM(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ha(e)}}function hM(e){var t=ze(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),In(e.name,t),t.slice(0,t.l)}function mM(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function pM(e){var t=ze(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function gM(e,t){var r=ze(8+2*t.length);return r.write_shift(4,e),In(t,r),r.slice(0,r.l)}function vM(e){return e.l+=4,e.read_shift(4)!=0}function xM(e,t){var r=ze(8);return r.write_shift(4,e),r.write_shift(4,t?1:0),r}function yM(){var e=qa();return tt(e,332),tt(e,334,cs(1)),tt(e,335,hM({name:"XLDAPR",version:12e4,flags:3496657072})),tt(e,336),tt(e,339,gM(1,"XLDAPR")),tt(e,52),tt(e,35,cs(514)),tt(e,4096,cs(0)),tt(e,4097,Ci(1)),tt(e,36),tt(e,53),tt(e,340),tt(e,337,xM(1,!0)),tt(e,51,pM([[1,0]])),tt(e,338),tt(e,333),e.end()}function e3(){var e=[gn];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function bM(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=fr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var su=1024;function t3(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[ot("xml",null,{"xmlns:v":ii.v,"xmlns:o":ii.o,"xmlns:x":ii.x,"xmlns:mv":ii.mv}).replace(/\/>/,">"),ot("o:shapelayout",ot("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),ot("v:shapetype",[ot("v:stroke",null,{joinstyle:"miter"}),ot("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];su<e*1e3;)su+=1e3;return t.forEach(function(i){var s=Fn(i[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var c=o.type=="gradient"?ot("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=ot("v:fill",c,o),f={on:"t",obscured:"t"};++su,a=a.concat(["<v:shape"+fd({id:"_x0000_s"+su,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,ot("v:shadow",null,f),ot("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Yn("x:Anchor",[s.c+1,0,s.r+1,0,s.c+3,20,s.r+5,20].join(",")),Yn("x:AutoFill","False"),Yn("x:Row",String(s.r)),Yn("x:Column",String(s.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function r3(e){var t=[gn,ot("comments",null,{xmlns:Ou[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=ur(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(c){c.a&&(a=r.indexOf(ur(c.a))),i.push(c.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(Yn("t",ur(i[0]||"")));else{for(var s=`Comment:
    `+i[0]+`
`,o=1;o<i.length;++o)s+=`Reply:
    `+i[o]+`
`;t.push(Yn("t",ur(s)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function wM(e,t,r){var n=[gn,ot("ThreadedComments",null,{xmlns:Dn.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(s,o){if(!s.T){delete s.ID;return}s.a&&t.indexOf(s.a)==-1&&t.push(s.a);var c={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?i=c.id:c.parentId=i,s.ID=c.id,s.a&&(c.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(s.a)).slice(-12)+"}"),n.push(ot("threadedComment",Yn("text",s.t||""),c))})}),n.push("</ThreadedComments>"),n.join("")}function _M(e){var t=[gn,ot("personList",null,{xmlns:Dn.TCMNT,"xmlns:x":Ou[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(ot("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function SM(e){var t={};t.iauthor=e.read_shift(4);var r=gc(e);return t.rfx=r.s,t.ref=fr(r.s),e.l+=16,t}function NM(e,t){return t==null&&(t=ze(36)),t.write_shift(4,e[1].iauthor),Lu(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var AM=ha;function jM(e){return In(e.slice(0,54))}function EM(e){var t=qa(),r=[];return tt(t,628),tt(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),tt(t,632,jM(a.a)))})}),tt(t,631),tt(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:Fn(n[0]),e:Fn(n[0])};tt(t,635,NM([i,a])),a.t&&a.t.length>0&&tt(t,637,TI(a)),tt(t,636),delete a.iauthor})}),tt(t,634),tt(t,629),t.end()}function PM(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&mr.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var n3=["xlsb","xlsm","xlam","biff8","xla"],TM=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,c=!1;i.length==0?c=!0:i.charAt(0)=="["&&(c=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var u=i.length>0?parseInt(i,10)|0:0,f=s.length>0?parseInt(s,10)|0:0;return o?f+=t.c:--f,c?u+=t.r:--u,a+(o?"":"$")+da(f)+(c?"":"$")+Xn(u)}return function(a,i){return t=i,a.replace(e,r)}}(),oy=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ly=function(){return function(t,r){return t.replace(oy,function(n,a,i,s,o,c){var u=ty(s)-(i?0:r.c),f=ey(c)-(o?0:r.r),d=f==0?"":o?f+1:"["+f+"]",m=u==0?"":i?u+1:"["+u+"]";return a+"R"+d+"C"+m})}}();function CM(e,t){return e.replace(oy,function(r,n,a,i,s,o){return n+(a=="$"?a+i:da(ty(i)+t.c))+(s=="$"?s+o:Xn(ey(o)+t.r))})}function OM(e){return e.length!=1}function cn(e){e.l+=1}function tl(e,t){var r=e.read_shift(t==1?1:2);return[r&16383,r>>14&1,r>>15&1]}function a3(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return i3(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=tl(e,2),o=tl(e,2);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function i3(e){var t=tl(e,2),r=tl(e,2),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function kM(e,t,r){if(r.biff<8)return i3(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=tl(e,2),s=tl(e,2);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function s3(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return LM(e);var n=e.read_shift(r&&r.biff==12?4:2),a=tl(e,2);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function LM(e){var t=tl(e,2),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function DM(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function FM(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return IM(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function IM(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function MM(e,t,r){var n=(e[e.l++]&96)>>5,a=a3(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function RM(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=a3(e,i,r);return[n,a,s]}function BM(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function UM(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function $M(e,t,r){var n=(e[e.l++]&96)>>5,a=kM(e,t-1,r);return[n,a]}function qM(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function P5(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function WM(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function zM(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function HM(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function VM(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function GM(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function o3(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function KM(e){return e.read_shift(2),o3(e)}function YM(e){return e.read_shift(2),o3(e)}function XM(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=s3(e,0,r);return[n,a]}function JM(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=FM(e,0,r);return[n,a]}function ZM(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=s3(e,0,r);return[n,a,i]}function QM(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[QR[a],u3[a],n]}function eR(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:tR(e);return[a,(i[0]===0?u3:ZR)[i[1]]]}function tR(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function rR(e,t,r){e.l+=r&&r.biff==2?3:4}function nR(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function aR(e){return e.l++,Id[e.read_shift(1)]}function iR(e){return e.l++,e.read_shift(2)}function sR(e){return e.l++,e.read_shift(1)!==0}function oR(e){return e.l++,Du(e)}function lR(e,t,r){return e.l++,WA(e,t-1,r)}function cR(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=ZI(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=Id[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Du(e);break;case 2:r[1]=r7(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function uR(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?gc:i7)(e));return a}function fR(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=cR(e,r.biff);return s}function dR(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function hR(e,t,r){if(r.biff==5)return mR(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function mR(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function pR(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function gR(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function vR(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function xR(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var yR=Cs,bR=Cs,wR=Cs;function Md(e,t,r){return e.l+=2,[DM(e)]}function cy(e){return e.l+=6,[]}var _R=Md,SR=cy,NR=cy,AR=Md;function l3(e){return e.l+=2,[$A(e),e.read_shift(2)&1]}var jR=Md,ER=l3,PR=cy,TR=Md,CR=Md,OR=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function kR(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=OR[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function LR(e){return e.l+=2,[e.read_shift(4)]}function DR(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function FR(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function IR(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function MR(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function RR(e){return e.l+=4,[0,0]}var T5={1:{n:"PtgExp",f:nR},2:{n:"PtgTbl",f:wR},3:{n:"PtgAdd",f:cn},4:{n:"PtgSub",f:cn},5:{n:"PtgMul",f:cn},6:{n:"PtgDiv",f:cn},7:{n:"PtgPower",f:cn},8:{n:"PtgConcat",f:cn},9:{n:"PtgLt",f:cn},10:{n:"PtgLe",f:cn},11:{n:"PtgEq",f:cn},12:{n:"PtgGe",f:cn},13:{n:"PtgGt",f:cn},14:{n:"PtgNe",f:cn},15:{n:"PtgIsect",f:cn},16:{n:"PtgUnion",f:cn},17:{n:"PtgRange",f:cn},18:{n:"PtgUplus",f:cn},19:{n:"PtgUminus",f:cn},20:{n:"PtgPercent",f:cn},21:{n:"PtgParen",f:cn},22:{n:"PtgMissArg",f:cn},23:{n:"PtgStr",f:lR},26:{n:"PtgSheet",f:DR},27:{n:"PtgEndSheet",f:FR},28:{n:"PtgErr",f:aR},29:{n:"PtgBool",f:sR},30:{n:"PtgInt",f:iR},31:{n:"PtgNum",f:oR},32:{n:"PtgArray",f:qM},33:{n:"PtgFunc",f:QM},34:{n:"PtgFuncVar",f:eR},35:{n:"PtgName",f:dR},36:{n:"PtgRef",f:XM},37:{n:"PtgArea",f:MM},38:{n:"PtgMemArea",f:pR},39:{n:"PtgMemErr",f:yR},40:{n:"PtgMemNoMem",f:bR},41:{n:"PtgMemFunc",f:gR},42:{n:"PtgRefErr",f:vR},43:{n:"PtgAreaErr",f:BM},44:{n:"PtgRefN",f:JM},45:{n:"PtgAreaN",f:$M},46:{n:"PtgMemAreaN",f:IR},47:{n:"PtgMemNoMemN",f:MR},57:{n:"PtgNameX",f:hR},58:{n:"PtgRef3d",f:ZM},59:{n:"PtgArea3d",f:RM},60:{n:"PtgRefErr3d",f:xR},61:{n:"PtgAreaErr3d",f:UM},255:{}},BR={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},UR={1:{n:"PtgElfLel",f:l3},2:{n:"PtgElfRw",f:TR},3:{n:"PtgElfCol",f:_R},6:{n:"PtgElfRwV",f:CR},7:{n:"PtgElfColV",f:AR},10:{n:"PtgElfRadical",f:jR},11:{n:"PtgElfRadicalS",f:PR},13:{n:"PtgElfColS",f:SR},15:{n:"PtgElfColSV",f:NR},16:{n:"PtgElfRadicalLel",f:ER},25:{n:"PtgList",f:kR},29:{n:"PtgSxName",f:LR},255:{}},$R={0:{n:"PtgAttrNoop",f:RR},1:{n:"PtgAttrSemi",f:GM},2:{n:"PtgAttrIf",f:HM},4:{n:"PtgAttrChoose",f:WM},8:{n:"PtgAttrGoto",f:zM},16:{n:"PtgAttrSum",f:rR},32:{n:"PtgAttrBaxcel",f:P5},33:{n:"PtgAttrBaxcel",f:P5},64:{n:"PtgAttrSpace",f:KM},65:{n:"PtgAttrSpaceSemi",f:YM},128:{n:"PtgAttrIfError",f:VM},255:{}};function qR(e,t,r,n){if(n.biff<8)return Cs(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=fR(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=uR(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(Cs(e,t)),i}function WR(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=T5[i]||T5[BR[i]],(i===24||i===25)&&(a=(i===24?UR:$R)[e[e.l+1]]),!a||!a.f?Cs(e,t):s.push([a.n,a.f(e,t,r)]);return s}function zR(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var HR={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function VR(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function c3(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function C5(e,t,r){var n=c3(e,t,r);return n=="#REF"?n:VR(n,r)}function xu(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],c,u,f,d=0,m=0,h,g="";if(!e[0]||!e[0][0])return"";for(var p=-1,x="",y=0,_=e[0].length;y<_;++y){var w=e[0][y];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(c=o.pop(),u=o.pop(),p>=0){switch(e[0][p][1][0]){case 0:x=zr(" ",e[0][p][1][1]);break;case 1:x=zr("\r",e[0][p][1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}u=u+x,p=-1}o.push(u+HR[w[0]]+c);break;case"PtgIsect":c=o.pop(),u=o.pop(),o.push(u+" "+c);break;case"PtgUnion":c=o.pop(),u=o.pop(),o.push(u+","+c);break;case"PtgRange":c=o.pop(),u=o.pop(),o.push(u+":"+c);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=Jf(w[1][1],s,a),o.push(Zf(f,i));break;case"PtgRefN":f=r?Jf(w[1][1],r,a):w[1][1],o.push(Zf(f,i));break;case"PtgRef3d":d=w[1][1],f=Jf(w[1][2],s,a),g=C5(n,d,a),o.push(g+"!"+Zf(f,i));break;case"PtgFunc":case"PtgFuncVar":var P=w[1][0],E=w[1][1];P||(P=0),P&=127;var D=P==0?[]:o.slice(-P);o.length-=P,E==="User"&&(E=D.shift()),o.push(E+"("+D.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":h=m5(w[1][1],r?{s:r}:s,a),o.push(x1(h,a));break;case"PtgArea":h=m5(w[1][1],s,a),o.push(x1(h,a));break;case"PtgArea3d":d=w[1][1],h=w[1][2],g=C5(n,d,a),o.push(g+"!"+x1(h,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=w[1][2];var N=(n.names||[])[m-1]||(n[0]||[])[m],k=N?N.Name:"SH33TJSNAME"+String(m);k&&k.slice(0,6)=="_xlfn."&&!a.xlfn&&(k=k.slice(6)),o.push(k);break;case"PtgNameX":var F=w[1][1];m=w[1][2];var L;if(a.biff<=5)F<0&&(F=-F),n[F]&&(L=n[F][m]);else{var A="";if(((n[F]||[])[0]||[])[0]==14849||(((n[F]||[])[0]||[])[0]==1025?n[F][m]&&n[F][m].itab>0&&(A=n.SheetNames[n[F][m].itab-1]+"!"):A=n.SheetNames[m-1]+"!"),n[F]&&n[F][m])A+=n[F][m].Name;else if(n[0]&&n[0][m])A+=n[0][m].Name;else{var S=(c3(n,F,a)||"").split(";;");S[m-1]?A=S[m-1]:A+="SH33TJSERRX"}o.push(A);break}L||(L={Name:"SH33TJSERRY"}),o.push(L.Name);break;case"PtgParen":var M="(",U=")";if(p>=0){switch(x="",e[0][p][1][0]){case 2:M=zr(" ",e[0][p][1][1])+M;break;case 3:M=zr("\r",e[0][p][1][1])+M;break;case 4:U=zr(" ",e[0][p][1][1])+U;break;case 5:U=zr("\r",e[0][p][1][1])+U;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}o.push(M+o.pop()+U);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":f={c:w[1][1],r:w[1][0]};var G={c:r.c,r:r.r};if(n.sharedf[fr(f)]){var H=n.sharedf[fr(f)];o.push(xu(H,s,G,n,a))}else{var q=!1;for(c=0;c!=n.arrayf.length;++c)if(u=n.arrayf[c],!(f.c<u[0].s.c||f.c>u[0].e.c)&&!(f.r<u[0].s.r||f.r>u[0].e.r)){o.push(xu(u[1],s,G,n,a)),q=!0;break}q||o.push(w[1])}break;case"PtgArray":o.push("{"+zR(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var V=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&V.indexOf(e[0][y][0])==-1){w=e[0][p];var W=!0;switch(w[1][0]){case 4:W=!1;case 0:x=zr(" ",w[1][1]);break;case 5:W=!1;case 1:x=zr("\r",w[1][1]);break;default:if(x="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((W?x:"")+o.pop()+(W?"":x)),p=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function GR(e){if(e==null){var t=ze(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return ec(e);return ec(0)}function KR(e,t,r,n,a){var i=tc(t,r,a),s=GR(e.v),o=ze(6),c=33;o.write_shift(2,c),o.write_shift(4,0);for(var u=ze(e.bf.length),f=0;f<e.bf.length;++f)u[f]=e.bf[f];var d=Kn([i,s,o,u]);return d}function vp(e,t,r){var n=e.read_shift(4),a=WR(e,n,r),i=e.read_shift(4),s=i>0?qR(e,i,a,r):null;return[a,s]}var YR=vp,xp=vp,XR=vp,JR=vp,ZR={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},u3={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},QR={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function e9(e){var t="of:="+e.replace(oy,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function t9(e){return e.replace(/\./,"!")}var Qf=typeof Map<"u";function uy(e,t,r){var n=0,a=e.length;if(r){if(Qf?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=Qf?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(Qf?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function yp(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(eo=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=rm(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=wv(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function f3(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function fl(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){sA(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function r9(e,t,r){if(e&&e["!ref"]){var n=Er(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function n9(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+hn(e[r])+'"/>';return t+"</mergeCells>"}function a9(e,t,r,n,a){var i=!1,s={},o=null;if(n.bookType!=="xlsx"&&t.vbaraw){var c=t.SheetNames[r];try{t.Workbook&&(c=t.Workbook.Sheets[r].CodeName||c)}catch{}i=!0,s.codeName=Ys(ur(c))}if(e&&e["!outline"]){var u={summaryBelow:1,summaryRight:1};e["!outline"].above&&(u.summaryBelow=0),e["!outline"].left&&(u.summaryRight=0),o=(o||"")+ot("outlinePr",null,u)}!i&&!o||(a[a.length]=ot("sheetPr",o,s))}var i9=["objects","scenarios","selectLockedCells","selectUnlockedCells"],s9=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function o9(e){var t={sheet:1};return i9.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),s9.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=KA(e.password).toString(16).toUpperCase()),ot("sheetProtection",null,t)}function l9(e){return f3(e),ot("pageMargins",null,e)}function c9(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=ot("col",null,yp(a,n)));return r[r.length]="</cols>",r.join("")}function u9(e,t,r,n){var a=typeof e.ref=="string"?e.ref:hn(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,s=di(a);s.s.r==s.e.r&&(s.e.r=di(t["!ref"]).e.r,a=hn(s));for(var o=0;o<i.length;++o){var c=i[o];if(c.Name=="_xlnm._FilterDatabase"&&c.Sheet==n){c.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return o==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),ot("autoFilter",null,{ref:a})}function f9(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),ot("sheetViews",ot("sheetView",null,a),{})}function d9(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,s=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=Id[e.v];break;case"d":n&&n.cellDates?a=Pa(e.v,-1).toISOString():(e=Ga(e),e.t="n",a=""+(e.v=Va(Pa(e.v)))),typeof e.z>"u"&&(e.z=Gr[14]);break;default:a=e.v;break}var o=Yn("v",ur(a)),c={r:t},u=fl(n.cellXfs,e,n);switch(u!==0&&(c.s=u),e.t){case"n":break;case"d":c.t="d";break;case"b":c.t="b";break;case"e":c.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Yn("v",""+uy(n.Strings,e.v,n.revStrings)),c.t="s";break}c.t="str";break}if(e.t!=i&&(e.t=i,e.v=s),typeof e.f=="string"&&e.f){var f=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=ot("f",ur(e.f),f)+(e.v!=null?o:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(c.cm=1),ot("c",o,c)}function h9(e,t,r,n){var a=[],i=[],s=Er(e["!ref"]),o="",c,u="",f=[],d=0,m=0,h=e["!rows"],g=Array.isArray(e),p={r:u},x,y=-1;for(m=s.s.c;m<=s.e.c;++m)f[m]=da(m);for(d=s.s.r;d<=s.e.r;++d){for(i=[],u=Xn(d),m=s.s.c;m<=s.e.c;++m){c=f[m]+u;var _=g?(e[d]||[])[m]:e[c];_!==void 0&&(o=d9(_,c,e,t))!=null&&i.push(o)}(i.length>0||h&&h[d])&&(p={r:u},h&&h[d]&&(x=h[d],x.hidden&&(p.hidden=1),y=-1,x.hpx?y=nm(x.hpx):x.hpt&&(y=x.hpt),y>-1&&(p.ht=y,p.customHeight=1),x.level&&(p.outlineLevel=x.level)),a[a.length]=ot("row",i.join(""),p))}if(h)for(;d<h.length;++d)h&&h[d]&&(p={r:d+1},x=h[d],x.hidden&&(p.hidden=1),y=-1,x.hpx?y=nm(x.hpx):x.hpt&&(y=x.hpt),y>-1&&(p.ht=y,p.customHeight=1),x.level&&(p.outlineLevel=x.level),a[a.length]=ot("row","",p));return a.join("")}function d3(e,t,r,n){var a=[gn,ot("worksheet",null,{xmlns:Ou[0],"xmlns:r":Dn.r})],i=r.SheetNames[e],s=0,o="",c=r.Sheets[i];c==null&&(c={});var u=c["!ref"]||"A1",f=Er(u);if(f.e.c>16383||f.e.r>1048575){if(t.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),u=hn(f)}n||(n={}),c["!comments"]=[];var d=[];a9(c,r,e,t,a),a[a.length]=ot("dimension",null,{ref:u}),a[a.length]=f9(c,t,e,r),t.sheetFormat&&(a[a.length]=ot("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),c["!cols"]!=null&&c["!cols"].length>0&&(a[a.length]=c9(c,c["!cols"])),a[s=a.length]="<sheetData/>",c["!links"]=[],c["!ref"]!=null&&(o=h9(c,t),o.length>0&&(a[a.length]=o)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),c["!protect"]&&(a[a.length]=o9(c["!protect"])),c["!autofilter"]!=null&&(a[a.length]=u9(c["!autofilter"],c,r,e)),c["!merges"]!=null&&c["!merges"].length>0&&(a[a.length]=n9(c["!merges"]));var m=-1,h,g=-1;return c["!links"].length>0&&(a[a.length]="<hyperlinks>",c["!links"].forEach(function(p){p[1].Target&&(h={ref:p[0]},p[1].Target.charAt(0)!="#"&&(g=lr(n,-1,ur(p[1].Target).replace(/#.*$/,""),Xt.HLINK),h["r:id"]="rId"+g),(m=p[1].Target.indexOf("#"))>-1&&(h.location=ur(p[1].Target.slice(m+1))),p[1].Tooltip&&(h.tooltip=ur(p[1].Tooltip)),a[a.length]=ot("hyperlink",null,h))}),a[a.length]="</hyperlinks>"),delete c["!links"],c["!margins"]!=null&&(a[a.length]=l9(c["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=Yn("ignoredErrors",ot("ignoredError",null,{numberStoredAsText:1,sqref:u}))),d.length>0&&(g=lr(n,-1,"../drawings/drawing"+(e+1)+".xml",Xt.DRAW),a[a.length]=ot("drawing",null,{"r:id":"rId"+g}),c["!drawing"]=d),c["!comments"].length>0&&(g=lr(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Xt.VML),a[a.length]=ot("legacyDrawing",null,{"r:id":"rId"+g}),c["!legacy"]=g),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function m9(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function p9(e,t,r){var n=ze(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=nm(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var s=0;a.level&&(s|=a.level),a.hidden&&(s|=16),(a.hpx||a.hpt)&&(s|=32),n.write_shift(1,s),n.write_shift(1,0);var o=0,c=n.l;n.l+=4;for(var u={r:e,c:0},f=0;f<16;++f)if(!(t.s.c>f+1<<10||t.e.c<f<<10)){for(var d=-1,m=-1,h=f<<10;h<f+1<<10;++h){u.c=h;var g=Array.isArray(r)?(r[u.r]||[])[u.c]:r[fr(u)];g&&(d<0&&(d=h),m=h)}d<0||(++o,n.write_shift(4,d),n.write_shift(4,m))}var p=n.l;return n.l=c,n.write_shift(4,o),n.l=p,n.length>n.l?n.slice(0,n.l):n}function g9(e,t,r,n){var a=p9(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&tt(e,0,a)}var v9=gc,x9=Lu;function y9(){}function b9(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=CI(e),r}function w9(e,t,r){r==null&&(r=ze(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Qh({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),EA(e,r),r.slice(0,r.l)}function _9(e){var t=Mi(e);return[t]}function S9(e,t,r){return r==null&&(r=ze(8)),hc(t,r)}function N9(e){var t=mc(e);return[t]}function A9(e,t,r){return r==null&&(r=ze(4)),pc(t,r)}function j9(e){var t=Mi(e),r=e.read_shift(1);return[t,r,"b"]}function E9(e,t,r){return r==null&&(r=ze(9)),hc(t,r),r.write_shift(1,e.v?1:0),r}function P9(e){var t=mc(e),r=e.read_shift(1);return[t,r,"b"]}function T9(e,t,r){return r==null&&(r=ze(5)),pc(t,r),r.write_shift(1,e.v?1:0),r}function C9(e){var t=Mi(e),r=e.read_shift(1);return[t,r,"e"]}function O9(e,t,r){return r==null&&(r=ze(9)),hc(t,r),r.write_shift(1,e.v),r}function k9(e){var t=mc(e),r=e.read_shift(1);return[t,r,"e"]}function L9(e,t,r){return r==null&&(r=ze(8)),pc(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function D9(e){var t=Mi(e),r=e.read_shift(4);return[t,r,"s"]}function F9(e,t,r){return r==null&&(r=ze(12)),hc(t,r),r.write_shift(4,t.v),r}function I9(e){var t=mc(e),r=e.read_shift(4);return[t,r,"s"]}function M9(e,t,r){return r==null&&(r=ze(8)),pc(t,r),r.write_shift(4,t.v),r}function R9(e){var t=Mi(e),r=Du(e);return[t,r,"n"]}function B9(e,t,r){return r==null&&(r=ze(16)),hc(t,r),ec(e.v,r),r}function U9(e){var t=mc(e),r=Du(e);return[t,r,"n"]}function $9(e,t,r){return r==null&&(r=ze(12)),pc(t,r),ec(e.v,r),r}function q9(e){var t=Mi(e),r=PA(e);return[t,r,"n"]}function W9(e,t,r){return r==null&&(r=ze(12)),hc(t,r),TA(e.v,r),r}function z9(e){var t=mc(e),r=PA(e);return[t,r,"n"]}function H9(e,t,r){return r==null&&(r=ze(8)),pc(t,r),TA(e.v,r),r}function V9(e){var t=Mi(e),r=ry(e);return[t,r,"is"]}function G9(e){var t=Mi(e),r=ha(e);return[t,r,"str"]}function K9(e,t,r){return r==null&&(r=ze(12+4*e.v.length)),hc(t,r),In(e.v,r),r.length>r.l?r.slice(0,r.l):r}function Y9(e){var t=mc(e),r=ha(e);return[t,r,"str"]}function X9(e,t,r){return r==null&&(r=ze(8+4*e.v.length)),pc(t,r),In(e.v,r),r.length>r.l?r.slice(0,r.l):r}function J9(e,t,r){var n=e.l+t,a=Mi(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=xp(e,n-e.l,r);s[3]=xu(o,null,a,r.supbooks,r)}else e.l=n;return s}function Z9(e,t,r){var n=e.l+t,a=Mi(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=xp(e,n-e.l,r);s[3]=xu(o,null,a,r.supbooks,r)}else e.l=n;return s}function Q9(e,t,r){var n=e.l+t,a=Mi(e);a.r=r["!row"];var i=Du(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=xp(e,n-e.l,r);s[3]=xu(o,null,a,r.supbooks,r)}else e.l=n;return s}function eB(e,t,r){var n=e.l+t,a=Mi(e);a.r=r["!row"];var i=ha(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=xp(e,n-e.l,r);s[3]=xu(o,null,a,r.supbooks,r)}else e.l=n;return s}var tB=gc,rB=Lu;function nB(e,t){return t==null&&(t=ze(4)),t.write_shift(4,e),t}function aB(e,t){var r=e.l+t,n=gc(e),a=ny(e),i=ha(e),s=ha(e),o=ha(e);e.l=r;var c={rfx:n,relId:a,loc:i,display:o};return s&&(c.Tooltip=s),c}function iB(e,t){var r=ze(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Lu({s:Fn(e[0]),e:Fn(e[0])},r),ay("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return In(a||"",r),In(e[1].Tooltip||"",r),In("",r),r.slice(0,r.l)}function sB(){}function oB(e,t,r){var n=e.l+t,a=CA(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=YR(e,n-e.l,r);s[1]=o}else e.l=n;return s}function lB(e,t,r){var n=e.l+t,a=gc(e),i=[a];if(r.cellFormula){var s=JR(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}function cB(e,t,r){r==null&&(r=ze(18));var n=yp(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var h3=["left","right","top","bottom","header","footer"];function uB(e){var t={};return h3.forEach(function(r){t[r]=Du(e)}),t}function fB(e,t){return t==null&&(t=ze(6*8)),f3(e),h3.forEach(function(r){ec(e[r],t)}),t}function dB(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function hB(e,t,r){r==null&&(r=ze(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function mB(e){var t=ze(24);return t.write_shift(4,4),t.write_shift(4,1),Lu(e,t),t}function pB(e,t){return t==null&&(t=ze(16*4+2)),t.write_shift(2,e.password?KA(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function gB(){}function vB(){}function xB(e,t,r,n,a,i,s){if(t.v===void 0)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":t=Ga(t),t.z=t.z||Gr[14],t.v=Va(Pa(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v;break}var c={r,c:n};switch(c.s=fl(a.cellXfs,t,a),t.l&&i["!links"].push([fr(c),t.l]),t.c&&i["!comments"].push([fr(c),t.c]),t.t){case"s":case"str":return a.bookSST?(o=uy(a.Strings,t.v,a.revStrings),c.t="s",c.v=o,s?tt(e,18,M9(t,c)):tt(e,7,F9(t,c))):(c.t="str",s?tt(e,17,X9(t,c)):tt(e,6,K9(t,c))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?s?tt(e,13,H9(t,c)):tt(e,2,W9(t,c)):s?tt(e,16,$9(t,c)):tt(e,5,B9(t,c)),!0;case"b":return c.t="b",s?tt(e,15,T9(t,c)):tt(e,4,E9(t,c)),!0;case"e":return c.t="e",s?tt(e,14,L9(t,c)):tt(e,3,O9(t,c)),!0}return s?tt(e,12,A9(t,c)):tt(e,1,S9(t,c)),!0}function yB(e,t,r,n){var a=Er(t["!ref"]||"A1"),i,s="",o=[];tt(e,145);var c=Array.isArray(t),u=a.e.r;t["!rows"]&&(u=Math.max(a.e.r,t["!rows"].length-1));for(var f=a.s.r;f<=u;++f){s=Xn(f),g9(e,t,a,f);var d=!1;if(f<=a.e.r)for(var m=a.s.c;m<=a.e.c;++m){f===a.s.r&&(o[m]=da(m)),i=o[m]+s;var h=c?(t[f]||[])[m]:t[i];if(!h){d=!1;continue}d=xB(e,h,f,m,n,t,d)}}tt(e,146)}function bB(e,t){!t||!t["!merges"]||(tt(e,177,nB(t["!merges"].length)),t["!merges"].forEach(function(r){tt(e,176,rB(r))}),tt(e,178))}function wB(e,t){!t||!t["!cols"]||(tt(e,390),t["!cols"].forEach(function(r,n){r&&tt(e,60,cB(n,r))}),tt(e,391))}function _B(e,t){!t||!t["!ref"]||(tt(e,648),tt(e,649,mB(Er(t["!ref"]))),tt(e,650))}function SB(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=lr(r,-1,n[1].Target.replace(/#.*$/,""),Xt.HLINK);tt(e,494,iB(n,a))}}),delete t["!links"]}function NB(e,t,r,n){if(t["!comments"].length>0){var a=lr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",Xt.VML);tt(e,551,ay("rId"+a)),t["!legacy"]=a}}function AB(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:hn(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,o=di(i);o.s.r==o.e.r&&(o.e.r=di(t["!ref"]).e.r,i=hn(o));for(var c=0;c<s.length;++c){var u=s[c];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+i;break}}c==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),tt(e,161,Lu(Er(i))),tt(e,162)}}function jB(e,t,r){tt(e,133),tt(e,137,hB(t,r)),tt(e,138),tt(e,134)}function EB(e,t){t["!protect"]&&tt(e,535,pB(t["!protect"]))}function PB(e,t,r,n){var a=qa(),i=r.SheetNames[e],s=r.Sheets[i]||{},o=i;try{r&&r.Workbook&&(o=r.Workbook.Sheets[e].CodeName||o)}catch{}var c=Er(s["!ref"]||"A1");if(c.e.c>16383||c.e.r>1048575){if(t.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575)}return s["!links"]=[],s["!comments"]=[],tt(a,129),(r.vbaraw||s["!outline"])&&tt(a,147,w9(o,s["!outline"])),tt(a,148,x9(c)),jB(a,s,r.Workbook),wB(a,s),yB(a,s,e,t),EB(a,s),AB(a,s,r,e),bB(a,s),SB(a,s,n),s["!margins"]&&tt(a,476,fB(s["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&_B(a,s),NB(a,s,e,n),tt(a,130),a.end()}function TB(e,t){e.l+=10;var r=ha(e);return{name:r}}var CB=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function OB(e){return!e.Workbook||!e.Workbook.WBProps?"false":lI(e.Workbook.WBProps.date1904)?"true":"false"}var kB="][*?/\\".split("");function m3(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var r=!0;return kB.forEach(function(n){if(e.indexOf(n)!=-1){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");r=!1}}),r}function LB(e,t,r){e.forEach(function(n,a){m3(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var s=t&&t[a]&&t[a].CodeName||n;if(s.charCodeAt(0)==95&&s.length>22)throw new Error("Bad Code Name: Worksheet"+s)}})}function DB(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];LB(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)r9(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function p3(e){var t=[gn];t[t.length]=ot("workbook",null,{xmlns:Ou[0],"xmlns:r":Dn.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(CB.forEach(function(o){e.Workbook.WBProps[o[0]]!=null&&e.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=e.Workbook.WBProps[o[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=ot("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a&&a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var s={name:ur(e.SheetNames[i].slice(0,31))};if(s.sheetId=""+(i+1),s["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:s.state="hidden";break;case 2:s.state="veryHidden";break}t[t.length]=ot("sheet",null,s)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(o){var c={name:o.Name};o.Comment&&(c.comment=o.Comment),o.Sheet!=null&&(c.localSheetId=""+o.Sheet),o.Hidden&&(c.hidden="1"),o.Ref&&(t[t.length]=ot("definedName",ur(o.Ref),c))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function FB(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=bv(e),r.name=ha(e),r}function IB(e,t){return t||(t=ze(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),ay(e.strRelID,t),In(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function MB(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?ha(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function RB(e,t){t||(t=ze(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),EA(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function BB(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=OI(e),s=XR(e,0,r),o=ny(e);e.l=n;var c={Name:i,Ptg:s};return a<268435455&&(c.Sheet=a),o&&(c.Comment=o),c}function UB(e,t){tt(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};tt(e,156,IB(a))}tt(e,144)}function $B(e,t){t||(t=ze(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return In("SheetJS",t),In(Vh.version,t),In(Vh.version,t),In("7262",t),t.length>t.l?t.slice(0,t.l):t}function qB(e,t){t||(t=ze(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function WB(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(tt(e,135),tt(e,158,qB(a)),tt(e,136))}}function zB(e,t){var r=qa();return tt(r,131),tt(r,128,$B()),tt(r,153,RB(e.Workbook&&e.Workbook.WBProps||null)),WB(r,e),UB(r,e),tt(r,132),r.end()}function HB(e,t,r){return(t.slice(-4)===".bin"?zB:p3)(e)}function VB(e,t,r,n,a){return(t.slice(-4)===".bin"?PB:d3)(e,r,n,a)}function GB(e,t,r){return(t.slice(-4)===".bin"?fM:JA)(e,r)}function KB(e,t,r){return(t.slice(-4)===".bin"?R7:GA)(e,r)}function YB(e,t,r){return(t.slice(-4)===".bin"?EM:r3)(e)}function XB(e){return(e.slice(-4)===".bin"?yM:e3)()}function JB(e,t){var r=[];return e.Props&&r.push(GI(e.Props,t)),e.Custprops&&r.push(KI(e.Props,e.Custprops)),r.join("")}function ZB(){return""}function QB(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(ot("NumberFormat",null,{"ss:Format":ur(Gr[n.numFmtId])}));var s={"ss:ID":"s"+(21+a)};r.push(ot("Style",i.join(""),s))}),ot("Styles",r.join(""))}function g3(e){return ot("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+ly(e.Ref,{r:0,c:0})})}function eU(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(g3(a)))}return ot("Names",r.join(""))}function tU(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],s=0;s<a.length;++s){var o=a[s];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||i.push(g3(o)))}return i.join("")}function rU(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(ot("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(ot("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(ot("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(ot("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(Yn("ProtectContents","True")),e["!protect"].objects&&a.push(Yn("ProtectObjects","True")),e["!protect"].scenarios&&a.push(Yn("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(Yn("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(Yn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(s){e["!protect"][s[0]]&&a.push("<"+s[1]+"/>")})),a.length==0?"":ot("WorksheetOptions",a.join(""),{xmlns:ii.x})}function nU(e){return e.map(function(t){var r=oI(t.t||""),n=ot("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return ot("Comment",n,{"ss:Author":t.a})}).join("")}function aU(e,t,r,n,a,i,s){if(!e||e.v==null&&e.f==null)return"";var o={};if(e.f&&(o["ss:Formula"]="="+ur(ly(e.f,s))),e.F&&e.F.slice(0,t.length)==t){var c=Fn(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(c.r==s.r?"":"["+(c.r-s.r)+"]")+"C"+(c.c==s.c?"":"["+(c.c-s.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=ur(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=ur(e.l.Tooltip))),r["!merges"])for(var u=r["!merges"],f=0;f!=u.length;++f)u[f].s.c!=s.c||u[f].s.r!=s.r||(u[f].e.c>u[f].s.c&&(o["ss:MergeAcross"]=u[f].e.c-u[f].s.c),u[f].e.r>u[f].s.r&&(o["ss:MergeDown"]=u[f].e.r-u[f].s.r));var d="",m="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":d="Number",m=String(e.v);break;case"b":d="Boolean",m=e.v?"1":"0";break;case"e":d="Error",m=Id[e.v];break;case"d":d="DateTime",m=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Gr[14]);break;case"s":d="String",m=sI(e.v||"");break}var h=fl(n.cellXfs,e,n);o["ss:StyleID"]="s"+(21+h),o["ss:Index"]=s.c+1;var g=e.v!=null?m:"",p=e.t=="z"?"":'<Data ss:Type="'+d+'">'+g+"</Data>";return(e.c||[]).length>0&&(p+=nU(e.c)),ot("Cell",p,o)}function iU(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=XA(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function sU(e,t,r,n){if(!e["!ref"])return"";var a=Er(e["!ref"]),i=e["!merges"]||[],s=0,o=[];e["!cols"]&&e["!cols"].forEach(function(x,y){sy(x);var _=!!x.width,w=yp(y,x),P={"ss:Index":y+1};_&&(P["ss:Width"]=tm(w.width)),x.hidden&&(P["ss:Hidden"]="1"),o.push(ot("Column",null,P))});for(var c=Array.isArray(e),u=a.s.r;u<=a.e.r;++u){for(var f=[iU(u,(e["!rows"]||[])[u])],d=a.s.c;d<=a.e.c;++d){var m=!1;for(s=0;s!=i.length;++s)if(!(i[s].s.c>d)&&!(i[s].s.r>u)&&!(i[s].e.c<d)&&!(i[s].e.r<u)){(i[s].s.c!=d||i[s].s.r!=u)&&(m=!0);break}if(!m){var h={r:u,c:d},g=fr(h),p=c?(e[u]||[])[d]:e[g];f.push(aU(p,g,e,t,r,n,h))}}f.push("</Row>"),f.length>2&&o.push(f.join(""))}return o.join("")}function oU(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],s=i?tU(i,t,e,r):"";return s.length>0&&n.push("<Names>"+s+"</Names>"),s=i?sU(i,t,e,r):"",s.length>0&&n.push("<Table>"+s+"</Table>"),n.push(rU(i,t,e,r)),n.join("")}function lU(e,t){t||(t={}),e.SSF||(e.SSF=Ga(Gr)),e.SSF&&(mp(),hp(e.SSF),t.revssf=pp(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],fl(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(JB(e,t)),r.push(ZB()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(ot("Worksheet",oU(n,t,e),{"ss:Name":ur(e.SheetNames[n])}));return r[2]=QB(e,t),r[3]=eU(e),gn+ot("Workbook",r.join(""),{xmlns:ii.ss,"xmlns:o":ii.o,"xmlns:x":ii.x,"xmlns:ss":ii.ss,"xmlns:dt":ii.dt,"xmlns:html":ii.html})}var w1={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function cU(e,t){var r=[],n=[],a=[],i=0,s,o=n5(g5,"n"),c=n5(v5,"n");if(e.Props)for(s=Jn(e.Props),i=0;i<s.length;++i)(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(c,s[i])?n:a).push([s[i],e.Props[s[i]]]);if(e.Custprops)for(s=Jn(e.Custprops),i=0;i<s.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},s[i])||(Object.prototype.hasOwnProperty.call(o,s[i])?r:Object.prototype.hasOwnProperty.call(c,s[i])?n:a).push([s[i],e.Custprops[s[i]]]);var u=[];for(i=0;i<a.length;++i)UA.indexOf(a[i][0])>-1||MA.indexOf(a[i][0])>-1||a[i][1]!=null&&u.push(a[i]);n.length&&mr.utils.cfb_add(t,"/SummaryInformation",_5(n,w1.SI,c,v5)),(r.length||u.length)&&mr.utils.cfb_add(t,"/DocumentSummaryInformation",_5(r,w1.DSI,o,g5,u.length?u:null,w1.UDI))}function uU(e,t){var r=t||{},n=mr.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return mr.utils.cfb_add(n,a,v3(e,r)),r.biff==8&&(e.Props||e.Custprops)&&cU(e,n),r.biff==8&&e.vbaraw&&PM(n,mr.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var fU={0:{f:m9},1:{f:_9},2:{f:q9},3:{f:C9},4:{f:j9},5:{f:R9},6:{f:G9},7:{f:D9},8:{f:eB},9:{f:Q9},10:{f:J9},11:{f:Z9},12:{f:N9},13:{f:z9},14:{f:k9},15:{f:P9},16:{f:U9},17:{f:Y9},18:{f:I9},19:{f:ry},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:BB},40:{},42:{},43:{f:G7},44:{f:H7},45:{f:X7},46:{f:Z7},47:{f:J7},48:{},49:{f:NI},50:{},51:{f:mM},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:A7},62:{f:V9},63:{f:bM},64:{f:gB},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Cs,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:dB},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:b9},148:{f:v9,p:16},151:{f:sB},152:{},153:{f:MB},154:{},155:{},156:{f:FB},157:{},158:{},159:{T:1,f:F7},160:{T:-1},161:{T:1,f:gc},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:tB},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:dM},336:{T:-1},337:{f:vM,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:bv},357:{},358:{},359:{},360:{T:1},361:{},362:{f:y7},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:oB},427:{f:lB},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:uB},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:y9},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:aB},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:bv},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:AM},633:{T:1},634:{T:-1},635:{T:1,f:SM},636:{T:-1},637:{f:PI},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:TB},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:vB},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function lt(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&Qx(r)&&e.push(r)}}function dU(e,t,r,n){var a=n||(r||[]).length||0;if(a<=8224)return lt(e,t,r,a);var i=t;if(!isNaN(i)){for(var s=r.parts||[],o=0,c=0,u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;var f=e.next(4);for(f.write_shift(2,i),f.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u;c<a;){for(f=e.next(4),f.write_shift(2,60),u=0;u+(s[o]||8224)<=8224;)u+=s[o]||8224,o++;f.write_shift(2,u),e.push(r.slice(c,c+u)),c+=u}}}function Rd(e,t,r){return e||(e=ze(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function hU(e,t,r,n){var a=ze(9);return Rd(a,e,t),qA(r,n||"b",a),a}function mU(e,t,r){var n=ze(8+2*r.length);return Rd(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function pU(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?Va(Pa(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?lt(e,2,T7(r,n,a)):lt(e,3,P7(r,n,a));return;case"b":case"e":lt(e,5,hU(r,n,t.v,t.t));return;case"s":case"str":lt(e,4,mU(r,n,(t.v||"").slice(0,255)));return}lt(e,1,Rd(null,r,n))}function gU(e,t,r,n){var a=Array.isArray(t),i=Er(t["!ref"]||"A1"),s,o="",c=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=hn(i)}for(var u=i.s.r;u<=i.e.r;++u){o=Xn(u);for(var f=i.s.c;f<=i.e.c;++f){u===i.s.r&&(c[f]=da(f)),s=c[f]+o;var d=a?(t[u]||[])[f]:t[s];d&&pU(e,d,u,f)}}}function vU(e,t){for(var r=t||{},n=qa(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return lt(n,r.biff==4?1033:r.biff==3?521:9,iy(e,16,r)),gU(n,e.Sheets[e.SheetNames[a]],a,r),lt(n,10),n.end()}function xU(e,t,r){lt(e,49,f7({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function yU(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&lt(e,1054,m7(a,t[a],r))})}function bU(e,t){var r=ze(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),lt(e,2151,r),r=ze(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),HA(Er(t["!ref"]||"A1"),r),r.write_shift(4,4),lt(e,2152,r)}function wU(e,t){for(var r=0;r<16;++r)lt(e,224,N5({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){lt(e,224,N5(n,0,t))})}function _U(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];lt(e,440,_7(n)),n[1].Tooltip&&lt(e,2048,S7(n))}delete t["!links"]}function SU(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&lt(e,125,j7(yp(a,n),a))})}}function NU(e,t,r,n,a){var i=16+fl(a.cellXfs,t,a);if(t.v==null&&!t.bf){lt(e,513,tc(r,n,i));return}if(t.bf)lt(e,6,KR(t,r,n,a,i));else switch(t.t){case"d":case"n":var s=t.t=="d"?Va(Pa(t.v)):t.v;lt(e,515,x7(r,n,s,i));break;case"b":case"e":lt(e,517,v7(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var o=uy(a.Strings,t.v,a.revStrings);lt(e,253,d7(r,n,o,i))}else lt(e,516,h7(r,n,(t.v||"").slice(0,255),i,a));break;default:lt(e,513,tc(r,n,i))}}function AU(e,t,r){var n=qa(),a=r.SheetNames[e],i=r.Sheets[a]||{},s=(r||{}).Workbook||{},o=(s.Sheets||[])[e]||{},c=Array.isArray(i),u=t.biff==8,f,d="",m=[],h=Er(i["!ref"]||"A1"),g=u?65536:16384;if(h.e.c>255||h.e.r>=g){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");h.e.c=Math.min(h.e.c,255),h.e.r=Math.min(h.e.c,g-1)}lt(n,2057,iy(r,16,t)),lt(n,13,Ci(1)),lt(n,12,Ci(100)),lt(n,15,Na(!0)),lt(n,17,Na(!1)),lt(n,16,ec(.001)),lt(n,95,Na(!0)),lt(n,42,Na(!1)),lt(n,43,Na(!1)),lt(n,130,Ci(1)),lt(n,128,g7([0,0])),lt(n,131,Na(!1)),lt(n,132,Na(!1)),u&&SU(n,i["!cols"]),lt(n,512,p7(h,t)),u&&(i["!links"]=[]);for(var p=h.s.r;p<=h.e.r;++p){d=Xn(p);for(var x=h.s.c;x<=h.e.c;++x){p===h.s.r&&(m[x]=da(x)),f=m[x]+d;var y=c?(i[p]||[])[x]:i[f];y&&(NU(n,y,p,x,t),u&&y.l&&i["!links"].push([f,y.l]))}}var _=o.CodeName||o.name||a;return u&&lt(n,574,u7((s.Views||[])[0])),u&&(i["!merges"]||[]).length&&lt(n,229,w7(i["!merges"])),u&&_U(n,i),lt(n,442,zA(_)),u&&bU(n,i),lt(n,10),n.end()}function jU(e,t,r){var n=qa(),a=(e||{}).Workbook||{},i=a.Sheets||[],s=a.WBProps||{},o=r.biff==8,c=r.biff==5;if(lt(n,2057,iy(e,5,r)),r.bookType=="xla"&&lt(n,135),lt(n,225,o?Ci(1200):null),lt(n,193,JI(2)),c&&lt(n,191),c&&lt(n,192),lt(n,226),lt(n,92,s7("SheetJS",r)),lt(n,66,Ci(o?1200:1252)),o&&lt(n,353,Ci(0)),o&&lt(n,448),lt(n,317,E7(e.SheetNames.length)),o&&e.vbaraw&&lt(n,211),o&&e.vbaraw){var u=s.CodeName||"ThisWorkbook";lt(n,442,zA(u))}lt(n,156,Ci(17)),lt(n,25,Na(!1)),lt(n,18,Na(!1)),lt(n,19,Ci(0)),o&&lt(n,431,Na(!1)),o&&lt(n,444,Ci(0)),lt(n,61,c7()),lt(n,64,Na(!1)),lt(n,141,Ci(0)),lt(n,34,Na(OB(e)=="true")),lt(n,14,Na(!0)),o&&lt(n,439,Na(!1)),lt(n,218,Ci(0)),xU(n,e,r),yU(n,e.SSF,r),wU(n,r),o&&lt(n,352,Na(!1));var f=n.end(),d=qa();o&&lt(d,140,N7()),o&&r.Strings&&dU(d,252,l7(r.Strings)),lt(d,10);var m=d.end(),h=qa(),g=0,p=0;for(p=0;p<e.SheetNames.length;++p)g+=(o?12:11)+(o?2:1)*e.SheetNames[p].length;var x=f.length+g+m.length;for(p=0;p<e.SheetNames.length;++p){var y=i[p]||{};lt(h,133,o7({pos:x,hs:y.Hidden||0,dt:0,name:e.SheetNames[p]},r)),x+=t[p].length}var _=h.end();if(g!=_.length)throw new Error("BS8 "+g+" != "+_.length);var w=[];return f.length&&w.push(f),_.length&&w.push(_),m.length&&w.push(m),Kn(w)}function EU(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=Ga(Gr)),e&&e.SSF&&(mp(),hp(e.SSF),r.revssf=pp(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,fy(r),r.cellXfs=[],fl(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=AU(a,r,e);return n.unshift(jU(e,n,r)),Kn(n)}function v3(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=di(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return EU(e,t);case 4:case 3:case 2:return vU(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function PU(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,c=0,u=0;u<a.length;++u)if(!(a[u].s.r>r||a[u].s.c>s)&&!(a[u].e.r<r||a[u].e.c<s)){if(a[u].s.r<r||a[u].s.c<s){o=-1;break}o=a[u].e.r-a[u].s.r+1,c=a[u].e.c-a[u].s.c+1;break}if(!(o<0)){var f=fr({r,c:s}),d=n.dense?(e[r]||[])[s]:e[f],m=d&&d.v!=null&&(d.h||iI(d.w||(ao(d),d.w)||""))||"",h={};o>1&&(h.rowspan=o),c>1&&(h.colspan=c),n.editable?m='<span contenteditable="true">'+m+"</span>":d&&(h["data-t"]=d&&d.t||"z",d.v!=null&&(h["data-v"]=d.v),d.z!=null&&(h["data-z"]=d.z),d.l&&(d.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+d.l.Target+'">'+m+"</a>")),h.id=(n.id||"sjs")+"-"+f,i.push(ot("td",m,h))}}var g="<tr>";return g+i.join("")+"</tr>"}var TU='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',CU="</body></html>";function OU(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function x3(e,t){var r=t||{},n=r.header!=null?r.header:TU,a=r.footer!=null?r.footer:CU,i=[n],s=di(e["!ref"]);r.dense=Array.isArray(e),i.push(OU(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(PU(e,s,o,r));return i.push("</table>"+a),i.join("")}function y3(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?Fn(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),c=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var f=di(e["!ref"]);u.s.r=Math.min(u.s.r,f.s.r),u.s.c=Math.min(u.s.c,f.s.c),u.e.r=Math.max(u.e.r,f.e.r),u.e.c=Math.max(u.e.c,f.e.c),a==-1&&(u.e.r=a=f.e.r+1)}var d=[],m=0,h=e["!rows"]||(e["!rows"]=[]),g=0,p=0,x=0,y=0,_=0,w=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&p<c;++g){var P=o[g];if(O5(P)){if(n.display)continue;h[p]={hidden:!0}}var E=P.children;for(x=y=0;x<E.length;++x){var D=E[x];if(!(n.display&&O5(D))){var N=D.hasAttribute("data-v")?D.getAttribute("data-v"):D.hasAttribute("v")?D.getAttribute("v"):cI(D.innerHTML),k=D.getAttribute("data-z")||D.getAttribute("z");for(m=0;m<d.length;++m){var F=d[m];F.s.c==y+i&&F.s.r<p+a&&p+a<=F.e.r&&(y=F.e.c+1-i,m=-1)}w=+D.getAttribute("colspan")||1,((_=+D.getAttribute("rowspan")||1)>1||w>1)&&d.push({s:{r:p+a,c:y+i},e:{r:p+a+(_||1)-1,c:y+i+(w||1)-1}});var L={t:"s",v:N},A=D.getAttribute("data-t")||D.getAttribute("t")||"";N!=null&&(N.length==0?L.t=A||"z":n.raw||N.trim().length==0||A=="s"||(N==="TRUE"?L={t:"b",v:!0}:N==="FALSE"?L={t:"b",v:!1}:isNaN(Qs(N))?isNaN(ud(N).getDate())||(L={t:"d",v:Pa(N)},n.cellDates||(L={t:"n",v:Va(L.v)}),L.z=n.dateNF||Gr[14]):L={t:"n",v:Qs(N)})),L.z===void 0&&k!=null&&(L.z=k);var S="",M=D.getElementsByTagName("A");if(M&&M.length)for(var U=0;U<M.length&&!(M[U].hasAttribute("href")&&(S=M[U].getAttribute("href"),S.charAt(0)!="#"));++U);S&&S.charAt(0)!="#"&&(L.l={Target:S}),n.dense?(e[p+a]||(e[p+a]=[]),e[p+a][y+i]=L):e[fr({c:y+i,r:p+a})]=L,u.e.c<y+i&&(u.e.c=y+i),y+=w}}++p}return d.length&&(e["!merges"]=(e["!merges"]||[]).concat(d)),u.e.r=Math.max(u.e.r,p-1+a),e["!ref"]=hn(u),p>=c&&(e["!fullref"]=hn((u.e.r=o.length-g+p-1+a,u))),e}function b3(e,t){var r=t||{},n=r.dense?[]:{};return y3(n,e,t)}function kU(e,t){return dc(b3(e,t),t)}function O5(e){var t="",r=LU(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function LU(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var DU=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+fd({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return gn+t}}(),k5=function(){var e=function(i){return ur(i).replace(/  +/g,function(s){return'<text:s text:c="'+s.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,s,o){var c=[];c.push('      <table:table table:name="'+ur(s.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,f=0,d=di(i["!ref"]||"A1"),m=i["!merges"]||[],h=0,g=Array.isArray(i);if(i["!cols"])for(f=0;f<=d.e.c;++f)c.push("        <table:table-column"+(i["!cols"][f]?' table:style-name="co'+i["!cols"][f].ods+'"':"")+`></table:table-column>
`);var p="",x=i["!rows"]||[];for(u=0;u<d.s.r;++u)p=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+p+`></table:table-row>
`);for(;u<=d.e.r;++u){for(p=x[u]?' table:style-name="ro'+x[u].ods+'"':"",c.push("        <table:table-row"+p+`>
`),f=0;f<d.s.c;++f)c.push(t);for(;f<=d.e.c;++f){var y=!1,_={},w="";for(h=0;h!=m.length;++h)if(!(m[h].s.c>f)&&!(m[h].s.r>u)&&!(m[h].e.c<f)&&!(m[h].e.r<u)){(m[h].s.c!=f||m[h].s.r!=u)&&(y=!0),_["table:number-columns-spanned"]=m[h].e.c-m[h].s.c+1,_["table:number-rows-spanned"]=m[h].e.r-m[h].s.r+1;break}if(y){c.push(r);continue}var P=fr({r:u,c:f}),E=g?(i[u]||[])[f]:i[P];if(E&&E.f&&(_["table:formula"]=ur(e9(E.f)),E.F&&E.F.slice(0,P.length)==P)){var D=di(E.F);_["table:number-matrix-columns-spanned"]=D.e.c-D.s.c+1,_["table:number-matrix-rows-spanned"]=D.e.r-D.s.r+1}if(!E){c.push(t);continue}switch(E.t){case"b":w=E.v?"TRUE":"FALSE",_["office:value-type"]="boolean",_["office:boolean-value"]=E.v?"true":"false";break;case"n":w=E.w||String(E.v||0),_["office:value-type"]="float",_["office:value"]=E.v||0;break;case"s":case"str":w=E.v==null?"":E.v,_["office:value-type"]="string";break;case"d":w=E.w||Pa(E.v).toISOString(),_["office:value-type"]="date",_["office:date-value"]=Pa(E.v).toISOString(),_["table:style-name"]="ce1";break;default:c.push(t);continue}var N=e(w);if(E.l&&E.l.Target){var k=E.l.Target;k=k.charAt(0)=="#"?"#"+t9(k.slice(1)):k,k.charAt(0)!="#"&&!k.match(/^\w+:/)&&(k="../"+k),N=ot("text:a",N,{"xlink:href":k.replace(/&/g,"&amp;")})}c.push("          "+ot("table:table-cell",ot("text:p",N,{}),_)+`
`)}c.push(`        </table:table-row>
`)}return c.push(`      </table:table>
`),c.join("")},a=function(i,s){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var o=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var f=0;f<u["!cols"].length;++f)if(u["!cols"][f]){var d=u["!cols"][f];if(d.width==null&&d.wpx==null&&d.wch==null)continue;sy(d),d.ods=o;var m=u["!cols"][f].wpx+"px";i.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),i.push(`  </style:style>
`),++o}}});var c=0;s.SheetNames.map(function(u){return s.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var f=0;f<u["!rows"].length;++f)if(u["!rows"][f]){u["!rows"][f].ods=c;var d=u["!rows"][f].hpx+"px";i.push('  <style:style style:name="ro'+c+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+d+`"/>
`),i.push(`  </style:style>
`),++c}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(s,o){var c=[gn],u=fd({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=fd({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(c.push("<office:document"+u+f+`>
`),c.push(FA().replace(/office:document-meta/g,"office:meta"))):c.push("<office:document-content"+u+`>
`),a(c,s),c.push(`  <office:body>
`),c.push(`    <office:spreadsheet>
`);for(var d=0;d!=s.SheetNames.length;++d)c.push(n(s.Sheets[s.SheetNames[d]],s,d));return c.push(`    </office:spreadsheet>
`),c.push(`  </office:body>
`),o.bookType=="fods"?c.push("</office:document>"):c.push("</office:document-content>"),c.join("")}}();function w3(e,t){if(t.bookType=="fods")return k5(e,t);var r=Yx(),n="",a=[],i=[];return n="mimetype",Ut(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Ut(r,n,k5(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Ut(r,n,DU(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Ut(r,n,gn+FA()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Ut(r,n,VI(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Ut(r,n,zI(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function am(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function FU(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):rs(Ys(e))}function IU(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function rl(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function MU(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function dd(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function sr(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function du(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function bn(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=dd(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var c=r[0];e[r[0]++]>=128;);o=e.slice(c,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=dd(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var u={data:o,type:i};t[a]==null?t[a]=[u]:t[a].push(u)}return t}function zn(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(sr(n*8+a.type)),a.type==2&&t.push(sr(a.data.length)),t.push(a.data))})}),rl(t)}function Ki(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=dd(e,n),i=bn(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:du(i[1][0].data),messages:[]};i[2].forEach(function(o){var c=bn(o.data),u=du(c[3][0].data);s.messages.push({meta:c,data:e.slice(n[0],n[0]+u)}),n[0]+=u}),(t=i[3])!=null&&t[0]&&(s.merge=du(i[3][0].data)>>>0>0),r.push(s)}return r}function Hc(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:sr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:sr(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(s){a.push(s.data),s.meta[3]=[{type:0,data:sr(s.data.length)}],n[2].push({data:zn(s.meta),type:2})});var i=zn(n);t.push(sr(i.length)),t.push(i),a.forEach(function(s){return t.push(s)})}),rl(t)}function RU(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=dd(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var c=0,u=0;if(i==1?(u=(t[r[0]]>>2&7)+4,c=(t[r[0]++]&224)<<3,c|=t[r[0]++]):(u=(t[r[0]++]>>2)+1,i==2?(c=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(c=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[rl(a)],c==0)throw new Error("Invalid offset 0");if(c>a[0].length)throw new Error("Invalid offset beyond length");if(u>=c)for(a.push(a[0].slice(-c)),u-=c;u>=a[a.length-1].length;)a.push(a[a.length-1]),u-=a[a.length-1].length;a.push(a[0].slice(-c,-c+u))}}var f=rl(a);if(f.length!=n)throw new Error("Unexpected length: ".concat(f.length," != ").concat(n));return f}function Yi(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(RU(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return rl(t)}function Vc(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=sr(n),s=i.length;t.push(i),n<=60?(s++,t.push(new Uint8Array([n-1<<2]))):n<=256?(s+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(s+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(s+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(s+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),s+=n,a[0]=0,a[1]=s&255,a[2]=s>>8&255,a[3]=s>>16&255,r+=n}return rl(t)}function _1(e,t){var r=new Uint8Array(32),n=am(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,MU(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function S1(e,t){var r=new Uint8Array(32),n=am(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function Do(e){var t=bn(e);return dd(t[1][0].data)}function BU(e,t,r){var n,a,i,s;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var o=((s=(i=e[8])==null?void 0:i[0])==null?void 0:s.data)&&du(e[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var c=0,u=am(e[7][0].data),f=0,d=[],m=am(e[4][0].data),h=0,g=[],p=0;p<t.length;++p){if(t[p]==null){u.setUint16(p*2,65535,!0),m.setUint16(p*2,65535);continue}u.setUint16(p*2,f,!0),m.setUint16(p*2,h,!0);var x,y;switch(typeof t[p]){case"string":x=_1({t:"s",v:t[p]},r),y=S1({t:"s",v:t[p]},r);break;case"number":x=_1({t:"n",v:t[p]},r),y=S1({t:"n",v:t[p]},r);break;case"boolean":x=_1({t:"b",v:t[p]},r),y=S1({t:"b",v:t[p]},r);break;default:throw new Error("Unsupported value "+t[p])}d.push(x),f+=x.length,g.push(y),h+=y.length,++c}for(e[2][0].data=sr(c);p<e[7][0].data.length/2;++p)u.setUint16(p*2,65535,!0),m.setUint16(p*2,65535,!0);return e[6][0].data=rl(d),e[3][0].data=rl(g),c}function UU(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=di(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(hn(n)));var i=im(r,{range:n,header:1}),s=["~Sh33tJ5~"];i.forEach(function(I){return I.forEach(function(B){typeof B=="string"&&s.push(B)})});var o={},c=[],u=mr.read(t.numbers,{type:"base64"});u.FileIndex.map(function(I,B){return[I,u.FullPaths[B]]}).forEach(function(I){var B=I[0],z=I[1];if(B.type==2&&B.name.match(/\.iwa/)){var Z=B.content,ge=Yi(Z),pe=Ki(ge);pe.forEach(function(te){c.push(te.id),o[te.id]={deps:[],location:z,type:du(te.messages[0].meta[1][0].data)}})}}),c.sort(function(I,B){return I-B});var f=c.filter(function(I){return I>1}).map(function(I){return[I,sr(I)]});u.FileIndex.map(function(I,B){return[I,u.FullPaths[B]]}).forEach(function(I){var B=I[0];if(I[1],!!B.name.match(/\.iwa/)){var z=Ki(Yi(B.content));z.forEach(function(Z){Z.messages.forEach(function(ge){f.forEach(function(pe){Z.messages.some(function(te){return du(te.meta[1][0].data)!=11006&&IU(te.data,pe[1])})&&o[pe[0]].deps.push(Z.id)})})})}});for(var d=mr.find(u,o[1].location),m=Ki(Yi(d.content)),h,g=0;g<m.length;++g){var p=m[g];p.id==1&&(h=p)}var x=Do(bn(h.messages[0].data)[1][0].data);for(d=mr.find(u,o[x].location),m=Ki(Yi(d.content)),g=0;g<m.length;++g)p=m[g],p.id==x&&(h=p);for(x=Do(bn(h.messages[0].data)[2][0].data),d=mr.find(u,o[x].location),m=Ki(Yi(d.content)),g=0;g<m.length;++g)p=m[g],p.id==x&&(h=p);for(x=Do(bn(h.messages[0].data)[2][0].data),d=mr.find(u,o[x].location),m=Ki(Yi(d.content)),g=0;g<m.length;++g)p=m[g],p.id==x&&(h=p);var y=bn(h.messages[0].data);{y[6][0].data=sr(n.e.r+1),y[7][0].data=sr(n.e.c+1);var _=Do(y[46][0].data),w=mr.find(u,o[_].location),P=Ki(Yi(w.content));{for(var E=0;E<P.length&&P[E].id!=_;++E);if(P[E].id!=_)throw"Bad ColumnRowUIDMapArchive";var D=bn(P[E].messages[0].data);D[1]=[],D[2]=[],D[3]=[];for(var N=0;N<=n.e.c;++N){var k=[];k[1]=k[2]=[{type:0,data:sr(N+420690)}],D[1].push({type:2,data:zn(k)}),D[2].push({type:0,data:sr(N)}),D[3].push({type:0,data:sr(N)})}D[4]=[],D[5]=[],D[6]=[];for(var F=0;F<=n.e.r;++F)k=[],k[1]=k[2]=[{type:0,data:sr(F+726270)}],D[4].push({type:2,data:zn(k)}),D[5].push({type:0,data:sr(F)}),D[6].push({type:0,data:sr(F)});P[E].messages[0].data=zn(D)}w.content=Vc(Hc(P)),w.size=w.content.length,delete y[46];var L=bn(y[4][0].data);{L[7][0].data=sr(n.e.r+1);var A=bn(L[1][0].data),S=Do(A[2][0].data);w=mr.find(u,o[S].location),P=Ki(Yi(w.content));{if(P[0].id!=S)throw"Bad HeaderStorageBucket";var M=bn(P[0].messages[0].data);for(F=0;F<i.length;++F){var U=bn(M[2][0].data);U[1][0].data=sr(F),U[4][0].data=sr(i[F].length),M[2][F]={type:M[2][0].type,data:zn(U)}}P[0].messages[0].data=zn(M)}w.content=Vc(Hc(P)),w.size=w.content.length;var G=Do(L[2][0].data);w=mr.find(u,o[G].location),P=Ki(Yi(w.content));{if(P[0].id!=G)throw"Bad HeaderStorageBucket";for(M=bn(P[0].messages[0].data),N=0;N<=n.e.c;++N)U=bn(M[2][0].data),U[1][0].data=sr(N),U[4][0].data=sr(n.e.r+1),M[2][N]={type:M[2][0].type,data:zn(U)};P[0].messages[0].data=zn(M)}w.content=Vc(Hc(P)),w.size=w.content.length;var H=Do(L[4][0].data);(function(){for(var I=mr.find(u,o[H].location),B=Ki(Yi(I.content)),z,Z=0;Z<B.length;++Z){var ge=B[Z];ge.id==H&&(z=ge)}var pe=bn(z.messages[0].data);{pe[3]=[];var te=[];s.forEach(function(ye,Ze){te[1]=[{type:0,data:sr(Ze)}],te[2]=[{type:0,data:sr(1)}],te[3]=[{type:2,data:FU(ye)}],pe[3].push({type:2,data:zn(te)})})}z.messages[0].data=zn(pe);var be=Hc(B),Te=Vc(be);I.content=Te,I.size=I.content.length})();var q=bn(L[3][0].data);{var V=q[1][0];delete q[2];var W=bn(V.data);{var ne=Do(W[2][0].data);(function(){for(var I=mr.find(u,o[ne].location),B=Ki(Yi(I.content)),z,Z=0;Z<B.length;++Z){var ge=B[Z];ge.id==ne&&(z=ge)}var pe=bn(z.messages[0].data);{delete pe[6],delete q[7];var te=new Uint8Array(pe[5][0].data);pe[5]=[];for(var be=0,Te=0;Te<=n.e.r;++Te){var ye=bn(te);be+=BU(ye,i[Te],s),ye[1][0].data=sr(Te),pe[5].push({data:zn(ye),type:2})}pe[1]=[{type:0,data:sr(n.e.c+1)}],pe[2]=[{type:0,data:sr(n.e.r+1)}],pe[3]=[{type:0,data:sr(be)}],pe[4]=[{type:0,data:sr(n.e.r+1)}]}z.messages[0].data=zn(pe);var Ze=Hc(B),Ke=Vc(Ze);I.content=Ke,I.size=I.content.length})()}V.data=zn(W)}L[3][0].data=zn(q)}y[4][0].data=zn(L)}h.messages[0].data=zn(y);var ce=Hc(m),C=Vc(ce);return d.content=C,d.size=d.content.length,u}function $U(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function fy(e){$U([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function qU(e,t){return t.bookType=="ods"?w3(e,t):t.bookType=="numbers"?UU(e,t):t.bookType=="xlsb"?WU(e,t):zU(e,t)}function WU(e,t){su=1024,e&&!e.SSF&&(e.SSF=Ga(Gr)),e&&e.SSF&&(mp(),hp(e.SSF),t.revssf=pp(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Qf?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=n3.indexOf(t.bookType)>-1,a=kA();fy(t=t||{});var i=Yx(),s="",o=0;if(t.cellXfs=[],fl(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Ut(i,s,IA(e.Props,t)),a.coreprops.push(s),lr(t.rels,2,s,Xt.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}for(e.Props.Worksheets=e.Props.SheetNames.length,Ut(i,s,RA(e.Props)),a.extprops.push(s),lr(t.rels,3,s,Xt.EXT_PROPS),e.Custprops!==e.Props&&Jn(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Ut(i,s,BA(e.Custprops)),a.custprops.push(s),lr(t.rels,4,s,Xt.CUST_PROPS)),o=1;o<=e.SheetNames.length;++o){var f={"!id":{}},d=e.Sheets[e.SheetNames[o-1]],m=(d||{})["!type"]||"sheet";switch(m){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Ut(i,s,VB(o-1,s,t,e,f)),a.sheets.push(s),lr(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Xt.WS[0])}if(d){var h=d["!comments"],g=!1,p="";h&&h.length>0&&(p="xl/comments"+o+"."+r,Ut(i,p,YB(h,p)),a.comments.push(p),lr(f,-1,"../comments"+o+"."+r,Xt.CMNT),g=!0),d["!legacy"]&&g&&Ut(i,"xl/drawings/vmlDrawing"+o+".vml",t3(o,d["!comments"])),delete d["!comments"],delete d["!legacy"]}f["!id"].rId1&&Ut(i,DA(s),uu(f))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Ut(i,s,KB(t.Strings,s,t)),a.strs.push(s),lr(t.wbrels,-1,"sharedStrings."+r,Xt.SST)),s="xl/workbook."+r,Ut(i,s,HB(e,s)),a.workbooks.push(s),lr(t.rels,1,s,Xt.WB),s="xl/theme/theme1.xml",Ut(i,s,QA(e.Themes,t)),a.themes.push(s),lr(t.wbrels,-1,"theme/theme1.xml",Xt.THEME),s="xl/styles."+r,Ut(i,s,GB(e,s,t)),a.styles.push(s),lr(t.wbrels,-1,"styles."+r,Xt.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Ut(i,s,e.vbaraw),a.vba.push(s),lr(t.wbrels,-1,"vbaProject.bin",Xt.VBA)),s="xl/metadata."+r,Ut(i,s,XB(s)),a.metadata.push(s),lr(t.wbrels,-1,"metadata."+r,Xt.XLMETA),Ut(i,"[Content_Types].xml",LA(a,t)),Ut(i,"_rels/.rels",uu(t.rels)),Ut(i,"xl/_rels/workbook."+r+".rels",uu(t.wbrels)),delete t.revssf,delete t.ssf,i}function zU(e,t){su=1024,e&&!e.SSF&&(e.SSF=Ga(Gr)),e&&e.SSF&&(mp(),hp(e.SSF),t.revssf=pp(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Qf?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=n3.indexOf(t.bookType)>-1,a=kA();fy(t=t||{});var i=Yx(),s="",o=0;if(t.cellXfs=[],fl(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),s="docProps/core.xml",Ut(i,s,IA(e.Props,t)),a.coreprops.push(s),lr(t.rels,2,s,Xt.CORE_PROPS),s="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var c=[],u=0;u<e.SheetNames.length;++u)(e.Workbook.Sheets[u]||{}).Hidden!=2&&c.push(e.SheetNames[u]);e.Props.SheetNames=c}e.Props.Worksheets=e.Props.SheetNames.length,Ut(i,s,RA(e.Props)),a.extprops.push(s),lr(t.rels,3,s,Xt.EXT_PROPS),e.Custprops!==e.Props&&Jn(e.Custprops||{}).length>0&&(s="docProps/custom.xml",Ut(i,s,BA(e.Custprops)),a.custprops.push(s),lr(t.rels,4,s,Xt.CUST_PROPS));var f=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},m=e.Sheets[e.SheetNames[o-1]],h=(m||{})["!type"]||"sheet";switch(h){case"chart":default:s="xl/worksheets/sheet"+o+"."+r,Ut(i,s,d3(o-1,t,e,d)),a.sheets.push(s),lr(t.wbrels,-1,"worksheets/sheet"+o+"."+r,Xt.WS[0])}if(m){var g=m["!comments"],p=!1,x="";if(g&&g.length>0){var y=!1;g.forEach(function(_){_[1].forEach(function(w){w.T==!0&&(y=!0)})}),y&&(x="xl/threadedComments/threadedComment"+o+"."+r,Ut(i,x,wM(g,f,t)),a.threadedcomments.push(x),lr(d,-1,"../threadedComments/threadedComment"+o+"."+r,Xt.TCMNT)),x="xl/comments"+o+"."+r,Ut(i,x,r3(g)),a.comments.push(x),lr(d,-1,"../comments"+o+"."+r,Xt.CMNT),p=!0}m["!legacy"]&&p&&Ut(i,"xl/drawings/vmlDrawing"+o+".vml",t3(o,m["!comments"])),delete m["!comments"],delete m["!legacy"]}d["!id"].rId1&&Ut(i,DA(s),uu(d))}return t.Strings!=null&&t.Strings.length>0&&(s="xl/sharedStrings."+r,Ut(i,s,GA(t.Strings,t)),a.strs.push(s),lr(t.wbrels,-1,"sharedStrings."+r,Xt.SST)),s="xl/workbook."+r,Ut(i,s,p3(e)),a.workbooks.push(s),lr(t.rels,1,s,Xt.WB),s="xl/theme/theme1.xml",Ut(i,s,QA(e.Themes,t)),a.themes.push(s),lr(t.wbrels,-1,"theme/theme1.xml",Xt.THEME),s="xl/styles."+r,Ut(i,s,JA(e,t)),a.styles.push(s),lr(t.wbrels,-1,"styles."+r,Xt.STY),e.vbaraw&&n&&(s="xl/vbaProject.bin",Ut(i,s,e.vbaraw),a.vba.push(s),lr(t.wbrels,-1,"vbaProject.bin",Xt.VBA)),s="xl/metadata."+r,Ut(i,s,e3()),a.metadata.push(s),lr(t.wbrels,-1,"metadata."+r,Xt.XLMETA),f.length>1&&(s="xl/persons/person.xml",Ut(i,s,_M(f)),a.people.push(s),lr(t.wbrels,-1,"persons/person.xml",Xt.PEOPLE)),Ut(i,"[Content_Types].xml",LA(a,t)),Ut(i,"_rels/.rels",uu(t.rels)),Ut(i,"xl/_rels/workbook."+r+".rels",uu(t.wbrels)),delete t.revssf,delete t.ssf,i}function HU(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=no(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function _3(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Dd(t.file,mr.write(e,{type:er?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return mr.write(e,t)}function VU(e,t){var r=Ga(t||{}),n=qU(e,r);return GU(n,r)}function GU(e,t){var r={},n=er?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?mr.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(dp(a))}return t.password&&typeof encrypt_agile<"u"?_3(encrypt_agile(a,t.password),t):t.type==="file"?Dd(t.file,a):t.type=="string"?Yf(a):a}function KU(e,t){var r=t||{},n=uU(e,r);return _3(n,r)}function _s(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return cd(Ys(n));case"binary":return Ys(n);case"string":return e;case"file":return Dd(t.file,n,"utf8");case"buffer":return er?uo(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):_s(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function YU(e,t){switch(t.type){case"base64":return cd(e);case"binary":return e;case"string":return e;case"file":return Dd(t.file,e,"binary");case"buffer":return er?uo(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function rh(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?cd(r):t.type=="string"?Yf(r):r;case"file":return Dd(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function S3(e,t){_F(),DB(e);var r=Ga(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=S3(e,r);return r.type="array",dp(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return _s(lU(e,r),r);case"slk":case"sylk":return _s(O7.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return _s(x3(e.Sheets[e.SheetNames[a]],r),r);case"txt":return YU(A3(e.Sheets[e.SheetNames[a]],r),r);case"csv":return _s(dy(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return _s(k7.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return rh(C7.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return _s(L7.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return _s(U7.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return _s(VA.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return _s(w3(e,r),r);case"wk1":return rh(A5.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return rh(A5.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),rh(v3(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),KU(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return VU(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function XU(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function N3(e,t,r){var n=r||{};return n.type="file",n.file=t,XU(n),S3(e,n)}function JU(e,t,r,n,a,i,s,o){var c=Xn(r),u=o.defval,f=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),d=!0,m=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!s||e[r])for(var h=t.s.c;h<=t.e.c;++h){var g=s?e[r][h]:e[n[h]+c];if(g===void 0||g.t===void 0){if(u===void 0)continue;i[h]!=null&&(m[i[h]]=u);continue}var p=g.v;switch(g.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[h]!=null){if(p==null)if(g.t=="e"&&p===null)m[i[h]]=null;else if(u!==void 0)m[i[h]]=u;else if(f&&p===null)m[i[h]]=null;else continue;else m[i[h]]=f&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?p:ao(g,p,o);p!=null&&(d=!1)}}return{row:m,isempty:d}}function im(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",c={s:{r:0,c:0},e:{r:0,c:0}},u=t||{},f=u.range!=null?u.range:e["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof f){case"string":c=Er(f);break;case"number":c=Er(e["!ref"]),c.s.r=f;break;default:c=f}n>0&&(a=0);var d=Xn(c.s.r),m=[],h=[],g=0,p=0,x=Array.isArray(e),y=c.s.r,_=0,w={};x&&!e[y]&&(e[y]=[]);var P=u.skipHidden&&e["!cols"]||[],E=u.skipHidden&&e["!rows"]||[];for(_=c.s.c;_<=c.e.c;++_)if(!(P[_]||{}).hidden)switch(m[_]=da(_),r=x?e[y][_]:e[m[_]+d],n){case 1:i[_]=_-c.s.c;break;case 2:i[_]=m[_];break;case 3:i[_]=u.header[_-c.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=ao(r,null,u),p=w[s]||0,!p)w[s]=1;else{do o=s+"_"+p++;while(w[o]);w[s]=p,w[o]=1}i[_]=o}for(y=c.s.r+a;y<=c.e.r;++y)if(!(E[y]||{}).hidden){var D=JU(e,c,y,m,n,i,x,u);(D.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(h[g++]=D.row)}return h.length=g,h}var L5=/"/g;function ZU(e,t,r,n,a,i,s,o){for(var c=!0,u=[],f="",d=Xn(r),m=t.s.c;m<=t.e.c;++m)if(n[m]){var h=o.dense?(e[r]||[])[m]:e[n[m]+d];if(h==null)f="";else if(h.v!=null){c=!1,f=""+(o.rawNumbers&&h.t=="n"?h.v:ao(h,null,o));for(var g=0,p=0;g!==f.length;++g)if((p=f.charCodeAt(g))===a||p===i||p===34||o.forceQuotes){f='"'+f.replace(L5,'""')+'"';break}f=="ID"&&(f='"ID"')}else h.f!=null&&!h.F?(c=!1,f="="+h.f,f.indexOf(",")>=0&&(f='"'+f.replace(L5,'""')+'"')):f="";u.push(f)}return o.blankrows===!1&&c?null:u.join(s)}function dy(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Er(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,c=o.charCodeAt(0),u=new RegExp((i=="|"?"\\|":i)+"+$"),f="",d=[];n.dense=Array.isArray(e);for(var m=n.skipHidden&&e["!cols"]||[],h=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(m[g]||{}).hidden||(d[g]=da(g));for(var p=0,x=a.s.r;x<=a.e.r;++x)(h[x]||{}).hidden||(f=ZU(e,a,x,d,s,c,i,n),f!=null&&(n.strip&&(f=f.replace(u,"")),(f||n.blankrows!==!1)&&r.push((p++?o:"")+f)));return delete n.dense,r.join("")}function A3(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=dy(e,t);return r}function QU(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Er(e["!ref"]),i="",s=[],o,c=[],u=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=da(o);for(var f=a.s.r;f<=a.e.r;++f)for(i=Xn(f),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=u?(e[f]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}c[c.length]=t+"="+n}return c}function j3(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var c=typeof n.origin=="string"?Fn(n.origin):n.origin;s=c.r,o=c.c}var u,f={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var d=Er(i["!ref"]);f.e.c=Math.max(f.e.c,d.e.c),f.e.r=Math.max(f.e.r,d.e.r),s==-1&&(s=d.e.r+1,f.e.r=s+t.length-1+a)}else s==-1&&(s=0,f.e.r=t.length-1+a);var m=n.header||[],h=0;t.forEach(function(p,x){Jn(p).forEach(function(y){(h=m.indexOf(y))==-1&&(m[h=m.length]=y);var _=p[y],w="z",P="",E=fr({c:o+h,r:s+x+a});u=hd(i,E),_&&typeof _=="object"&&!(_ instanceof Date)?i[E]=_:(typeof _=="number"?w="n":typeof _=="boolean"?w="b":typeof _=="string"?w="s":_ instanceof Date?(w="d",n.cellDates||(w="n",_=Va(_)),P=n.dateNF||Gr[14]):_===null&&n.nullError&&(w="e",_=0),u?(u.t=w,u.v=_,delete u.w,delete u.R,P&&(u.z=P)):i[E]=u={t:w,v:_},P&&(u.z=P))})}),f.e.c=Math.max(f.e.c,o+m.length-1);var g=Xn(s);if(a)for(h=0;h<m.length;++h)i[da(h+o)+g]={t:"s",v:m[h]};return i["!ref"]=hn(f),i}function e$(e,t){return j3(null,e,t)}function hd(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Fn(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?hd(e,fr(t)):hd(e,fr({r:t,c:r||0}))}function t$(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function r$(){return{SheetNames:[],Sheets:{}}}function n$(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(m3(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function a$(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=t$(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function i$(e,t){return e.z=t,e}function E3(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function s$(e,t,r){return E3(e,"#"+t,r)}function o$(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function l$(e,t,r,n){for(var a=typeof t!="string"?t:Er(t),i=typeof t=="string"?t:hn(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var c=hd(e,s,o);c.t="n",c.F=i,delete c.v,s==a.s.r&&o==a.s.c&&(c.f=r,n&&(c.D=!0))}return e}var As={encode_col:da,encode_row:Xn,encode_cell:fr,encode_range:hn,decode_col:ty,decode_row:ey,split_cell:SI,decode_cell:Fn,decode_range:di,format_cell:ao,sheet_add_aoa:jA,sheet_add_json:j3,sheet_add_dom:y3,aoa_to_sheet:ku,json_to_sheet:e$,table_to_sheet:b3,table_to_book:kU,sheet_to_csv:dy,sheet_to_txt:A3,sheet_to_json:im,sheet_to_html:x3,sheet_to_formulae:QU,sheet_to_row_object_array:im,sheet_get_cell:hd,book_new:r$,book_append_sheet:n$,book_set_sheet_visibility:a$,cell_set_number_format:i$,cell_set_hyperlink:E3,cell_set_internal_link:s$,cell_add_comment:o$,sheet_set_array_formula:l$,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},fa=Uint8Array,ui=Uint16Array,hy=Int32Array,bp=new fa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),wp=new fa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_v=new fa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),P3=function(e,t){for(var r=new ui(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new hy(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},T3=P3(bp,2),C3=T3.b,Sv=T3.r;C3[28]=258,Sv[258]=28;var O3=P3(wp,0),c$=O3.b,D5=O3.r,Nv=new ui(32768);for(var jr=0;jr<32768;++jr){var Fo=(jr&43690)>>1|(jr&21845)<<1;Fo=(Fo&52428)>>2|(Fo&13107)<<2,Fo=(Fo&61680)>>4|(Fo&3855)<<4,Nv[jr]=((Fo&65280)>>8|(Fo&255)<<8)>>1}var Ps=function(e,t,r){for(var n=e.length,a=0,i=new ui(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new ui(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new ui(1<<t);var c=15-t;for(a=0;a<n;++a)if(e[a])for(var u=a<<4|e[a],f=t-e[a],d=s[e[a]-1]++<<f,m=d|(1<<f)-1;d<=m;++d)o[Nv[d]>>c]=u}else for(o=new ui(n),a=0;a<n;++a)e[a]&&(o[a]=Nv[s[e[a]-1]++]>>15-e[a]);return o},nl=new fa(288);for(var jr=0;jr<144;++jr)nl[jr]=8;for(var jr=144;jr<256;++jr)nl[jr]=9;for(var jr=256;jr<280;++jr)nl[jr]=7;for(var jr=280;jr<288;++jr)nl[jr]=8;var md=new fa(32);for(var jr=0;jr<32;++jr)md[jr]=5;var u$=Ps(nl,9,0),f$=Ps(nl,9,1),d$=Ps(md,5,0),h$=Ps(md,5,1),N1=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Xi=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},A1=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},my=function(e){return(e+7)/8|0},k3=function(e,t,r){return(t==null||t<0)&&(t=0),(r==null||r>e.length)&&(r=e.length),new fa(e.subarray(t,r))},m$=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Zi=function(e,t,r){var n=new Error(t||m$[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Zi),!r)throw n;return n},p$=function(e,t,r,n){var a=e.length,i=n?n.length:0;if(!a||t.f&&!t.l)return r||new fa(0);var s=!r,o=s||t.i!=2,c=t.i;s&&(r=new fa(a*3));var u=function(Te){var ye=r.length;if(Te>ye){var Ze=new fa(Math.max(ye*2,Te));Ze.set(r),r=Ze}},f=t.f||0,d=t.p||0,m=t.b||0,h=t.l,g=t.d,p=t.m,x=t.n,y=a*8;do{if(!h){f=Xi(e,d,1);var _=Xi(e,d+1,3);if(d+=3,_)if(_==1)h=f$,g=h$,p=9,x=5;else if(_==2){var D=Xi(e,d,31)+257,N=Xi(e,d+10,15)+4,k=D+Xi(e,d+5,31)+1;d+=14;for(var F=new fa(k),L=new fa(19),A=0;A<N;++A)L[_v[A]]=Xi(e,d+A*3,7);d+=N*3;for(var S=N1(L),M=(1<<S)-1,U=Ps(L,S,1),A=0;A<k;){var G=U[Xi(e,d,M)];d+=G&15;var w=G>>4;if(w<16)F[A++]=w;else{var H=0,q=0;for(w==16?(q=3+Xi(e,d,3),d+=2,H=F[A-1]):w==17?(q=3+Xi(e,d,7),d+=3):w==18&&(q=11+Xi(e,d,127),d+=7);q--;)F[A++]=H}}var V=F.subarray(0,D),W=F.subarray(D);p=N1(V),x=N1(W),h=Ps(V,p,1),g=Ps(W,x,1)}else Zi(1);else{var w=my(d)+4,P=e[w-4]|e[w-3]<<8,E=w+P;if(E>a){c&&Zi(0);break}o&&u(m+P),r.set(e.subarray(w,E),m),t.b=m+=P,t.p=d=E*8,t.f=f;continue}if(d>y){c&&Zi(0);break}}o&&u(m+131072);for(var ne=(1<<p)-1,ce=(1<<x)-1,C=d;;C=d){var H=h[A1(e,d)&ne],I=H>>4;if(d+=H&15,d>y){c&&Zi(0);break}if(H||Zi(2),I<256)r[m++]=I;else if(I==256){C=d,h=null;break}else{var B=I-254;if(I>264){var A=I-257,z=bp[A];B=Xi(e,d,(1<<z)-1)+C3[A],d+=z}var Z=g[A1(e,d)&ce],ge=Z>>4;Z||Zi(3),d+=Z&15;var W=c$[ge];if(ge>3){var z=wp[ge];W+=A1(e,d)&(1<<z)-1,d+=z}if(d>y){c&&Zi(0);break}o&&u(m+131072);var pe=m+B;if(m<W){var te=i-W,be=Math.min(W,pe);for(te+m<0&&Zi(3);m<be;++m)r[m]=n[te+m]}for(;m<pe;++m)r[m]=r[m-W]}}t.l=h,t.p=C,t.b=m,t.f=f,h&&(f=1,t.m=p,t.d=g,t.n=x)}while(!f);return m!=r.length&&s?k3(r,0,m):r.subarray(0,m)},Vs=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Cf=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},j1=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:D3,l:0};if(a==1){var s=new fa(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(E,D){return E.f-D.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],u=0,f=1,d=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};f!=a-1;)o=r[r[u].f<r[d].f?u++:d++],c=r[u!=f&&r[u].f<r[d].f?u++:d++],r[f++]={s:-1,f:o.f+c.f,l:o,r:c};for(var m=i[0].s,n=1;n<a;++n)i[n].s>m&&(m=i[n].s);var h=new ui(m+1),g=Av(r[f-1],h,0);if(g>t){var n=0,p=0,x=g-t,y=1<<x;for(i.sort(function(D,N){return h[N.s]-h[D.s]||D.f-N.f});n<a;++n){var _=i[n].s;if(h[_]>t)p+=y-(1<<g-h[_]),h[_]=t;else break}for(p>>=x;p>0;){var w=i[n].s;h[w]<t?p-=1<<t-h[w]++-1:++n}for(;n>=0&&p;--n){var P=i[n].s;h[P]==t&&(--h[P],++p)}g=t}return{t:new fa(h),l:g}},Av=function(e,t,r){return e.s==-1?Math.max(Av(e.l,t,r+1),Av(e.r,t,r+1)):t[e.s]=r},F5=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new ui(++t),n=0,a=e[0],i=1,s=function(c){r[n++]=c},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},Of=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},L3=function(e,t,r){var n=r.length,a=my(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},I5=function(e,t,r,n,a,i,s,o,c,u,f){Vs(t,f++,r),++a[256];for(var d=j1(a,15),m=d.t,h=d.l,g=j1(i,15),p=g.t,x=g.l,y=F5(m),_=y.c,w=y.n,P=F5(p),E=P.c,D=P.n,N=new ui(19),k=0;k<_.length;++k)++N[_[k]&31];for(var k=0;k<E.length;++k)++N[E[k]&31];for(var F=j1(N,7),L=F.t,A=F.l,S=19;S>4&&!L[_v[S-1]];--S);var M=u+5<<3,U=Of(a,nl)+Of(i,md)+s,G=Of(a,m)+Of(i,p)+s+14+3*S+Of(N,L)+2*N[16]+3*N[17]+7*N[18];if(c>=0&&M<=U&&M<=G)return L3(t,f,e.subarray(c,c+u));var H,q,V,W;if(Vs(t,f,1+(G<U)),f+=2,G<U){H=Ps(m,h,0),q=m,V=Ps(p,x,0),W=p;var ne=Ps(L,A,0);Vs(t,f,w-257),Vs(t,f+5,D-1),Vs(t,f+10,S-4),f+=14;for(var k=0;k<S;++k)Vs(t,f+3*k,L[_v[k]]);f+=3*S;for(var ce=[_,E],C=0;C<2;++C)for(var I=ce[C],k=0;k<I.length;++k){var B=I[k]&31;Vs(t,f,ne[B]),f+=L[B],B>15&&(Vs(t,f,I[k]>>5&127),f+=I[k]>>12)}}else H=u$,q=nl,V=d$,W=md;for(var k=0;k<o;++k){var z=n[k];if(z>255){var B=z>>18&31;Cf(t,f,H[B+257]),f+=q[B+257],B>7&&(Vs(t,f,z>>23&31),f+=bp[B]);var Z=z&31;Cf(t,f,V[Z]),f+=W[Z],Z>3&&(Cf(t,f,z>>5&8191),f+=wp[Z])}else Cf(t,f,H[z]),f+=q[z]}return Cf(t,f,H[256]),f+q[256]},g$=new hy([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),D3=new fa(0),v$=function(e,t,r,n,a,i){var s=i.z||e.length,o=new fa(n+s+5*(1+Math.ceil(s/7e3))+a),c=o.subarray(n,o.length-a),u=i.l,f=(i.r||0)&7;if(t){f&&(c[0]=i.r>>3);for(var d=g$[t-1],m=d>>13,h=d&8191,g=(1<<r)-1,p=i.p||new ui(32768),x=i.h||new ui(g+1),y=Math.ceil(r/3),_=2*y,w=function(Ke){return(e[Ke]^e[Ke+1]<<y^e[Ke+2]<<_)&g},P=new hy(25e3),E=new ui(288),D=new ui(32),N=0,k=0,F=i.i||0,L=0,A=i.w||0,S=0;F+2<s;++F){var M=w(F),U=F&32767,G=x[M];if(p[U]=G,x[M]=U,A<=F){var H=s-F;if((N>7e3||L>24576)&&(H>423||!u)){f=I5(e,c,0,P,E,D,k,L,S,F-S,f),L=N=k=0,S=F;for(var q=0;q<286;++q)E[q]=0;for(var q=0;q<30;++q)D[q]=0}var V=2,W=0,ne=h,ce=U-G&32767;if(H>2&&M==w(F-ce))for(var C=Math.min(m,H)-1,I=Math.min(32767,F),B=Math.min(258,H);ce<=I&&--ne&&U!=G;){if(e[F+V]==e[F+V-ce]){for(var z=0;z<B&&e[F+z]==e[F+z-ce];++z);if(z>V){if(V=z,W=ce,z>C)break;for(var Z=Math.min(ce,z-2),ge=0,q=0;q<Z;++q){var pe=F-ce+q&32767,te=p[pe],be=pe-te&32767;be>ge&&(ge=be,G=pe)}}}U=G,G=p[U],ce+=U-G&32767}if(W){P[L++]=268435456|Sv[V]<<18|D5[W];var Te=Sv[V]&31,ye=D5[W]&31;k+=bp[Te]+wp[ye],++E[257+Te],++D[ye],A=F+V,++N}else P[L++]=e[F],++E[e[F]]}}for(F=Math.max(F,A);F<s;++F)P[L++]=e[F],++E[e[F]];f=I5(e,c,u,P,E,D,k,L,S,F-S,f),u||(i.r=f&7|c[f/8|0]<<3,f-=7,i.h=x,i.p=p,i.i=F,i.w=A)}else{for(var F=i.w||0;F<s+u;F+=65535){var Ze=F+65535;Ze>=s&&(c[f/8|0]=u,Ze=s),f=L3(c,f+1,e.subarray(F,Ze))}i.i=s}return k3(o,0,n+my(f)+a)},F3=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},x$=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new fa(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return v$(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},I3=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},y$=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=F3();a.p(t.dictionary),I3(e,2,a.d())}},b$=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Zi(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Zi(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function jv(e,t){t||(t={});var r=F3();r.p(e);var n=x$(e,t,t.dictionary?6:2,4);return y$(n,t),I3(n,n.length-4,r.d()),n}function w$(e,t){return p$(e.subarray(b$(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var _$=typeof TextDecoder<"u"&&new TextDecoder,S$=0;try{_$.decode(D3,{stream:!0}),S$=1}catch{}var Ct=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function E1(){Ct.console&&typeof Ct.console.log=="function"&&Ct.console.log.apply(Ct.console,arguments)}var vr={log:E1,warn:function(e){Ct.console&&(typeof Ct.console.warn=="function"?Ct.console.warn.apply(Ct.console,arguments):E1.call(null,arguments))},error:function(e){Ct.console&&(typeof Ct.console.error=="function"?Ct.console.error.apply(Ct.console,arguments):E1(e))}};function P1(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){Pl(n.response,t,r)},n.onerror=function(){vr.error("could not download file")},n.send()}function M5(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function nh(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var ed,Ev,Pl=Ct.saveAs||((typeof window>"u"?"undefined":tr(window))!=="object"||window!==Ct?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Ct.URL||Ct.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?M5(a.href)?P1(e,t,r):nh(a,a.target="_blank"):nh(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){nh(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(M5(e))P1(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){nh(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:tr(i)!=="object"&&(vr.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob([String.fromCharCode(65279),a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return P1(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(Ct.HTMLElement)||Ct.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":tr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var f=o.result;f=s?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},o.readAsDataURL(e)}else{var c=Ct.URL||Ct.webkitURL,u=c.createObjectURL(e);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function M3(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function T1(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=ra(r,n,a,i,t[0],7,-680876936),i=ra(i,r,n,a,t[1],12,-389564586),a=ra(a,i,r,n,t[2],17,606105819),n=ra(n,a,i,r,t[3],22,-1044525330),r=ra(r,n,a,i,t[4],7,-176418897),i=ra(i,r,n,a,t[5],12,1200080426),a=ra(a,i,r,n,t[6],17,-1473231341),n=ra(n,a,i,r,t[7],22,-45705983),r=ra(r,n,a,i,t[8],7,1770035416),i=ra(i,r,n,a,t[9],12,-1958414417),a=ra(a,i,r,n,t[10],17,-42063),n=ra(n,a,i,r,t[11],22,-1990404162),r=ra(r,n,a,i,t[12],7,1804603682),i=ra(i,r,n,a,t[13],12,-40341101),a=ra(a,i,r,n,t[14],17,-1502002290),r=na(r,n=ra(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=na(i,r,n,a,t[6],9,-1069501632),a=na(a,i,r,n,t[11],14,643717713),n=na(n,a,i,r,t[0],20,-373897302),r=na(r,n,a,i,t[5],5,-701558691),i=na(i,r,n,a,t[10],9,38016083),a=na(a,i,r,n,t[15],14,-660478335),n=na(n,a,i,r,t[4],20,-405537848),r=na(r,n,a,i,t[9],5,568446438),i=na(i,r,n,a,t[14],9,-1019803690),a=na(a,i,r,n,t[3],14,-187363961),n=na(n,a,i,r,t[8],20,1163531501),r=na(r,n,a,i,t[13],5,-1444681467),i=na(i,r,n,a,t[2],9,-51403784),a=na(a,i,r,n,t[7],14,1735328473),r=aa(r,n=na(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=aa(i,r,n,a,t[8],11,-2022574463),a=aa(a,i,r,n,t[11],16,1839030562),n=aa(n,a,i,r,t[14],23,-35309556),r=aa(r,n,a,i,t[1],4,-1530992060),i=aa(i,r,n,a,t[4],11,1272893353),a=aa(a,i,r,n,t[7],16,-155497632),n=aa(n,a,i,r,t[10],23,-1094730640),r=aa(r,n,a,i,t[13],4,681279174),i=aa(i,r,n,a,t[0],11,-358537222),a=aa(a,i,r,n,t[3],16,-722521979),n=aa(n,a,i,r,t[6],23,76029189),r=aa(r,n,a,i,t[9],4,-640364487),i=aa(i,r,n,a,t[12],11,-421815835),a=aa(a,i,r,n,t[15],16,530742520),r=ia(r,n=aa(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=ia(i,r,n,a,t[7],10,1126891415),a=ia(a,i,r,n,t[14],15,-1416354905),n=ia(n,a,i,r,t[5],21,-57434055),r=ia(r,n,a,i,t[12],6,1700485571),i=ia(i,r,n,a,t[3],10,-1894986606),a=ia(a,i,r,n,t[10],15,-1051523),n=ia(n,a,i,r,t[1],21,-2054922799),r=ia(r,n,a,i,t[8],6,1873313359),i=ia(i,r,n,a,t[15],10,-30611744),a=ia(a,i,r,n,t[6],15,-1560198380),n=ia(n,a,i,r,t[13],21,1309151649),r=ia(r,n,a,i,t[4],6,-145523070),i=ia(i,r,n,a,t[11],10,-1120210379),a=ia(a,i,r,n,t[2],15,718787259),n=ia(n,a,i,r,t[9],21,-343485551),e[0]=Vo(r,e[0]),e[1]=Vo(n,e[1]),e[2]=Vo(a,e[2]),e[3]=Vo(i,e[3])}function _p(e,t,r,n,a,i){return t=Vo(Vo(t,e),Vo(n,i)),Vo(t<<a|t>>>32-a,r)}function ra(e,t,r,n,a,i,s){return _p(t&r|~t&n,e,t,a,i,s)}function na(e,t,r,n,a,i,s){return _p(t&n|r&~n,e,t,a,i,s)}function aa(e,t,r,n,a,i,s){return _p(t^r^n,e,t,a,i,s)}function ia(e,t,r,n,a,i,s){return _p(r^(t|~n),e,t,a,i,s)}function R3(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)T1(n,N$(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(T1(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,T1(n,a),n}function N$(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}ed=Ct.atob.bind(Ct),Ev=Ct.btoa.bind(Ct);var R5="0123456789abcdef".split("");function A$(e){for(var t="",r=0;r<4;r++)t+=R5[e>>8*r+4&15]+R5[e>>8*r&15];return t}function j$(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Pv(e){return R3(e).map(j$).join("")}var E$=function(e){for(var t=0;t<e.length;t++)e[t]=A$(e[t]);return e.join("")}(R3("hello"))!="5d41402abc4b2a76b9719d911017c592";function Vo(e,t){if(E$){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Tv(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var f=o[c];u=(u+f+s.charCodeAt(c))%256,o[c]=o[u],o[u]=f}r=e,n=o}else o=n;var d=t.length,m=0,h=0,g="";for(c=0;c<d;c++)h=(h+(f=o[m=(m+1)%256]))%256,o[m]=o[h],o[h]=f,s=o[(o[m]+o[h])%256],g+=String.fromCharCode(t.charCodeAt(c)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var B5={print:4,modify:8,copy:16,"annot-forms":32};function tu(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(B5.perm!==void 0)throw new Error("Invalid permission: "+o);a+=B5[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=Pv(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Tv(this.encryptionKey,this.padding)}function ru(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function U5(e){if(tr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){Ct.console&&vr.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function pd(e){if(!(this instanceof pd))return new pd(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function B3(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function qo(e,t,r,n,a){if(!(this instanceof qo))return new qo(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,B3.call(this,n,a)}function Il(e,t,r,n,a){if(!(this instanceof Il))return new Il(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,B3.call(this,n,a)}function Et(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,c=16,u="S",f=null;tr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),u=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var d=e.putOnlyUsedFonts||!1,m={},h={internal:{},__private__:{}};h.__private__.PubSub=U5;var g="1.3",p=h.__private__.getPdfVersion=function(){return g};h.__private__.setPdfVersion=function(j){g=j};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return x};var y=h.__private__.getPageFormat=function(j){return x[j]};a=a||"a4";var _={COMPAT:"compat",ADVANCED:"advanced"},w=_.COMPAT;function P(){this.saveGraphicsState(),fe(new Nt(st,0,0,-st,0,bo()*st).toString()+" cm"),this.setFontSize(this.getFontSize()/st),u="n",w=_.ADVANCED}function E(){this.restoreGraphicsState(),u="S",w=_.COMPAT}var D=h.__private__.combineFontStyleAndFontWeight=function(j,Y){if(j=="bold"&&Y=="normal"||j=="bold"&&Y==400||j=="normal"&&Y=="italic"||j=="bold"&&Y=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Y&&(j=Y==400||Y==="normal"?j==="italic"?"italic":"normal":Y!=700&&Y!=="bold"||j!=="normal"?(Y==700?"bold":Y)+""+j:"bold"),j};h.advancedAPI=function(j){var Y=w===_.COMPAT;return Y&&P.call(this),typeof j!="function"||(j(this),Y&&E.call(this)),this},h.compatAPI=function(j){var Y=w===_.ADVANCED;return Y&&E.call(this),typeof j!="function"||(j(this),Y&&P.call(this)),this},h.isAdvancedAPI=function(){return w===_.ADVANCED};var N,k=function(j){if(w!==_.ADVANCED)throw new Error(j+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=h.roundToPrecision=h.__private__.roundToPrecision=function(j,Y){var ve=t||Y;if(isNaN(j)||isNaN(ve))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return j.toFixed(ve).replace(/0+$/,"")};N=h.hpf=h.__private__.hpf=typeof c=="number"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return F(j,c)}:c==="smart"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return F(j,j>-1&&j<1?16:5)}:function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return F(j,16)};var L=h.f2=h.__private__.f2=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f2");return F(j,2)},A=h.__private__.f3=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f3");return F(j,3)},S=h.scale=h.__private__.scale=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.scale");return w===_.COMPAT?j*st:w===_.ADVANCED?j:void 0},M=function(j){return w===_.COMPAT?bo()-j:w===_.ADVANCED?j:void 0},U=function(j){return S(M(j))};h.__private__.setPrecision=h.setPrecision=function(j){typeof parseInt(j,10)=="number"&&(t=parseInt(j,10))};var G,H="00000000000000000000000000000000",q=h.__private__.getFileId=function(){return H},V=h.__private__.setFileId=function(j){return H=j!==void 0&&/^[a-fA-F0-9]{32}$/.test(j)?j.toUpperCase():H.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(ea=new tu(f.userPermissions,f.userPassword,f.ownerPassword,H)),H};h.setFileId=function(j){return V(j),this},h.getFileId=function(){return q()};var W=h.__private__.convertDateToPDFDate=function(j){var Y=j.getTimezoneOffset(),ve=Y<0?"+":"-",_e=Math.floor(Math.abs(Y/60)),Pe=Math.abs(Y%60),We=[ve,B(_e),"'",B(Pe),"'"].join("");return["D:",j.getFullYear(),B(j.getMonth()+1),B(j.getDate()),B(j.getHours()),B(j.getMinutes()),B(j.getSeconds()),We].join("")},ne=h.__private__.convertPDFDateToDate=function(j){var Y=parseInt(j.substr(2,4),10),ve=parseInt(j.substr(6,2),10)-1,_e=parseInt(j.substr(8,2),10),Pe=parseInt(j.substr(10,2),10),We=parseInt(j.substr(12,2),10),at=parseInt(j.substr(14,2),10);return new Date(Y,ve,_e,Pe,We,at,0)},ce=h.__private__.setCreationDate=function(j){var Y;if(j===void 0&&(j=new Date),j instanceof Date)Y=W(j);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(j))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Y=j}return G=Y},C=h.__private__.getCreationDate=function(j){var Y=G;return j==="jsDate"&&(Y=ne(G)),Y};h.setCreationDate=function(j){return ce(j),this},h.getCreationDate=function(j){return C(j)};var I,B=h.__private__.padd2=function(j){return("0"+parseInt(j)).slice(-2)},z=h.__private__.padd2Hex=function(j){return("00"+(j=j.toString())).substr(j.length)},Z=0,ge=[],pe=[],te=0,be=[],Te=[],ye=!1,Ze=pe,Ke=function(){Z=0,te=0,pe=[],ge=[],be=[],ie=Pr(),oe=Pr()};h.__private__.setCustomOutputDestination=function(j){ye=!0,Ze=j};var De=function(j){ye||(Ze=j)};h.__private__.resetCustomOutputDestination=function(){ye=!1,Ze=pe};var fe=h.__private__.out=function(j){return j=j.toString(),te+=j.length+1,Ze.push(j),Ze},Ve=h.__private__.write=function(j){return fe(arguments.length===1?j.toString():Array.prototype.join.call(arguments," "))},ft=h.__private__.getArrayBuffer=function(j){for(var Y=j.length,ve=new ArrayBuffer(Y),_e=new Uint8Array(ve);Y--;)_e[Y]=j.charCodeAt(Y);return ve},et=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return et};var se=e.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(j){return se=w===_.ADVANCED?j/st:j,this};var xe,we=h.__private__.getFontSize=h.getFontSize=function(){return w===_.COMPAT?se:se*st},qe=e.R2L||!1;h.__private__.setR2L=h.setR2L=function(j){return qe=j,this},h.__private__.getR2L=h.getR2L=function(){return qe};var Re,Be=h.__private__.setZoomMode=function(j){var Y=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(j))xe=j;else if(isNaN(j)){if(Y.indexOf(j)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+j+'" is not recognized.');xe=j}else xe=parseInt(j,10)};h.__private__.getZoomMode=function(){return xe};var nt,pt=h.__private__.setPageMode=function(j){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(j)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+j+'" is not recognized.');Re=j};h.__private__.getPageMode=function(){return Re};var ct=h.__private__.setLayoutMode=function(j){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(j)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+j+'" is not recognized.');nt=j};h.__private__.getLayoutMode=function(){return nt},h.__private__.setDisplayMode=h.setDisplayMode=function(j,Y,ve){return Be(j),ct(Y),pt(ve),this};var gt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(j){if(Object.keys(gt).indexOf(j)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return gt[j]},h.__private__.getDocumentProperties=function(){return gt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(j){for(var Y in gt)gt.hasOwnProperty(Y)&&j[Y]&&(gt[Y]=j[Y]);return this},h.__private__.setDocumentProperty=function(j,Y){if(Object.keys(gt).indexOf(j)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return gt[j]=Y};var Tt,st,Fr,Mt,Br,qt={},Yt={},Un=[],Ot={},vn={},rr={},va={},gi=null,Gt=0,yt=[],zt=new U5(h),vi=e.hotfixes||[],nr={},xa={},$n=[],Nt=function j(Y,ve,_e,Pe,We,at){if(!(this instanceof j))return new j(Y,ve,_e,Pe,We,at);isNaN(Y)&&(Y=1),isNaN(ve)&&(ve=0),isNaN(_e)&&(_e=0),isNaN(Pe)&&(Pe=1),isNaN(We)&&(We=0),isNaN(at)&&(at=0),this._matrix=[Y,ve,_e,Pe,We,at]};Object.defineProperty(Nt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(Nt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(Nt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(Nt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(Nt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(Nt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(Nt.prototype,"a",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(Nt.prototype,"b",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(Nt.prototype,"c",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(Nt.prototype,"d",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(Nt.prototype,"e",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(Nt.prototype,"f",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(Nt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Nt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Nt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Nt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Nt.prototype.join=function(j){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(N).join(j)},Nt.prototype.multiply=function(j){var Y=j.sx*this.sx+j.shy*this.shx,ve=j.sx*this.shy+j.shy*this.sy,_e=j.shx*this.sx+j.sy*this.shx,Pe=j.shx*this.shy+j.sy*this.sy,We=j.tx*this.sx+j.ty*this.shx+this.tx,at=j.tx*this.shy+j.ty*this.sy+this.ty;return new Nt(Y,ve,_e,Pe,We,at)},Nt.prototype.decompose=function(){var j=this.sx,Y=this.shy,ve=this.shx,_e=this.sy,Pe=this.tx,We=this.ty,at=Math.sqrt(j*j+Y*Y),vt=(j/=at)*ve+(Y/=at)*_e;ve-=j*vt,_e-=Y*vt;var jt=Math.sqrt(ve*ve+_e*_e);return vt/=jt,j*(_e/=jt)<Y*(ve/=jt)&&(j=-j,Y=-Y,vt=-vt,at=-at),{scale:new Nt(at,0,0,jt,0,0),translate:new Nt(1,0,0,1,Pe,We),rotate:new Nt(j,Y,-Y,j,0,0),skew:new Nt(1,0,vt,1,0,0)}},Nt.prototype.toString=function(j){return this.join(" ")},Nt.prototype.inversed=function(){var j=this.sx,Y=this.shy,ve=this.shx,_e=this.sy,Pe=this.tx,We=this.ty,at=1/(j*_e-Y*ve),vt=_e*at,jt=-Y*at,It=-ve*at,Dt=j*at;return new Nt(vt,jt,It,Dt,-vt*Pe-It*We,-jt*Pe-Dt*We)},Nt.prototype.applyToPoint=function(j){var Y=j.x*this.sx+j.y*this.shx+this.tx,ve=j.x*this.shy+j.y*this.sy+this.ty;return new jc(Y,ve)},Nt.prototype.applyToRectangle=function(j){var Y=this.applyToPoint(j),ve=this.applyToPoint(new jc(j.x+j.w,j.y+j.h));return new tf(Y.x,Y.y,ve.x-Y.x,ve.y-Y.y)},Nt.prototype.clone=function(){var j=this.sx,Y=this.shy,ve=this.shx,_e=this.sy,Pe=this.tx,We=this.ty;return new Nt(j,Y,ve,_e,Pe,We)},h.Matrix=Nt;var Ur=h.matrixMult=function(j,Y){return Y.multiply(j)},Yr=new Nt(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Yr;var Pn=function(j,Y){if(!vn[j]){var ve=(Y instanceof qo?"Sh":"P")+(Object.keys(Ot).length+1).toString(10);Y.id=ve,vn[j]=ve,Ot[ve]=Y,zt.publish("addPattern",Y)}};h.ShadingPattern=qo,h.TilingPattern=Il,h.addShadingPattern=function(j,Y){return k("addShadingPattern()"),Pn(j,Y),this},h.beginTilingPattern=function(j){k("beginTilingPattern()"),b0(j.boundingBox[0],j.boundingBox[1],j.boundingBox[2]-j.boundingBox[0],j.boundingBox[3]-j.boundingBox[1],j.matrix)},h.endTilingPattern=function(j,Y){k("endTilingPattern()"),Y.stream=Te[I].join(`
`),Pn(j,Y),zt.publish("endTilingPattern",Y),$n.pop().restore()};var br=h.__private__.newObject=function(){var j=Pr();return J(j,!0),j},Pr=h.__private__.newObjectDeferred=function(){return Z++,ge[Z]=function(){return te},Z},J=function(j,Y){return Y=typeof Y=="boolean"&&Y,ge[j]=te,Y&&fe(j+" 0 obj"),j},he=h.__private__.newAdditionalObject=function(){var j={objId:Pr(),content:""};return be.push(j),j},ie=Pr(),oe=Pr(),de=h.__private__.decodeColorString=function(j){var Y=j.split(" ");if(Y.length!==2||Y[1]!=="g"&&Y[1]!=="G")Y.length===5&&(Y[4]==="k"||Y[4]==="K")&&(Y=[(1-Y[0])*(1-Y[3]),(1-Y[1])*(1-Y[3]),(1-Y[2])*(1-Y[3]),"r"]);else{var ve=parseFloat(Y[0]);Y=[ve,ve,ve,"r"]}for(var _e="#",Pe=0;Pe<3;Pe++)_e+=("0"+Math.floor(255*parseFloat(Y[Pe])).toString(16)).slice(-2);return _e},me=h.__private__.encodeColorString=function(j){var Y;typeof j=="string"&&(j={ch1:j});var ve=j.ch1,_e=j.ch2,Pe=j.ch3,We=j.ch4,at=j.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ve=="string"&&ve.charAt(0)!=="#"){var vt=new M3(ve);if(vt.ok)ve=vt.toHex();else if(!/^\d*\.?\d*$/.test(ve))throw new Error('Invalid color "'+ve+'" passed to jsPDF.encodeColorString.')}if(typeof ve=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ve)&&(ve="#"+ve[1]+ve[1]+ve[2]+ve[2]+ve[3]+ve[3]),typeof ve=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ve)){var jt=parseInt(ve.substr(1),16);ve=jt>>16&255,_e=jt>>8&255,Pe=255&jt}if(_e===void 0||We===void 0&&ve===_e&&_e===Pe)if(typeof ve=="string")Y=ve+" "+at[0];else switch(j.precision){case 2:Y=L(ve/255)+" "+at[0];break;case 3:default:Y=A(ve/255)+" "+at[0]}else if(We===void 0||tr(We)==="object"){if(We&&!isNaN(We.a)&&We.a===0)return Y=["1.","1.","1.",at[1]].join(" ");if(typeof ve=="string")Y=[ve,_e,Pe,at[1]].join(" ");else switch(j.precision){case 2:Y=[L(ve/255),L(_e/255),L(Pe/255),at[1]].join(" ");break;default:case 3:Y=[A(ve/255),A(_e/255),A(Pe/255),at[1]].join(" ")}}else if(typeof ve=="string")Y=[ve,_e,Pe,We,at[2]].join(" ");else switch(j.precision){case 2:Y=[L(ve),L(_e),L(Pe),L(We),at[2]].join(" ");break;case 3:default:Y=[A(ve),A(_e),A(Pe),A(We),at[2]].join(" ")}return Y},Oe=h.__private__.getFilters=function(){return s},Me=h.__private__.putStream=function(j){var Y=(j=j||{}).data||"",ve=j.filters||Oe(),_e=j.alreadyAppliedFilters||[],Pe=j.addLength1||!1,We=Y.length,at=j.objectId,vt=function(ta){return ta};if(f!==null&&at===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(vt=ea.encryptor(at,0));var jt={};ve===!0&&(ve=["FlateEncode"]);var It=j.additionalKeyValues||[],Dt=(jt=Et.API.processDataByFilters!==void 0?Et.API.processDataByFilters(Y,ve):{data:Y,reverseChain:[]}).reverseChain+(Array.isArray(_e)?_e.join(" "):_e.toString());if(jt.data.length!==0&&(It.push({key:"Length",value:jt.data.length}),Pe===!0&&It.push({key:"Length1",value:We})),Dt.length!=0)if(Dt.split("/").length-1==1)It.push({key:"Filter",value:Dt});else{It.push({key:"Filter",value:"["+Dt+"]"});for(var Ht=0;Ht<It.length;Ht+=1)if(It[Ht].key==="DecodeParms"){for(var Ir=[],$r=0;$r<jt.reverseChain.split("/").length-1;$r+=1)Ir.push("null");Ir.push(It[Ht].value),It[Ht].value="["+Ir.join(" ")+"]"}}fe("<<");for(var sn=0;sn<It.length;sn++)fe("/"+It[sn].key+" "+It[sn].value);fe(">>"),jt.data.length!==0&&(fe("stream"),fe(vt(jt.data)),fe("endstream"))},Ce=h.__private__.putPage=function(j){var Y=j.number,ve=j.data,_e=j.objId,Pe=j.contentsObjId;J(_e,!0),fe("<</Type /Page"),fe("/Parent "+j.rootDictionaryObjId+" 0 R"),fe("/Resources "+j.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(N(j.mediaBox.bottomLeftX))+" "+parseFloat(N(j.mediaBox.bottomLeftY))+" "+N(j.mediaBox.topRightX)+" "+N(j.mediaBox.topRightY)+"]"),j.cropBox!==null&&fe("/CropBox ["+N(j.cropBox.bottomLeftX)+" "+N(j.cropBox.bottomLeftY)+" "+N(j.cropBox.topRightX)+" "+N(j.cropBox.topRightY)+"]"),j.bleedBox!==null&&fe("/BleedBox ["+N(j.bleedBox.bottomLeftX)+" "+N(j.bleedBox.bottomLeftY)+" "+N(j.bleedBox.topRightX)+" "+N(j.bleedBox.topRightY)+"]"),j.trimBox!==null&&fe("/TrimBox ["+N(j.trimBox.bottomLeftX)+" "+N(j.trimBox.bottomLeftY)+" "+N(j.trimBox.topRightX)+" "+N(j.trimBox.topRightY)+"]"),j.artBox!==null&&fe("/ArtBox ["+N(j.artBox.bottomLeftX)+" "+N(j.artBox.bottomLeftY)+" "+N(j.artBox.topRightX)+" "+N(j.artBox.topRightY)+"]"),typeof j.userUnit=="number"&&j.userUnit!==1&&fe("/UserUnit "+j.userUnit),zt.publish("putPage",{objId:_e,pageContext:yt[Y],pageNumber:Y,page:ve}),fe("/Contents "+Pe+" 0 R"),fe(">>"),fe("endobj");var We=ve.join(`
`);return w===_.ADVANCED&&(We+=`
Q`),J(Pe,!0),Me({data:We,filters:Oe(),objectId:Pe}),fe("endobj"),_e},ee=h.__private__.putPages=function(){var j,Y,ve=[];for(j=1;j<=Gt;j++)yt[j].objId=Pr(),yt[j].contentsObjId=Pr();for(j=1;j<=Gt;j++)ve.push(Ce({number:j,data:Te[j],objId:yt[j].objId,contentsObjId:yt[j].contentsObjId,mediaBox:yt[j].mediaBox,cropBox:yt[j].cropBox,bleedBox:yt[j].bleedBox,trimBox:yt[j].trimBox,artBox:yt[j].artBox,userUnit:yt[j].userUnit,rootDictionaryObjId:ie,resourceDictionaryObjId:oe}));J(ie,!0),fe("<</Type /Pages");var _e="/Kids [";for(Y=0;Y<Gt;Y++)_e+=ve[Y]+" 0 R ";fe(_e+"]"),fe("/Count "+Gt),fe(">>"),fe("endobj"),zt.publish("postPutPages")},le=function(j){zt.publish("putFont",{font:j,out:fe,newObject:br,putStream:Me}),j.isAlreadyPutted!==!0&&(j.objectNumber=br(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+ru(j.postScriptName)),fe("/Subtype /Type1"),typeof j.encoding=="string"&&fe("/Encoding /"+j.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},Ee=function(){for(var j in qt)qt.hasOwnProperty(j)&&(d===!1||d===!0&&m.hasOwnProperty(j))&&le(qt[j])},$e=function(j){j.objectNumber=br();var Y=[];Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Form"}),Y.push({key:"BBox",value:"["+[N(j.x),N(j.y),N(j.x+j.width),N(j.y+j.height)].join(" ")+"]"}),Y.push({key:"Matrix",value:"["+j.matrix.toString()+"]"});var ve=j.pages[1].join(`
`);Me({data:ve,additionalKeyValues:Y,objectId:j.objectNumber}),fe("endobj")},Ge=function(){for(var j in nr)nr.hasOwnProperty(j)&&$e(nr[j])},He=function(j,Y){var ve,_e=[],Pe=1/(Y-1);for(ve=0;ve<1;ve+=Pe)_e.push(ve);if(_e.push(1),j[0].offset!=0){var We={offset:0,color:j[0].color};j.unshift(We)}if(j[j.length-1].offset!=1){var at={offset:1,color:j[j.length-1].color};j.push(at)}for(var vt="",jt=0,It=0;It<_e.length;It++){for(ve=_e[It];ve>j[jt+1].offset;)jt++;var Dt=j[jt].offset,Ht=(ve-Dt)/(j[jt+1].offset-Dt),Ir=j[jt].color,$r=j[jt+1].color;vt+=z(Math.round((1-Ht)*Ir[0]+Ht*$r[0]).toString(16))+z(Math.round((1-Ht)*Ir[1]+Ht*$r[1]).toString(16))+z(Math.round((1-Ht)*Ir[2]+Ht*$r[2]).toString(16))}return vt.trim()},it=function(j,Y){Y||(Y=21);var ve=br(),_e=He(j.colors,Y),Pe=[];Pe.push({key:"FunctionType",value:"0"}),Pe.push({key:"Domain",value:"[0.0 1.0]"}),Pe.push({key:"Size",value:"["+Y+"]"}),Pe.push({key:"BitsPerSample",value:"8"}),Pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Me({data:_e,additionalKeyValues:Pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ve}),fe("endobj"),j.objectNumber=br(),fe("<< /ShadingType "+j.type),fe("/ColorSpace /DeviceRGB");var We="/Coords ["+N(parseFloat(j.coords[0]))+" "+N(parseFloat(j.coords[1]))+" ";j.type===2?We+=N(parseFloat(j.coords[2]))+" "+N(parseFloat(j.coords[3])):We+=N(parseFloat(j.coords[2]))+" "+N(parseFloat(j.coords[3]))+" "+N(parseFloat(j.coords[4]))+" "+N(parseFloat(j.coords[5])),fe(We+="]"),j.matrix&&fe("/Matrix ["+j.matrix.toString()+"]"),fe("/Function "+ve+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},ht=function(j,Y){var ve=Pr(),_e=br();Y.push({resourcesOid:ve,objectOid:_e}),j.objectNumber=_e;var Pe=[];Pe.push({key:"Type",value:"/Pattern"}),Pe.push({key:"PatternType",value:"1"}),Pe.push({key:"PaintType",value:"1"}),Pe.push({key:"TilingType",value:"1"}),Pe.push({key:"BBox",value:"["+j.boundingBox.map(N).join(" ")+"]"}),Pe.push({key:"XStep",value:N(j.xStep)}),Pe.push({key:"YStep",value:N(j.yStep)}),Pe.push({key:"Resources",value:ve+" 0 R"}),j.matrix&&Pe.push({key:"Matrix",value:"["+j.matrix.toString()+"]"}),Me({data:j.stream,additionalKeyValues:Pe,objectId:j.objectNumber}),fe("endobj")},$t=function(j){var Y;for(Y in Ot)Ot.hasOwnProperty(Y)&&(Ot[Y]instanceof qo?it(Ot[Y]):Ot[Y]instanceof Il&&ht(Ot[Y],j))},dr=function(j){for(var Y in j.objectNumber=br(),fe("<<"),j)switch(Y){case"opacity":fe("/ca "+L(j[Y]));break;case"stroke-opacity":fe("/CA "+L(j[Y]))}fe(">>"),fe("endobj")},an=function(){var j;for(j in rr)rr.hasOwnProperty(j)&&dr(rr[j])},Ui=function(){for(var j in fe("/XObject <<"),nr)nr.hasOwnProperty(j)&&nr[j].objectNumber>=0&&fe("/"+j+" "+nr[j].objectNumber+" 0 R");zt.publish("putXobjectDict"),fe(">>")},Fs=function(){ea.oid=br(),fe("<<"),fe("/Filter /Standard"),fe("/V "+ea.v),fe("/R "+ea.r),fe("/U <"+ea.toHexString(ea.U)+">"),fe("/O <"+ea.toHexString(ea.O)+">"),fe("/P "+ea.P),fe(">>"),fe("endobj")},ms=function(){for(var j in fe("/Font <<"),qt)qt.hasOwnProperty(j)&&(d===!1||d===!0&&m.hasOwnProperty(j))&&fe("/"+j+" "+qt[j].objectNumber+" 0 R");fe(">>")},$i=function(){if(Object.keys(Ot).length>0){for(var j in fe("/Shading <<"),Ot)Ot.hasOwnProperty(j)&&Ot[j]instanceof qo&&Ot[j].objectNumber>=0&&fe("/"+j+" "+Ot[j].objectNumber+" 0 R");zt.publish("putShadingPatternDict"),fe(">>")}},ps=function(j){if(Object.keys(Ot).length>0){for(var Y in fe("/Pattern <<"),Ot)Ot.hasOwnProperty(Y)&&Ot[Y]instanceof h.TilingPattern&&Ot[Y].objectNumber>=0&&Ot[Y].objectNumber<j&&fe("/"+Y+" "+Ot[Y].objectNumber+" 0 R");zt.publish("putTilingPatternDict"),fe(">>")}},Ya=function(){if(Object.keys(rr).length>0){var j;for(j in fe("/ExtGState <<"),rr)rr.hasOwnProperty(j)&&rr[j].objectNumber>=0&&fe("/"+j+" "+rr[j].objectNumber+" 0 R");zt.publish("putGStateDict"),fe(">>")}},Xr=function(j){J(j.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ms(),$i(),ps(j.objectOid),Ya(),Ui(),fe(">>"),fe("endobj")},i0=function(){var j=[];Ee(),an(),Ge(),$t(j),zt.publish("putResources"),j.forEach(Xr),Xr({resourcesOid:oe,objectOid:Number.MAX_SAFE_INTEGER}),zt.publish("postPutResources")},s0=function(){zt.publish("putAdditionalObjects");for(var j=0;j<be.length;j++){var Y=be[j];J(Y.objId,!0),fe(Y.content),fe("endobj")}zt.publish("postPutAdditionalObjects")},o0=function(j){Yt[j.fontName]=Yt[j.fontName]||{},Yt[j.fontName][j.fontStyle]=j.id},Vu=function(j,Y,ve,_e,Pe){var We={id:"F"+(Object.keys(qt).length+1).toString(10),postScriptName:j,fontName:Y,fontStyle:ve,encoding:_e,isStandardFont:Pe||!1,metadata:{}};return zt.publish("addFont",{font:We,instance:this}),qt[We.id]=We,o0(We),We.id},Sg=function(j){for(var Y=0,ve=et.length;Y<ve;Y++){var _e=Vu.call(this,j[Y][0],j[Y][1],j[Y][2],et[Y][3],!0);d===!1&&(m[_e]=!0);var Pe=j[Y][0].split("-");o0({id:_e,fontName:Pe[0],fontStyle:Pe[1]||""})}zt.publish("addFonts",{fonts:qt,dictionary:Yt})},qi=function(j){return j.foo=function(){try{return j.apply(this,arguments)}catch(_e){var Y=_e.stack||"";~Y.indexOf(" at ")&&(Y=Y.split(" at ")[1]);var ve="Error in function "+Y.split(`
`)[0].split("<")[0]+": "+_e.message;if(!Ct.console)throw new Error(ve);Ct.console.error(ve,_e),Ct.alert&&alert(ve)}},j.foo.bar=j,j.foo},bc=function(j,Y){var ve,_e,Pe,We,at,vt,jt,It,Dt;if(Pe=(Y=Y||{}).sourceEncoding||"Unicode",at=Y.outputEncoding,(Y.autoencode||at)&&qt[Tt].metadata&&qt[Tt].metadata[Pe]&&qt[Tt].metadata[Pe].encoding&&(We=qt[Tt].metadata[Pe].encoding,!at&&qt[Tt].encoding&&(at=qt[Tt].encoding),!at&&We.codePages&&(at=We.codePages[0]),typeof at=="string"&&(at=We[at]),at)){for(jt=!1,vt=[],ve=0,_e=j.length;ve<_e;ve++)(It=at[j.charCodeAt(ve)])?vt.push(String.fromCharCode(It)):vt.push(j[ve]),vt[ve].charCodeAt(0)>>8&&(jt=!0);j=vt.join("")}for(ve=j.length;jt===void 0&&ve!==0;)j.charCodeAt(ve-1)>>8&&(jt=!0),ve--;if(!jt)return j;for(vt=Y.noBOM?[]:[254,255],ve=0,_e=j.length;ve<_e;ve++){if((Dt=(It=j.charCodeAt(ve))>>8)>>8)throw new Error("Character at position "+ve+" of string '"+j+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");vt.push(Dt),vt.push(It-(Dt<<8))}return String.fromCharCode.apply(void 0,vt)},ka=h.__private__.pdfEscape=h.pdfEscape=function(j,Y){return bc(j,Y).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gu=h.__private__.beginPage=function(j){Te[++Gt]=[],yt[Gt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(j[0]),topRightY:Number(j[1])}},c0(Gt),De(Te[I])},l0=function(j,Y){var ve,_e,Pe;switch(r=Y||r,typeof j=="string"&&(ve=y(j.toLowerCase()),Array.isArray(ve)&&(_e=ve[0],Pe=ve[1])),Array.isArray(j)&&(_e=j[0]*st,Pe=j[1]*st),isNaN(_e)&&(_e=a[0],Pe=a[1]),(_e>14400||Pe>14400)&&(vr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),_e=Math.min(14400,_e),Pe=Math.min(14400,Pe)),a=[_e,Pe],r.substr(0,1)){case"l":Pe>_e&&(a=[Pe,_e]);break;case"p":_e>Pe&&(a=[Pe,_e])}Gu(a),p0(Ju),fe(Wi),Qu!==0&&fe(Qu+" J"),ef!==0&&fe(ef+" j"),zt.publish("addPage",{pageNumber:Gt})},Ng=function(j){j>0&&j<=Gt&&(Te.splice(j,1),yt.splice(j,1),Gt--,I>Gt&&(I=Gt),this.setPage(I))},c0=function(j){j>0&&j<=Gt&&(I=j)},Ag=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Te.length-1},u0=function(j,Y,ve){var _e,Pe=void 0;return ve=ve||{},j=j!==void 0?j:qt[Tt].fontName,Y=Y!==void 0?Y:qt[Tt].fontStyle,_e=j.toLowerCase(),Yt[_e]!==void 0&&Yt[_e][Y]!==void 0?Pe=Yt[_e][Y]:Yt[j]!==void 0&&Yt[j][Y]!==void 0?Pe=Yt[j][Y]:ve.disableWarning===!1&&vr.warn("Unable to look up font label for font '"+j+"', '"+Y+"'. Refer to getFontList() for available fonts."),Pe||ve.noFallback||(Pe=Yt.times[Y])==null&&(Pe=Yt.times.normal),Pe},jg=h.__private__.putInfo=function(){var j=br(),Y=function(_e){return _e};for(var ve in f!==null&&(Y=ea.encryptor(j,0)),fe("<<"),fe("/Producer ("+ka(Y("jsPDF "+Et.version))+")"),gt)gt.hasOwnProperty(ve)&&gt[ve]&&fe("/"+ve.substr(0,1).toUpperCase()+ve.substr(1)+" ("+ka(Y(gt[ve]))+")");fe("/CreationDate ("+ka(Y(G))+")"),fe(">>"),fe("endobj")},Ku=h.__private__.putCatalog=function(j){var Y=(j=j||{}).rootDictionaryObjId||ie;switch(br(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+Y+" 0 R"),xe||(xe="fullwidth"),xe){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ve=""+xe;ve.substr(ve.length-1)==="%"&&(xe=parseInt(xe)/100),typeof xe=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+L(xe)+"]")}switch(nt||(nt="continuous"),nt){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}Re&&fe("/PageMode /"+Re),zt.publish("putCatalog"),fe(">>"),fe("endobj")},Eg=h.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(Z+1)),fe("/Root "+Z+" 0 R"),fe("/Info "+(Z-1)+" 0 R"),f!==null&&fe("/Encrypt "+ea.oid+" 0 R"),fe("/ID [ <"+H+"> <"+H+"> ]"),fe(">>")},Pg=h.__private__.putHeader=function(){fe("%PDF-"+g),fe("%")},Tg=h.__private__.putXRef=function(){var j="0000000000";fe("xref"),fe("0 "+(Z+1)),fe("0000000000 65535 f ");for(var Y=1;Y<=Z;Y++)typeof ge[Y]=="function"?fe((j+ge[Y]()).slice(-10)+" 00000 n "):ge[Y]!==void 0?fe((j+ge[Y]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},Is=h.__private__.buildDocument=function(){Ke(),De(pe),zt.publish("buildDocument"),Pg(),ee(),s0(),i0(),f!==null&&Fs(),jg(),Ku();var j=te;return Tg(),Eg(),fe("startxref"),fe(""+j),fe("%%EOF"),De(Te[I]),pe.join(`
`)},wc=h.__private__.getBlob=function(j){return new Blob([ft(j)],{type:"application/pdf"})},_c=h.output=h.__private__.output=qi(function(j,Y){switch(typeof(Y=Y||{})=="string"?Y={filename:Y}:Y.filename=Y.filename||"generated.pdf",j){case void 0:return Is();case"save":h.save(Y.filename);break;case"arraybuffer":return ft(Is());case"blob":return wc(Is());case"bloburi":case"bloburl":if(Ct.URL!==void 0&&typeof Ct.URL.createObjectURL=="function")return Ct.URL&&Ct.URL.createObjectURL(wc(Is()))||void 0;vr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ve="",_e=Is();try{ve=Ev(_e)}catch{ve=Ev(unescape(encodeURIComponent(_e)))}return"data:application/pdf;filename="+Y.filename+";base64,"+ve;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ct)==="[object Window]"){var Pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",We=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Y.pdfObjectUrl&&(Pe=Y.pdfObjectUrl,We="");var at='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pe+'"'+We+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Y)+");<\/script></body></html>",vt=Ct.open();return vt!==null&&vt.document.write(at),vt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ct)==="[object Window]"){var jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Y.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Y.filename+'" width="500px" height="400px" /></body></html>',It=Ct.open();if(It!==null){It.document.write(jt);var Dt=this;It.document.documentElement.querySelector("#pdfViewer").onload=function(){It.document.title=Y.filename,It.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Dt.output("bloburl"))}}return It}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ct)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Y)+'"></iframe></body></html>',Ir=Ct.open();if(Ir!==null&&(Ir.document.write(Ht),Ir.document.title=Y.filename),Ir||typeof safari>"u")return Ir;break;case"datauri":case"dataurl":return Ct.document.location.href=this.output("datauristring",Y);default:return null}}),f0=function(j){return Array.isArray(vi)===!0&&vi.indexOf(j)>-1};switch(n){case"pt":st=1;break;case"mm":st=72/25.4;break;case"cm":st=72/2.54;break;case"in":st=72;break;case"px":st=f0("px_scaling")==1?.75:96/72;break;case"pc":case"em":st=12;break;case"ex":st=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);st=n}var ea=null;ce(),V();var Cg=function(j){return f!==null?ea.encryptor(j,0):function(Y){return Y}},d0=h.__private__.getPageInfo=h.getPageInfo=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:yt[j].objId,pageNumber:j,pageContext:yt[j]}},Lt=h.__private__.getPageInfoByObjId=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Y in yt)if(yt[Y].objId===j)break;return d0(Y)},Og=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:yt[I].objId,pageNumber:I,pageContext:yt[I]}};h.addPage=function(){return l0.apply(this,arguments),this},h.setPage=function(){return c0.apply(this,arguments),De.call(this,Te[I]),this},h.insertPage=function(j){return this.addPage(),this.movePage(I,j),this},h.movePage=function(j,Y){var ve,_e;if(j>Y){ve=Te[j],_e=yt[j];for(var Pe=j;Pe>Y;Pe--)Te[Pe]=Te[Pe-1],yt[Pe]=yt[Pe-1];Te[Y]=ve,yt[Y]=_e,this.setPage(Y)}else if(j<Y){ve=Te[j],_e=yt[j];for(var We=j;We<Y;We++)Te[We]=Te[We+1],yt[We]=yt[We+1];Te[Y]=ve,yt[Y]=_e,this.setPage(Y)}return this},h.deletePage=function(){return Ng.apply(this,arguments),this},h.__private__.text=h.text=function(j,Y,ve,_e,Pe){var We,at,vt,jt,It,Dt,Ht,Ir,$r,sn=(_e=_e||{}).scope||this;if(typeof j=="number"&&typeof Y=="number"&&(typeof ve=="string"||Array.isArray(ve))){var ta=ve;ve=Y,Y=j,j=ta}if(arguments[3]instanceof Nt?(k("The transform parameter of text() with a Matrix value"),$r=Pe):(vt=arguments[4],jt=arguments[5],tr(Ht=arguments[3])==="object"&&Ht!==null||(typeof vt=="string"&&(jt=vt,vt=null),typeof Ht=="string"&&(jt=Ht,Ht=null),typeof Ht=="number"&&(vt=Ht,Ht=null),_e={flags:Ht,angle:vt,align:jt})),isNaN(Y)||isNaN(ve)||j==null)throw new Error("Invalid arguments passed to jsPDF.text");if(j.length===0)return sn;var Tn="",zi=!1,Xa=typeof _e.lineHeightFactor=="number"?_e.lineHeightFactor:xl,xs=sn.internal.scaleFactor;function w0(wr){return wr=wr.split("	").join(Array(_e.TabLen||9).join(" ")),ka(wr,Ht)}function sf(wr){for(var _r,Zr=wr.concat(),xn=[],$s=Zr.length;$s--;)typeof(_r=Zr.shift())=="string"?xn.push(_r):Array.isArray(wr)&&(_r.length===1||_r[1]===void 0&&_r[2]===void 0)?xn.push(_r[0]):xn.push([_r[0],_r[1],_r[2]]);return xn}function of(wr,_r){var Zr;if(typeof wr=="string")Zr=_r(wr)[0];else if(Array.isArray(wr)){for(var xn,$s,pf=wr.concat(),Mc=[],j0=pf.length;j0--;)typeof(xn=pf.shift())=="string"?Mc.push(_r(xn)[0]):Array.isArray(xn)&&typeof xn[0]=="string"&&($s=_r(xn[0],xn[1],xn[2]),Mc.push([$s[0],$s[1],$s[2]]));Zr=Mc}return Zr}var Pc=!1,lf=!0;if(typeof j=="string")Pc=!0;else if(Array.isArray(j)){var cf=j.concat();at=[];for(var Tc,qn=cf.length;qn--;)(typeof(Tc=cf.shift())!="string"||Array.isArray(Tc)&&typeof Tc[0]!="string")&&(lf=!1);Pc=lf}if(Pc===!1)throw new Error('Type of text must be string or Array. "'+j+'" is not recognized.');typeof j=="string"&&(j=j.match(/[\r?\n]/)?j.split(/\r\n|\r|\n/g):[j]);var Cc=se/sn.internal.scaleFactor,Oc=Cc*(Xa-1);switch(_e.baseline){case"bottom":ve-=Oc;break;case"top":ve+=Cc-Oc;break;case"hanging":ve+=Cc-2*Oc;break;case"middle":ve+=Cc/2-Oc}if((Dt=_e.maxWidth||0)>0&&(typeof j=="string"?j=sn.splitTextToSize(j,Dt):Object.prototype.toString.call(j)==="[object Array]"&&(j=j.reduce(function(wr,_r){return wr.concat(sn.splitTextToSize(_r,Dt))},[]))),We={text:j,x:Y,y:ve,options:_e,mutex:{pdfEscape:ka,activeFontKey:Tt,fonts:qt,activeFontSize:se}},zt.publish("preProcessText",We),j=We.text,vt=(_e=We.options).angle,!($r instanceof Nt)&&vt&&typeof vt=="number"){vt*=Math.PI/180,_e.rotationDirection===0&&(vt=-vt),w===_.ADVANCED&&(vt=-vt);var kc=Math.cos(vt),uf=Math.sin(vt);$r=new Nt(kc,uf,-uf,kc,0,0)}else vt&&vt instanceof Nt&&($r=vt);w!==_.ADVANCED||$r||($r=Yr),(It=_e.charSpace||Ac)!==void 0&&(Tn+=N(S(It))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ir=_e.horizontalScale)!==void 0&&(Tn+=N(100*Ir)+` Tz
`),_e.lang;var La=-1,$g=_e.renderingMode!==void 0?_e.renderingMode:_e.stroke,ff=sn.internal.getCurrentPageInfo().pageContext;switch($g){case 0:case!1:case"fill":La=0;break;case 1:case!0:case"stroke":La=1;break;case 2:case"fillThenStroke":La=2;break;case 3:case"invisible":La=3;break;case 4:case"fillAndAddForClipping":La=4;break;case 5:case"strokeAndAddPathForClipping":La=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":La=6;break;case 7:case"addToPathForClipping":La=7}var _0=ff.usedRenderingMode!==void 0?ff.usedRenderingMode:-1;La!==-1?Tn+=La+` Tr
`:_0!==-1&&(Tn+=`0 Tr
`),La!==-1&&(ff.usedRenderingMode=La),jt=_e.align||"left";var xi,Lc=se*Xa,S0=sn.internal.pageSize.getWidth(),N0=qt[Tt];It=_e.charSpace||Ac,Dt=_e.maxWidth||0,Ht=Object.assign({autoencode:!0,noBOM:!0},_e.flags);var wo=[],wl=function(wr){return sn.getStringUnitWidth(wr,{font:N0,charSpace:It,fontSize:se,doKerning:!1})*se/xs};if(Object.prototype.toString.call(j)==="[object Array]"){var Da;at=sf(j),jt!=="left"&&(xi=at.map(wl));var ya,_o=0;if(jt==="right"){Y-=xi[0],j=[],qn=at.length;for(var Rs=0;Rs<qn;Rs++)Rs===0?(ya=vs(Y),Da=Ms(ve)):(ya=S(_o-xi[Rs]),Da=-Lc),j.push([at[Rs],ya,Da]),_o=xi[Rs]}else if(jt==="center"){Y-=xi[0]/2,j=[],qn=at.length;for(var Bs=0;Bs<qn;Bs++)Bs===0?(ya=vs(Y),Da=Ms(ve)):(ya=S((_o-xi[Bs])/2),Da=-Lc),j.push([at[Bs],ya,Da]),_o=xi[Bs]}else if(jt==="left"){j=[],qn=at.length;for(var Dc=0;Dc<qn;Dc++)j.push(at[Dc])}else if(jt==="justify"&&N0.encoding==="Identity-H"){j=[],qn=at.length,Dt=Dt!==0?Dt:S0;for(var Us=0,Jr=0;Jr<qn;Jr++)if(Da=Jr===0?Ms(ve):-Lc,ya=Jr===0?vs(Y):Us,Jr<qn-1){var df=S((Dt-xi[Jr])/(at[Jr].split(" ").length-1)),ba=at[Jr].split(" ");j.push([ba[0]+" ",ya,Da]),Us=0;for(var yi=1;yi<ba.length;yi++){var Fc=(wl(ba[yi-1]+" "+ba[yi])-wl(ba[yi]))*xs+df;yi==ba.length-1?j.push([ba[yi],Fc,0]):j.push([ba[yi]+" ",Fc,0]),Us-=Fc}}else j.push([at[Jr],ya,Da]);j.push(["",Us,0])}else{if(jt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(j=[],qn=at.length,Dt=Dt!==0?Dt:S0,Jr=0;Jr<qn;Jr++)Da=Jr===0?Ms(ve):-Lc,ya=Jr===0?vs(Y):0,Jr<qn-1?wo.push(N(S((Dt-xi[Jr])/(at[Jr].split(" ").length-1)))):wo.push(0),j.push([at[Jr],ya,Da])}}var A0=typeof _e.R2L=="boolean"?_e.R2L:qe;A0===!0&&(j=of(j,function(wr,_r,Zr){return[wr.split("").reverse().join(""),_r,Zr]})),We={text:j,x:Y,y:ve,options:_e,mutex:{pdfEscape:ka,activeFontKey:Tt,fonts:qt,activeFontSize:se}},zt.publish("postProcessText",We),j=We.text,zi=We.mutex.isHex||!1;var hf=qt[Tt].encoding;hf!=="WinAnsiEncoding"&&hf!=="StandardEncoding"||(j=of(j,function(wr,_r,Zr){return[w0(wr),_r,Zr]})),at=sf(j),j=[];for(var _l,Sl,So,Nl=0,Ic=1,Al=Array.isArray(at[0])?Ic:Nl,No="",mf=function(wr,_r,Zr){var xn="";return Zr instanceof Nt?(Zr=typeof _e.angle=="number"?Ur(Zr,new Nt(1,0,0,1,wr,_r)):Ur(new Nt(1,0,0,1,wr,_r),Zr),w===_.ADVANCED&&(Zr=Ur(new Nt(1,0,0,-1,0,0),Zr)),xn=Zr.join(" ")+` Tm
`):xn=N(wr)+" "+N(_r)+` Td
`,xn},bi=0;bi<at.length;bi++){switch(No="",Al){case Ic:So=(zi?"<":"(")+at[bi][0]+(zi?">":")"),_l=parseFloat(at[bi][1]),Sl=parseFloat(at[bi][2]);break;case Nl:So=(zi?"<":"(")+at[bi]+(zi?">":")"),_l=vs(Y),Sl=Ms(ve)}wo!==void 0&&wo[bi]!==void 0&&(No=wo[bi]+` Tw
`),bi===0?j.push(No+mf(_l,Sl,$r)+So):Al===Nl?j.push(No+So):Al===Ic&&j.push(No+mf(_l,Sl,$r)+So)}j=Al===Nl?j.join(` Tj
T* `):j.join(` Tj
`),j+=` Tj
`;var wi=`BT
/`;return wi+=Tt+" "+se+` Tf
`,wi+=N(se*Xa)+` TL
`,wi+=yl+`
`,wi+=Tn,wi+=j,fe(wi+="ET"),m[Tt]=!0,sn};var kg=h.__private__.clip=h.clip=function(j){return fe(j==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return kg("evenodd")},h.__private__.discardPath=h.discardPath=function(){return fe("n"),this};var gs=h.__private__.isValidStyle=function(j){var Y=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(j)!==-1&&(Y=!0),Y};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(j){return gs(j)&&(u=j),this};var h0=h.__private__.getStyle=h.getStyle=function(j){var Y=u;switch(j){case"D":case"S":Y="S";break;case"F":Y="f";break;case"FD":case"DF":Y="B";break;case"f":case"f*":case"B":case"B*":Y=j}return Y},m0=h.close=function(){return fe("h"),this};h.stroke=function(){return fe("S"),this},h.fill=function(j){return Sc("f",j),this},h.fillEvenOdd=function(j){return Sc("f*",j),this},h.fillStroke=function(j){return Sc("B",j),this},h.fillStrokeEvenOdd=function(j){return Sc("B*",j),this};var Sc=function(j,Y){tr(Y)==="object"?Dg(Y,j):fe(j)},Yu=function(j){j===null||w===_.ADVANCED&&j===void 0||(j=h0(j),fe(j))};function Lg(j,Y,ve,_e,Pe){var We=new Il(Y||this.boundingBox,ve||this.xStep,_e||this.yStep,this.gState,Pe||this.matrix);We.stream=this.stream;var at=j+"$$"+this.cloneIndex+++"$$";return Pn(at,We),We}var Dg=function(j,Y){var ve=vn[j.key],_e=Ot[ve];if(_e instanceof qo)fe("q"),fe(Fg(Y)),_e.gState&&h.setGState(_e.gState),fe(j.matrix.toString()+" cm"),fe("/"+ve+" sh"),fe("Q");else if(_e instanceof Il){var Pe=new Nt(1,0,0,-1,0,bo());j.matrix&&(Pe=Pe.multiply(j.matrix||Yr),ve=Lg.call(_e,j.key,j.boundingBox,j.xStep,j.yStep,Pe).id),fe("q"),fe("/Pattern cs"),fe("/"+ve+" scn"),_e.gState&&h.setGState(_e.gState),fe(Y),fe("Q")}},Fg=function(j){switch(j){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Xu=h.moveTo=function(j,Y){return fe(N(S(j))+" "+N(U(Y))+" m"),this},vl=h.lineTo=function(j,Y){return fe(N(S(j))+" "+N(U(Y))+" l"),this},xo=h.curveTo=function(j,Y,ve,_e,Pe,We){return fe([N(S(j)),N(U(Y)),N(S(ve)),N(U(_e)),N(S(Pe)),N(U(We)),"c"].join(" ")),this};h.__private__.line=h.line=function(j,Y,ve,_e,Pe){if(isNaN(j)||isNaN(Y)||isNaN(ve)||isNaN(_e)||!gs(Pe))throw new Error("Invalid arguments passed to jsPDF.line");return w===_.COMPAT?this.lines([[ve-j,_e-Y]],j,Y,[1,1],Pe||"S"):this.lines([[ve-j,_e-Y]],j,Y,[1,1]).stroke()},h.__private__.lines=h.lines=function(j,Y,ve,_e,Pe,We){var at,vt,jt,It,Dt,Ht,Ir,$r,sn,ta,Tn,zi;if(typeof j=="number"&&(zi=ve,ve=Y,Y=j,j=zi),_e=_e||[1,1],We=We||!1,isNaN(Y)||isNaN(ve)||!Array.isArray(j)||!Array.isArray(_e)||!gs(Pe)||typeof We!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Xu(Y,ve),at=_e[0],vt=_e[1],It=j.length,ta=Y,Tn=ve,jt=0;jt<It;jt++)(Dt=j[jt]).length===2?(ta=Dt[0]*at+ta,Tn=Dt[1]*vt+Tn,vl(ta,Tn)):(Ht=Dt[0]*at+ta,Ir=Dt[1]*vt+Tn,$r=Dt[2]*at+ta,sn=Dt[3]*vt+Tn,ta=Dt[4]*at+ta,Tn=Dt[5]*vt+Tn,xo(Ht,Ir,$r,sn,ta,Tn));return We&&m0(),Yu(Pe),this},h.path=function(j){for(var Y=0;Y<j.length;Y++){var ve=j[Y],_e=ve.c;switch(ve.op){case"m":Xu(_e[0],_e[1]);break;case"l":vl(_e[0],_e[1]);break;case"c":xo.apply(this,_e);break;case"h":m0()}}return this},h.__private__.rect=h.rect=function(j,Y,ve,_e,Pe){if(isNaN(j)||isNaN(Y)||isNaN(ve)||isNaN(_e)||!gs(Pe))throw new Error("Invalid arguments passed to jsPDF.rect");return w===_.COMPAT&&(_e=-_e),fe([N(S(j)),N(U(Y)),N(S(ve)),N(S(_e)),"re"].join(" ")),Yu(Pe),this},h.__private__.triangle=h.triangle=function(j,Y,ve,_e,Pe,We,at){if(isNaN(j)||isNaN(Y)||isNaN(ve)||isNaN(_e)||isNaN(Pe)||isNaN(We)||!gs(at))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ve-j,_e-Y],[Pe-ve,We-_e],[j-Pe,Y-We]],j,Y,[1,1],at,!0),this},h.__private__.roundedRect=h.roundedRect=function(j,Y,ve,_e,Pe,We,at){if(isNaN(j)||isNaN(Y)||isNaN(ve)||isNaN(_e)||isNaN(Pe)||isNaN(We)||!gs(at))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var vt=4/3*(Math.SQRT2-1);return Pe=Math.min(Pe,.5*ve),We=Math.min(We,.5*_e),this.lines([[ve-2*Pe,0],[Pe*vt,0,Pe,We-We*vt,Pe,We],[0,_e-2*We],[0,We*vt,-Pe*vt,We,-Pe,We],[2*Pe-ve,0],[-Pe*vt,0,-Pe,-We*vt,-Pe,-We],[0,2*We-_e],[0,-We*vt,Pe*vt,-We,Pe,-We]],j+Pe,Y,[1,1],at,!0),this},h.__private__.ellipse=h.ellipse=function(j,Y,ve,_e,Pe){if(isNaN(j)||isNaN(Y)||isNaN(ve)||isNaN(_e)||!gs(Pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var We=4/3*(Math.SQRT2-1)*ve,at=4/3*(Math.SQRT2-1)*_e;return Xu(j+ve,Y),xo(j+ve,Y-at,j+We,Y-_e,j,Y-_e),xo(j-We,Y-_e,j-ve,Y-at,j-ve,Y),xo(j-ve,Y+at,j-We,Y+_e,j,Y+_e),xo(j+We,Y+_e,j+ve,Y+at,j+ve,Y),Yu(Pe),this},h.__private__.circle=h.circle=function(j,Y,ve,_e){if(isNaN(j)||isNaN(Y)||isNaN(ve)||!gs(_e))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(j,Y,ve,ve,_e)},h.setFont=function(j,Y,ve){return ve&&(Y=D(Y,ve)),Tt=u0(j,Y,{disableWarning:!1}),this};var Ig=h.__private__.getFont=h.getFont=function(){return qt[u0.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var j,Y,ve={};for(j in Yt)if(Yt.hasOwnProperty(j))for(Y in ve[j]=[],Yt[j])Yt[j].hasOwnProperty(Y)&&ve[j].push(Y);return ve},h.addFont=function(j,Y,ve,_e,Pe){var We=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&We.indexOf(arguments[3])!==-1?Pe=arguments[3]:arguments[3]&&We.indexOf(arguments[3])==-1&&(ve=D(ve,_e)),Pe=Pe||"Identity-H",Vu.call(this,j,Y,ve,Pe)};var xl,Ju=e.lineWidth||.200025,Nc=h.__private__.getLineWidth=h.getLineWidth=function(){return Ju},p0=h.__private__.setLineWidth=h.setLineWidth=function(j){return Ju=j,fe(N(S(j))+" w"),this};h.__private__.setLineDash=Et.API.setLineDash=Et.API.setLineDashPattern=function(j,Y){if(j=j||[],Y=Y||0,isNaN(Y)||!Array.isArray(j))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return j=j.map(function(ve){return N(S(ve))}).join(" "),Y=N(S(Y)),fe("["+j+"] "+Y+" d"),this};var g0=h.__private__.getLineHeight=h.getLineHeight=function(){return se*xl};h.__private__.getLineHeight=h.getLineHeight=function(){return se*xl};var v0=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(j){return typeof(j=j||1.15)=="number"&&(xl=j),this},x0=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return xl};v0(e.lineHeight);var vs=h.__private__.getHorizontalCoordinate=function(j){return S(j)},Ms=h.__private__.getVerticalCoordinate=function(j){return w===_.ADVANCED?j:yt[I].mediaBox.topRightY-yt[I].mediaBox.bottomLeftY-S(j)},Mg=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(j){return N(vs(j))},yo=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(j){return N(Ms(j))},Wi=e.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return de(Wi)},h.__private__.setStrokeColor=h.setDrawColor=function(j,Y,ve,_e){return Wi=me({ch1:j,ch2:Y,ch3:ve,ch4:_e,pdfColorType:"draw",precision:2}),fe(Wi),this};var Zu=e.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return de(Zu)},h.__private__.setFillColor=h.setFillColor=function(j,Y,ve,_e){return Zu=me({ch1:j,ch2:Y,ch3:ve,ch4:_e,pdfColorType:"fill",precision:2}),fe(Zu),this};var yl=e.textColor||"0 g",Rg=h.__private__.getTextColor=h.getTextColor=function(){return de(yl)};h.__private__.setTextColor=h.setTextColor=function(j,Y,ve,_e){return yl=me({ch1:j,ch2:Y,ch3:ve,ch4:_e,pdfColorType:"text",precision:3}),this};var Ac=e.charSpace,Bg=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Ac||0)};h.__private__.setCharSpace=h.setCharSpace=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ac=j,this};var Qu=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(j){var Y=h.CapJoinStyles[j];if(Y===void 0)throw new Error("Line cap style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qu=Y,fe(Y+" J"),this};var ef=0;h.__private__.setLineJoin=h.setLineJoin=function(j){var Y=h.CapJoinStyles[j];if(Y===void 0)throw new Error("Line join style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ef=Y,fe(Y+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(j){if(j=j||0,isNaN(j))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(N(S(j))+" M"),this},h.GState=pd,h.setGState=function(j){(j=typeof j=="string"?rr[va[j]]:y0(null,j)).equals(gi)||(fe("/"+j.id+" gs"),gi=j)};var y0=function(j,Y){if(!j||!va[j]){var ve=!1;for(var _e in rr)if(rr.hasOwnProperty(_e)&&rr[_e].equals(Y)){ve=!0;break}if(ve)Y=rr[_e];else{var Pe="GS"+(Object.keys(rr).length+1).toString(10);rr[Pe]=Y,Y.id=Pe}return j&&(va[j]=Y.id),zt.publish("addGState",Y),Y}};h.addGState=function(j,Y){return y0(j,Y),this},h.saveGraphicsState=function(){return fe("q"),Un.push({key:Tt,size:se,color:yl}),this},h.restoreGraphicsState=function(){fe("Q");var j=Un.pop();return Tt=j.key,se=j.size,yl=j.color,gi=null,this},h.setCurrentTransformationMatrix=function(j){return fe(j.toString()+" cm"),this},h.comment=function(j){return fe("#"+j),this};var jc=function(j,Y){var ve=j||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ve},set:function(We){isNaN(We)||(ve=parseFloat(We))}});var _e=Y||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return _e},set:function(We){isNaN(We)||(_e=parseFloat(We))}});var Pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pe},set:function(We){Pe=We.toString()}}),this},tf=function(j,Y,ve,_e){jc.call(this,j,Y),this.type="rect";var Pe=ve||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pe},set:function(at){isNaN(at)||(Pe=parseFloat(at))}});var We=_e||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return We},set:function(at){isNaN(at)||(We=parseFloat(at))}}),this},rf=function(){this.page=Gt,this.currentPage=I,this.pages=Te.slice(0),this.pagesContext=yt.slice(0),this.x=Fr,this.y=Mt,this.matrix=Br,this.width=bl(I),this.height=bo(I),this.outputDestination=Ze,this.id="",this.objectNumber=-1};rf.prototype.restore=function(){Gt=this.page,I=this.currentPage,yt=this.pagesContext,Te=this.pages,Fr=this.x,Mt=this.y,Br=this.matrix,nf(I,this.width),af(I,this.height),Ze=this.outputDestination};var b0=function(j,Y,ve,_e,Pe){$n.push(new rf),Gt=I=0,Te=[],Fr=j,Mt=Y,Br=Pe,Gu([ve,_e])},Ug=function(j){if(xa[j])$n.pop().restore();else{var Y=new rf,ve="Xo"+(Object.keys(nr).length+1).toString(10);Y.id=ve,xa[j]=ve,nr[ve]=Y,zt.publish("addFormObject",Y),$n.pop().restore()}};for(var Ec in h.beginFormObject=function(j,Y,ve,_e,Pe){return b0(j,Y,ve,_e,Pe),this},h.endFormObject=function(j){return Ug(j),this},h.doFormObject=function(j,Y){var ve=nr[xa[j]];return fe("q"),fe(Y.toString()+" cm"),fe("/"+ve.id+" Do"),fe("Q"),this},h.getFormObject=function(j){var Y=nr[xa[j]];return{x:Y.x,y:Y.y,width:Y.width,height:Y.height,matrix:Y.matrix}},h.save=function(j,Y){return j=j||"generated.pdf",(Y=Y||{}).returnPromise=Y.returnPromise||!1,Y.returnPromise===!1?(Pl(wc(Is()),j),typeof Pl.unload=="function"&&Ct.setTimeout&&setTimeout(Pl.unload,911),this):new Promise(function(ve,_e){try{var Pe=Pl(wc(Is()),j);typeof Pl.unload=="function"&&Ct.setTimeout&&setTimeout(Pl.unload,911),ve(Pe)}catch(We){_e(We.message)}})},Et.API)Et.API.hasOwnProperty(Ec)&&(Ec==="events"&&Et.API.events.length?function(j,Y){var ve,_e,Pe;for(Pe=Y.length-1;Pe!==-1;Pe--)ve=Y[Pe][0],_e=Y[Pe][1],j.subscribe.apply(j,[ve].concat(typeof _e=="function"?[_e]:_e))}(zt,Et.API.events):h[Ec]=Et.API[Ec]);var bl=h.getPageWidth=function(j){return(yt[j=j||I].mediaBox.topRightX-yt[j].mediaBox.bottomLeftX)/st},nf=h.setPageWidth=function(j,Y){yt[j].mediaBox.topRightX=Y*st+yt[j].mediaBox.bottomLeftX},bo=h.getPageHeight=function(j){return(yt[j=j||I].mediaBox.topRightY-yt[j].mediaBox.bottomLeftY)/st},af=h.setPageHeight=function(j,Y){yt[j].mediaBox.topRightY=Y*st+yt[j].mediaBox.bottomLeftY};return h.internal={pdfEscape:ka,getStyle:h0,getFont:Ig,getFontSize:we,getCharSpace:Bg,getTextColor:Rg,getLineHeight:g0,getLineHeightFactor:x0,getLineWidth:Nc,write:Ve,getHorizontalCoordinate:vs,getVerticalCoordinate:Ms,getCoordinateString:Mg,getVerticalCoordinateString:yo,collections:{},newObject:br,newAdditionalObject:he,newObjectDeferred:Pr,newObjectDeferredBegin:J,getFilters:Oe,putStream:Me,events:zt,scaleFactor:st,pageSize:{getWidth:function(){return bl(I)},setWidth:function(j){nf(I,j)},getHeight:function(){return bo(I)},setHeight:function(j){af(I,j)}},encryptionOptions:f,encryption:ea,getEncryptor:Cg,output:_c,getNumberOfPages:Ag,pages:Te,out:fe,f2:L,f3:A,getPageInfo:d0,getPageInfoByObjId:Lt,getCurrentPageInfo:Og,getPDFVersion:p,Point:jc,Rectangle:tf,Matrix:Nt,hasHotfix:f0},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return bl(I)},set:function(j){nf(I,j)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return bo(I)},set:function(j){af(I,j)},enumerable:!0,configurable:!0}),Sg.call(h,et),Tt="F1",l0(a,r),zt.publish("initialized"),h}tu.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},tu.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},tu.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},tu.prototype.processOwnerPassword=function(e,t){return Tv(Pv(t).substr(0,5),e)},tu.prototype.encryptor=function(e,t){var r=Pv(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Tv(r,n)}},pd.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||tr(e)!==tr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Et.API={events:[]},Et.version="2.5.2";var Wr=Et.API,py=1,vc=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gc=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ft=function(e){return e.toFixed(2)},Io=function(e){return e.toFixed(5)};Wr.__acroform__={};var Ka=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},$5=function(e){return e*py},Ss=function(e){var t=new $3,r=wt.internal.getHeight(e)||0,n=wt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Ft(n)),Number(Ft(r))],t},P$=Wr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},T$=Wr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},C$=Wr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},tn=Wr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return C$(e,t-1)},rn=Wr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return P$(e,t-1)},nn=Wr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return T$(e,t-1)},O$=Wr.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+o)||0,c.upperRight_X=r(a+s)||0,c.upperRight_Y=n(i)||0,[Number(Ft(c.lowerLeft_X)),Number(Ft(c.lowerLeft_Y)),Number(Ft(c.upperRight_X)),Number(Ft(c.upperRight_Y))]},k$=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=Cv(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+Ft(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Ss(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},Cv=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(A){return A.split(`
`)}):a.map(function(A){return[A]});var i=r,s=wt.internal.getHeight(e)||0;s=s<0?-s:s;var o=wt.internal.getWidth(e)||0;o=o<0?-o:o;var c=function(A,S,M){if(A+1<a.length){var U=S+" "+a[A+1][0];return ah(U,e,M).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var u,f,d=ah("3",e,i).height,m=e.multiline?s-i:(s-d)/2,h=m+=2,g=0,p=0,x=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+ah(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var y="",_=0,w=0;w<a.length;w++)if(a.hasOwnProperty(w)){var P=!1;if(a[w].length!==1&&x!==a[w].length-1){if((d+2)*(_+2)+2>s)continue e;y+=a[w][x],P=!0,p=w,w--}else{y=(y+=a[w][x]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var E=parseInt(w),D=c(E,y,i),N=w>=a.length-1;if(D&&!N){y+=" ",x=0;continue}if(D||N){if(N)p=E;else if(e.multiline&&(d+2)*(_+2)+2>s)continue e}else{if(!e.multiline||(d+2)*(_+2)+2>s)continue e;p=E}}for(var k="",F=g;F<=p;F++){var L=a[F];if(e.multiline){if(F===p){k+=L[x]+" ",x=(x+1)%L.length;continue}if(F===g){k+=L[L.length-1]+" ";continue}}k+=L[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,f=ah(k,e,i).width,e.textAlign){case"right":u=o-f-2;break;case"center":u=(o-f)/2;break;case"left":default:u=2}t+=Ft(u)+" "+Ft(h)+` Td
`,t+="("+vc(k)+`) Tj
`,t+=-Ft(u)+` 0 Td
`,h=-(i+2),f=0,g=P?p:p+1,_++,y=""}break}return n.text=t,n.fontSize=i,n},ah=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},L$={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},D$=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},F$=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),tr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},I$=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(fs.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(L$)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");py=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new q3,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&D$(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],c=[],u=o.Rect;if(o.Rect&&(o.Rect=O$(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=wt.createDefaultAppearanceStream(o),tr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var f=k$(o);c.push({key:"AP",value:"<</N "+f+">>"}),a.internal.acroformPlugin.xForms.push(f)}if(o.appearanceStreamContent){var d="";for(var m in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(m)){var h=o.appearanceStreamContent[m];if(d+="/"+m+" ",d+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var g=h[s];typeof g=="function"&&(g=g.call(a,o)),d+="/"+s+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=h)=="function"&&(g=g.call(a,o)),d+="/"+s+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);d+=">>"}c.push({key:"AP",value:`<<
`+d+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:o.objId}),a.internal.out("endobj")}i&&F$(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},U3=Wr.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),tr(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+vc(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},C1=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+vc(n(e))+")"},js=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};js.prototype.toString=function(){return this.objId+" 0 R"},js.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},js.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:U3(a,this.objId,this.scope)}):a instanceof js?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var $3=function(){js.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};Ka($3,js);var q3=function(){js.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+vc(r(e))+")"}},set:function(r){e=r}})};Ka(q3,js);var fs=function e(){js.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!tn(t,3)},set:function(y){y?this.F=rn(t,3):this.F=nn(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof sm)return;i="FieldObject"+e.FieldNum++}var y=function(_){return _};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+vc(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/py:u},set:function(y){u=y}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(y){f=y}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof sm||this instanceof Ko))return C1(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=y}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof wn?m:C1(m,this.objId,this.scope)},set:function(y){y=y.toString(),m=this instanceof wn?y:y.substr(0,1)==="("?Gc(y.substr(1,y.length-2)):Gc(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof wn?Gc(m.substr(1,m.length-1)):m},set:function(y){y=y.toString(),m=this instanceof wn?"/"+y:y}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof wn?h:C1(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof wn?y:y.substr(0,1)==="("?Gc(y.substr(1,y.length-2)):Gc(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof wn?Gc(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof wn?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(y){y=!!y,p=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(y){g=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,1)},set:function(y){y?this.Ff=rn(this.Ff,1):this.Ff=nn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,2)},set:function(y){y?this.Ff=rn(this.Ff,2):this.Ff=nn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,3)},set:function(y){y?this.Ff=rn(this.Ff,3):this.Ff=nn(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');x=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(x){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};Ka(fs,js);var ql=function(){fs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return U3(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var c,u=[];c=s.exec(i);)u.push(c[o]);return u}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,18)},set:function(r){r?this.Ff=rn(this.Ff,18):this.Ff=nn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=rn(this.Ff,19):this.Ff=nn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,20)},set:function(r){r?(this.Ff=rn(this.Ff,20),t.sort()):this.Ff=nn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,22)},set:function(r){r?this.Ff=rn(this.Ff,22):this.Ff=nn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,23)},set:function(r){r?this.Ff=rn(this.Ff,23):this.Ff=nn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,27)},set:function(r){r?this.Ff=rn(this.Ff,27):this.Ff=nn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ka(ql,fs);var Wl=function(){ql.call(this),this.fontName="helvetica",this.combo=!1};Ka(Wl,ql);var zl=function(){Wl.call(this),this.combo=!0};Ka(zl,Wl);var td=function(){zl.call(this),this.edit=!0};Ka(td,zl);var wn=function(){fs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,15)},set:function(r){r?this.Ff=rn(this.Ff,15):this.Ff=nn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,16)},set:function(r){r?this.Ff=rn(this.Ff,16):this.Ff=nn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,17)},set:function(r){r?this.Ff=rn(this.Ff,17):this.Ff=nn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,26)},set:function(r){r?this.Ff=rn(this.Ff,26):this.Ff=nn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+vc(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){tr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};Ka(wn,fs);var rd=function(){wn.call(this),this.pushButton=!0};Ka(rd,wn);var Hl=function(){wn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ka(Hl,wn);var sm=function(){var e,t;fs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+vc(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){tr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=wt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ka(sm,fs),Hl.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Hl.prototype.createOption=function(e){var t=new sm;return t.Parent=this,t.optionName=e,this.Kids.push(t),M$.call(this.scope,t),t};var nd=function(){wn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=wt.CheckBox.createAppearanceStream()};Ka(nd,wn);var Ko=function(){fs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,13)},set:function(t){t?this.Ff=rn(this.Ff,13):this.Ff=nn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,21)},set:function(t){t?this.Ff=rn(this.Ff,21):this.Ff=nn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,23)},set:function(t){t?this.Ff=rn(this.Ff,23):this.Ff=nn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,24)},set:function(t){t?this.Ff=rn(this.Ff,24):this.Ff=nn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,25)},set:function(t){t?this.Ff=rn(this.Ff,25):this.Ff=nn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,26)},set:function(t){t?this.Ff=rn(this.Ff,26):this.Ff=nn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ka(Ko,fs);var ad=function(){Ko.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!tn(this.Ff,14)},set:function(e){e?this.Ff=rn(this.Ff,14):this.Ff=nn(this.Ff,14)}}),this.password=!0};Ka(ad,Ko);var wt={CheckBox:{createAppearanceStream:function(){return{N:{On:wt.CheckBox.YesNormal},D:{On:wt.CheckBox.YesPushDown,Off:wt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Ss(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=Cv(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+Ft(wt.internal.getWidth(e))+" "+Ft(wt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ft(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Ss(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=wt.internal.getHeight(e),s=wt.internal.getWidth(e),o=Cv(e,e.caption);return a.push("1 g"),a.push("0 0 "+Ft(s)+" "+Ft(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Ft(s-1)+" "+Ft(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Ft(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Ss(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ft(wt.internal.getWidth(e))+" "+Ft(wt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:wt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=wt.RadioButton.Circle.YesNormal,t.D[e]=wt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Ss(e);t.scope=e.scope;var r=[],n=wt.internal.getWidth(e)<=wt.internal.getHeight(e)?wt.internal.getWidth(e)/4:wt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=wt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Io(wt.internal.getWidth(e)/2)+" "+Io(wt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ss(e);t.scope=e.scope;var r=[],n=wt.internal.getWidth(e)<=wt.internal.getHeight(e)?wt.internal.getWidth(e)/4:wt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*wt.internal.Bezier_C).toFixed(5)),s=Number((n*wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Io(wt.internal.getWidth(e)/2)+" "+Io(wt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Io(wt.internal.getWidth(e)/2)+" "+Io(wt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Ss(e);t.scope=e.scope;var r=[],n=wt.internal.getWidth(e)<=wt.internal.getHeight(e)?wt.internal.getWidth(e)/4:wt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*wt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Io(wt.internal.getWidth(e)/2)+" "+Io(wt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:wt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=wt.RadioButton.Cross.YesNormal,t.D[e]=wt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Ss(e);t.scope=e.scope;var r=[],n=wt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+Ft(wt.internal.getWidth(e)-2)+" "+Ft(wt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Ft(n.x1.x)+" "+Ft(n.x1.y)+" m"),r.push(Ft(n.x2.x)+" "+Ft(n.x2.y)+" l"),r.push(Ft(n.x4.x)+" "+Ft(n.x4.y)+" m"),r.push(Ft(n.x3.x)+" "+Ft(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Ss(e);t.scope=e.scope;var r=wt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ft(wt.internal.getWidth(e))+" "+Ft(wt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ft(wt.internal.getWidth(e)-2)+" "+Ft(wt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Ft(r.x1.x)+" "+Ft(r.x1.y)+" m"),n.push(Ft(r.x2.x)+" "+Ft(r.x2.y)+" l"),n.push(Ft(r.x4.x)+" "+Ft(r.x4.y)+" m"),n.push(Ft(r.x3.x)+" "+Ft(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Ss(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ft(wt.internal.getWidth(e))+" "+Ft(wt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};wt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=wt.internal.getWidth(e),r=wt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},wt.internal.getWidth=function(e){var t=0;return tr(e)==="object"&&(t=$5(e.Rect[2])),t},wt.internal.getHeight=function(e){var t=0;return tr(e)==="object"&&(t=$5(e.Rect[3])),t};var M$=Wr.addField=function(e){if(I$(this,e),!(e instanceof fs))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Wr.AcroFormChoiceField=ql,Wr.AcroFormListBox=Wl,Wr.AcroFormComboBox=zl,Wr.AcroFormEditBox=td,Wr.AcroFormButton=wn,Wr.AcroFormPushButton=rd,Wr.AcroFormRadioButton=Hl,Wr.AcroFormCheckBox=nd,Wr.AcroFormTextField=Ko,Wr.AcroFormPasswordField=ad,Wr.AcroFormAppearance=wt,Wr.AcroForm={ChoiceField:ql,ListBox:Wl,ComboBox:zl,EditBox:td,Button:wn,PushButton:rd,RadioButton:Hl,CheckBox:nd,TextField:Ko,PasswordField:ad,Appearance:wt},Et.AcroForm={ChoiceField:ql,ListBox:Wl,ComboBox:zl,EditBox:td,Button:wn,PushButton:rd,RadioButton:Hl,CheckBox:nd,TextField:Ko,PasswordField:ad,Appearance:wt};var R$=Et.AcroForm;function W3(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(A,S){var M,U,G,H,q,V=t;if((S=S||t)==="RGBA"||A.data!==void 0&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(D(A))for(q in r)for(G=r[q],M=0;M<G.length;M+=1){for(H=!0,U=0;U<G[M].length;U+=1)if(G[M][U]!==void 0&&G[M][U]!==A[U]){H=!1;break}if(H===!0){V=q;break}}else for(q in r)for(G=r[q],M=0;M<G.length;M+=1){for(H=!0,U=0;U<G[M].length;U+=1)if(G[M][U]!==void 0&&G[M][U]!==A.charCodeAt(U)){H=!1;break}if(H===!0){V=q;break}}return V===t&&S!==t&&(V=S),V},a=function A(S){for(var M=this.internal.write,U=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);S.objectId=this.internal.newObject();var H=[];if(H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Image"}),H.push({key:"Width",value:S.width}),H.push({key:"Height",value:S.height}),S.colorSpace===x.INDEXED?H.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(S.palette.length/3-1)+" "+("sMask"in S&&S.sMask!==void 0?S.objectId+2:S.objectId+1)+" 0 R]"}):(H.push({key:"ColorSpace",value:"/"+S.colorSpace}),S.colorSpace===x.DEVICE_CMYK&&H.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),H.push({key:"BitsPerComponent",value:S.bitsPerComponent}),"decodeParameters"in S&&S.decodeParameters!==void 0&&H.push({key:"DecodeParms",value:"<<"+S.decodeParameters+">>"}),"transparency"in S&&Array.isArray(S.transparency)){for(var q="",V=0,W=S.transparency.length;V<W;V++)q+=S.transparency[V]+" "+S.transparency[V]+" ";H.push({key:"Mask",value:"["+q+"]"})}S.sMask!==void 0&&H.push({key:"SMask",value:S.objectId+1+" 0 R"});var ne=S.filter!==void 0?["/"+S.filter]:void 0;if(U({data:S.data,additionalKeyValues:H,alreadyAppliedFilters:ne,objectId:S.objectId}),M("endobj"),"sMask"in S&&S.sMask!==void 0){var ce="/Predictor "+S.predictor+" /Colors 1 /BitsPerComponent "+S.bitsPerComponent+" /Columns "+S.width,C={width:S.width,height:S.height,colorSpace:"DeviceGray",bitsPerComponent:S.bitsPerComponent,decodeParameters:ce,data:S.sMask};"filter"in S&&(C.filter=S.filter),A.call(this,C)}if(S.colorSpace===x.INDEXED){var I=this.internal.newObject();U({data:k(new Uint8Array(S.palette)),objectId:I}),M("endobj")}},i=function(){var A=this.internal.collections.addImage_images;for(var S in A)a.call(this,A[S])},s=function(){var A,S=this.internal.collections.addImage_images,M=this.internal.write;for(var U in S)M("/I"+(A=S[U]).index,A.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var A=this.internal.collections.addImage_images;return o.call(this),A},u=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(A){return typeof e["process"+A.toUpperCase()]=="function"},d=function(A){return tr(A)==="object"&&A.nodeType===1},m=function(A,S){if(A.nodeName==="IMG"&&A.hasAttribute("src")){var M=""+A.getAttribute("src");if(M.indexOf("data:image/")===0)return ed(unescape(M).split("base64,").pop());var U=e.loadFile(M,!0);if(U!==void 0)return U}if(A.nodeName==="CANVAS"){if(A.width===0||A.height===0)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var G;switch(S){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;case"JPEG":case"JPG":default:G="image/jpeg"}return ed(A.toDataURL(G,1).split("base64,").pop())}},h=function(A){var S=this.internal.collections.addImage_images;if(S){for(var M in S)if(A===S[M].alias)return S[M]}},g=function(A,S,M){return A||S||(A=-96,S=-96),A<0&&(A=-1*M.width*72/A/this.internal.scaleFactor),S<0&&(S=-1*M.height*72/S/this.internal.scaleFactor),A===0&&(A=S*M.width/M.height),S===0&&(S=A*M.height/M.width),[A,S]},p=function(A,S,M,U,G,H){var q=g.call(this,M,U,G),V=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString,ne=c.call(this);if(M=q[0],U=q[1],ne[G.index]=G,H){H*=Math.PI/180;var ce=Math.cos(H),C=Math.sin(H),I=function(z){return z.toFixed(4)},B=[I(ce),I(C),I(-1*C),I(ce),0,0,"cm"]}this.internal.write("q"),H?(this.internal.write([1,"0","0",1,V(A),W(S+U),"cm"].join(" ")),this.internal.write(B.join(" ")),this.internal.write([V(M),"0","0",V(U),"0","0","cm"].join(" "))):this.internal.write([V(M),"0","0",V(U),V(A),W(S+U),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},x=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(A){var S,M,U=0;if(typeof A=="string")for(M=A.length,S=0;S<M;S++)U=(U<<5)-U+A.charCodeAt(S),U|=0;else if(D(A))for(M=A.byteLength/2,S=0;S<M;S++)U=(U<<5)-U+A[S],U|=0;return U},w=e.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var S=!0;return A.length===0&&(S=!1),A.length%4!=0&&(S=!1),/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))===!1&&(S=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))===!1&&(S=!1),S},P=e.__addimage__.extractImageFromDataUrl=function(A){var S=(A=A||"").split("base64,"),M=null;if(S.length===2){var U=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(S[0]);Array.isArray(U)&&(M={mimeType:U[1],charset:U[2],data:S[1]})}return M},E=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(A){return E()&&A instanceof ArrayBuffer};var D=e.__addimage__.isArrayBufferView=function(A){return E()&&typeof Uint32Array<"u"&&(A instanceof Int8Array||A instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array)},N=e.__addimage__.binaryStringToUint8Array=function(A){for(var S=A.length,M=new Uint8Array(S),U=0;U<S;U++)M[U]=A.charCodeAt(U);return M},k=e.__addimage__.arrayBufferToBinaryString=function(A){for(var S="",M=D(A)?A:new Uint8Array(A),U=0;U<M.length;U+=8192)S+=String.fromCharCode.apply(null,M.subarray(U,U+8192));return S};e.addImage=function(){var A,S,M,U,G,H,q,V,W;if(typeof arguments[1]=="number"?(S=t,M=arguments[1],U=arguments[2],G=arguments[3],H=arguments[4],q=arguments[5],V=arguments[6],W=arguments[7]):(S=arguments[1],M=arguments[2],U=arguments[3],G=arguments[4],H=arguments[5],q=arguments[6],V=arguments[7],W=arguments[8]),tr(A=arguments[0])==="object"&&!d(A)&&"imageData"in A){var ne=A;A=ne.imageData,S=ne.format||S||t,M=ne.x||M||0,U=ne.y||U||0,G=ne.w||ne.width||G,H=ne.h||ne.height||H,q=ne.alias||q,V=ne.compression||V,W=ne.rotation||ne.angle||W}var ce=this.internal.getFilters();if(V===void 0&&ce.indexOf("FlateEncode")!==-1&&(V="SLOW"),isNaN(M)||isNaN(U))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var C=F.call(this,A,S,q,V);return p.call(this,M,U,G,H,C,W),this};var F=function(A,S,M,U){var G,H,q;if(typeof A=="string"&&n(A)===t){A=unescape(A);var V=L(A,!1);(V!==""||(V=e.loadFile(A,!0))!==void 0)&&(A=V)}if(d(A)&&(A=m(A,S)),S=n(A,S),!f(S))throw new Error("addImage does not support files of type '"+S+"', please ensure that a plugin for '"+S+"' support is added.");if(((q=M)==null||q.length===0)&&(M=function(W){return typeof W=="string"||D(W)?_(W):D(W.data)?_(W.data):null}(A)),(G=h.call(this,M))||(E()&&(A instanceof Uint8Array||S==="RGBA"||(H=A,A=N(A))),G=this["process"+S.toUpperCase()](A,u.call(this),M,function(W){return W&&typeof W=="string"&&(W=W.toUpperCase()),W in e.image_compression?W:y.NONE}(U),H)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},L=e.__addimage__.convertBase64ToBinaryString=function(A,S){var M;S=typeof S!="boolean"||S;var U,G="";if(typeof A=="string"){U=(M=P(A))!==null?M.data:A;try{G=ed(U)}catch(H){if(S)throw w(U)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+H.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};e.getImageProperties=function(A){var S,M,U="";if(d(A)&&(A=m(A)),typeof A=="string"&&n(A)===t&&((U=L(A,!1))===""&&(U=e.loadFile(A)||""),A=U),M=n(A),!f(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(!E()||A instanceof Uint8Array||(A=N(A)),!(S=this["process"+M.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return S.fileType=M,S}})(Et.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Et.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,f=!1,d=0;d<u.length&&!f;d++)switch((n=u[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){n=u[m];var h=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(p.objId),_=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+h(y(n.contents))+")",i+=" /Popup "+x.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+h(y(_))+") >>",p.content=i;var w=p.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(i+=" /Open true"),i+=" >>",x.content=i,this.internal.write(p.objId,"0 R",x.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var P=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+h(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+P+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var E=this.annotations._nameMap[n.options.name];n.options.pageNumber=E.page,n.options.top=E.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+h(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var D=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+D+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var f=this.splitTextToSize(r,o).length;s=Math.ceil(u*f)}else o=c,s=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,o,s,i),c},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Et.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(p){return t[p.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},o=e.__arabicParser__.isArabicEndLetter=function(p){return s(p)&&i(p)&&t[p.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(p){return s(p)&&a.indexOf(p.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return s(p)&&i(p)&&t[p.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(p){return s(p)&&i(p)&&t[p.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(p){return s(p)&&i(p)&&t[p.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(p){return s(p)&&i(p)&&t[p.charCodeAt(0)].length==4},d=e.__arabicParser__.resolveLigatures=function(p){var x=0,y=r,_="",w=0;for(x=0;x<p.length;x+=1)y[p.charCodeAt(x)]!==void 0?(w++,typeof(y=y[p.charCodeAt(x)])=="number"&&(_+=String.fromCharCode(y),y=r,w=0),x===p.length-1&&(y=r,_+=p.charAt(x-(w-1)),x-=w-1,w=0)):(y=r,_+=p.charAt(x-w),x-=w,w=0);return _};e.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&n[p.charCodeAt(0)]!==void 0};var m=e.__arabicParser__.getCorrectForm=function(p,x,y){return s(p)?i(p)===!1?-1:!u(p)||!s(x)&&!s(y)||!s(y)&&o(x)||o(p)&&!s(x)||o(p)&&c(x)||o(p)&&o(x)?0:f(p)&&s(x)&&!o(x)&&s(y)&&u(y)?3:o(p)||!s(y)?1:2:-1},h=function(p){var x=0,y=0,_=0,w="",P="",E="",D=(p=p||"").split("\\s+"),N=[];for(x=0;x<D.length;x+=1){for(N.push(""),y=0;y<D[x].length;y+=1)w=D[x][y],P=D[x][y-1],E=D[x][y+1],s(w)?(_=m(w,P,E),N[x]+=_!==-1?String.fromCharCode(t[w.charCodeAt(0)][_]):w):N[x]+=w;N[x]=d(N[x])}return N.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var p,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(x)){var _=0;for(y=[],_=0;_<x.length;_+=1)Array.isArray(x[_])?y.push([h(x[_][0]),x[_][1],x[_][2]]):y.push([h(x[_])]);p=y}else p=h(x);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};e.events.push(["preProcessText",g])}(Et.API),Et.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Et.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(p){m=p}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(p){g=p}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,u){n.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),d=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,h=0,g=0,p=0,x=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var y=u.maxWidth;y>0?typeof c=="string"?c=this.splitTextToSize(c,y):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(w,P){return w.concat(x.splitTextToSize(P,y))},[])):c=Array.isArray(c)?c:[c];for(var _=0;_<c.length;_++)h<(p=this.getStringUnitWidth(c[_],{font:d})*f)&&(h=p);return h!==0&&(g=c.length),{w:h/=m,h:Math.max((g*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/m,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,d=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=d.top,h&&m&&(this.printHeaderRow(c.lineNumber,!0),c.y+=m[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};e.table=function(c,u,f,d,m){if(n.call(this),!f)throw new Error("No data for PDF table.");var h,g,p,x,y=[],_=[],w=[],P={},E={},D=[],N=[],k=(m=m||{}).autoSize||!1,F=m.printHeaders!==!1,L=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,A=m.margins||Object.assign({width:this.getPageWidth()},t),S=typeof m.padding=="number"?m.padding:3,M=m.headerBackgroundColor||"#c8c8c8",U=m.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=F,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=L,this.internal.__cell__.padding=S,this.internal.__cell__.headerBackgroundColor=M,this.internal.__cell__.headerTextColor=U,this.setFontSize(L),d==null)_=y=Object.keys(f[0]),w=y.map(function(){return"left"});else if(Array.isArray(d)&&tr(d[0])==="object")for(y=d.map(function(ne){return ne.name}),_=d.map(function(ne){return ne.prompt||ne.name||""}),w=d.map(function(ne){return ne.align||"left"}),h=0;h<d.length;h+=1)E[d[h].name]=d[h].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(_=y=d,w=y.map(function(){return"left"}));if(k||Array.isArray(d)&&typeof d[0]=="string")for(h=0;h<y.length;h+=1){for(P[x=y[h]]=f.map(function(ne){return ne[x]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(_[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=P[x],this.setFont(void 0,"normal"),p=0;p<g.length;p+=1)D.push(this.getTextDimensions(g[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);E[x]=Math.max.apply(null,D)+S+S,D=[]}if(F){var G={};for(h=0;h<y.length;h+=1)G[y[h]]={},G[y[h]].text=_[h],G[y[h]].align=w[h];var H=o.call(this,G,E);N=y.map(function(ne){return new i(c,u,E[ne],H,G[ne].text,void 0,G[ne].align)}),this.setTableHeaderRow(N),this.printHeaderRow(1,!1)}var q=d.reduce(function(ne,ce){return ne[ce.name]=ce.align,ne},{});for(h=0;h<f.length;h+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:h,data:f[h]},this);var V=o.call(this,f[h],E);for(p=0;p<y.length;p+=1){var W=f[h][y[p]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:h,col:p,data:W},this),s.call(this,new i(c,u,E[y[p]],V,W,h+2,q[y[p]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var f=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(c).map(function(h){var g=c[h];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,u[h]-f-f)},this).map(function(h){return this.getLineHeightFactor()*h.length*d/m+f+f},this).reduce(function(h,g){return Math.max(h,g)},0)};e.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){f=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,m.push(f)),f.lineNumber=c;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,f),this.setTextColor(g)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}}(Et.API);var z3={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},H3=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ov=W3(H3),V3=[100,200,300,400,500,600,700,800,900],B$=W3(V3);function kv(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return z3[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof Ov[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function q5(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var U$={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},W5={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function z5(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function $$(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},U$,r.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=kv(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+z5(i)+"' and default family '"+n+"'.");if(s=function(c,u){if(u[c])return u[c];var f=Ov[c],d=f<=Ov.normal?-1:1,m=q5(u,H3,f,d);if(!m)throw new Error("Could not find a matching font-stretch value for "+c);return m}(i.stretch,s),s=function(c,u){if(u[c])return u[c];for(var f=z3[c],d=0;d<f.length;++d)if(u[f[d]])return u[f[d]];throw new Error("Could not find a matching font-style for "+c)}(i.style,s),!(s=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var f=B$[c],d=q5(u,V3,f,c<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+c);return d}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+z5(i)+"'.");return s}function H5(e){return e.trimLeft()}function q$(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function W$(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var ih,V5,G5,O1=["times"];(function(e){var t,r,n,a,i,s,o,c,u,f=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new c,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new s,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new s,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new d(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new f}]);var d=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var I=C;Object.defineProperty(this,"pdf",{get:function(){return I}});var B=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return B},set:function(De){B=!!De}});var z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return z},set:function(De){z=!!De}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(De){isNaN(De)||(Z=De)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(De){isNaN(De)||(ge=De)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(De){var fe;typeof De=="number"?fe=[De,De,De,De]:((fe=new Array(4))[0]=De[0],fe[1]=De.length>=2?De[1]:fe[0],fe[2]=De.length>=3?De[2]:fe[0],fe[3]=De.length>=4?De[3]:fe[1]),u.margin=fe}});var pe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return pe},set:function(De){pe=De}});var te=0;Object.defineProperty(this,"lastBreak",{get:function(){return te},set:function(De){te=De}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(De){be=De}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(De){De instanceof f&&(u=De)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(De){u.path=De}});var Te=[];Object.defineProperty(this,"ctxStack",{get:function(){return Te},set:function(De){Te=De}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(De){var fe;fe=m(De),this.ctx.fillStyle=fe.style,this.ctx.isFillTransparent=fe.a===0,this.ctx.fillOpacity=fe.a,this.pdf.setFillColor(fe.r,fe.g,fe.b,{a:fe.a}),this.pdf.setTextColor(fe.r,fe.g,fe.b,{a:fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(De){var fe=m(De);this.ctx.strokeStyle=fe.style,this.ctx.isStrokeTransparent=fe.a===0,this.ctx.strokeOpacity=fe.a,fe.a===0?this.pdf.setDrawColor(255,255,255):(fe.a,this.pdf.setDrawColor(fe.r,fe.g,fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(De){["butt","round","square"].indexOf(De)!==-1&&(this.ctx.lineCap=De,this.pdf.setLineCap(De))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(De){isNaN(De)||(this.ctx.lineWidth=De,this.pdf.setLineWidth(De))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(De){["bevel","round","miter"].indexOf(De)!==-1&&(this.ctx.lineJoin=De,this.pdf.setLineJoin(De))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(De){isNaN(De)||(this.ctx.miterLimit=De,this.pdf.setMiterLimit(De))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(De){this.ctx.textBaseline=De}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(De){["right","end","center","left","start"].indexOf(De)!==-1&&(this.ctx.textAlign=De)}});var ye=null;function Ze(De,fe){if(ye===null){var Ve=function(ft){var et=[];return Object.keys(ft).forEach(function(se){ft[se].forEach(function(xe){var we=null;switch(xe){case"bold":we={family:se,weight:"bold"};break;case"italic":we={family:se,style:"italic"};break;case"bolditalic":we={family:se,weight:"bold",style:"italic"};break;case"":case"normal":we={family:se}}we!==null&&(we.ref={name:se,style:xe},et.push(we))})}),et}(De.getFontList());ye=function(ft){for(var et={},se=0;se<ft.length;++se){var xe=kv(ft[se]),we=xe.family,qe=xe.stretch,Re=xe.style,Be=xe.weight;et[we]=et[we]||{},et[we][qe]=et[we][qe]||{},et[we][qe][Re]=et[we][qe][Re]||{},et[we][qe][Re][Be]=xe}return et}(Ve.concat(fe))}return ye}var Ke=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ke},set:function(De){ye=null,Ke=De}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(De){var fe;if(this.ctx.font=De,(fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(De))!==null){var Ve=fe[1],ft=(fe[2],fe[3]),et=fe[4],se=(fe[5],fe[6]),xe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(et)[2];et=Math.floor(xe==="px"?parseFloat(et)*this.pdf.internal.scaleFactor:xe==="em"?parseFloat(et)*this.pdf.getFontSize():parseFloat(et)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(et);var we=function(gt){var Tt,st,Fr=[],Mt=gt.trim();if(Mt==="")return O1;if(Mt in W5)return[W5[Mt]];for(;Mt!=="";){switch(st=null,Tt=(Mt=H5(Mt)).charAt(0)){case'"':case"'":st=q$(Mt.substring(1),Tt);break;default:st=W$(Mt)}if(st===null||(Fr.push(st[0]),(Mt=H5(st[1]))!==""&&Mt.charAt(0)!==","))return O1;Mt=Mt.replace(/^,/,"")}return Fr}(se);if(this.fontFaces){var qe=$$(Ze(this.pdf,this.fontFaces),we.map(function(gt){return{family:gt,stretch:"normal",weight:ft,style:Ve}}));this.pdf.setFont(qe.ref.name,qe.ref.style)}else{var Re="";(ft==="bold"||parseInt(ft,10)>=700||Ve==="bold")&&(Re="bold"),Ve==="italic"&&(Re+="italic"),Re.length===0&&(Re="normal");for(var Be="",nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},pt=0;pt<we.length;pt++){if(this.pdf.internal.getFont(we[pt],Re,{noFallback:!0,disableWarning:!0})!==void 0){Be=we[pt];break}if(Re==="bolditalic"&&this.pdf.internal.getFont(we[pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Be=we[pt],Re="bold";else if(this.pdf.internal.getFont(we[pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Be=we[pt],Re="normal";break}}if(Be===""){for(var ct=0;ct<we.length;ct++)if(nt[we[ct]]){Be=nt[we[ct]];break}}Be=Be===""?"Times":Be,this.pdf.setFont(Be,Re)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(De){this.ctx.globalCompositeOperation=De}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(De){this.ctx.globalAlpha=De}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(De){this.ctx.lineDashOffset=De,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(De){this.ctx.lineDash=De,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(De){this.ctx.ignoreClearRect=!!De}})};d.prototype.setLineDash=function(C){this.lineDash=C},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){P.call(this,"fill",!1)},d.prototype.stroke=function(){P.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(C,I){if(isNaN(C)||isNaN(I))throw vr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var B=this.ctx.transform.applyToPoint(new s(C,I));this.path.push({type:"mt",x:B.x,y:B.y}),this.ctx.lastPoint=new s(C,I)},d.prototype.closePath=function(){var C=new s(0,0),I=0;for(I=this.path.length-1;I!==-1;I--)if(this.path[I].type==="begin"&&tr(this.path[I+1])==="object"&&typeof this.path[I+1].x=="number"){C=new s(this.path[I+1].x,this.path[I+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(C.x,C.y)},d.prototype.lineTo=function(C,I){if(isNaN(C)||isNaN(I))throw vr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var B=this.ctx.transform.applyToPoint(new s(C,I));this.path.push({type:"lt",x:B.x,y:B.y}),this.ctx.lastPoint=new s(B.x,B.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),P.call(this,null,!0)},d.prototype.quadraticCurveTo=function(C,I,B,z){if(isNaN(B)||isNaN(z)||isNaN(C)||isNaN(I))throw vr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new s(B,z)),ge=this.ctx.transform.applyToPoint(new s(C,I));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(Z.x,Z.y)},d.prototype.bezierCurveTo=function(C,I,B,z,Z,ge){if(isNaN(Z)||isNaN(ge)||isNaN(C)||isNaN(I)||isNaN(B)||isNaN(z))throw vr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var pe=this.ctx.transform.applyToPoint(new s(Z,ge)),te=this.ctx.transform.applyToPoint(new s(C,I)),be=this.ctx.transform.applyToPoint(new s(B,z));this.path.push({type:"bct",x1:te.x,y1:te.y,x2:be.x,y2:be.y,x:pe.x,y:pe.y}),this.ctx.lastPoint=new s(pe.x,pe.y)},d.prototype.arc=function(C,I,B,z,Z,ge){if(isNaN(C)||isNaN(I)||isNaN(B)||isNaN(z)||isNaN(Z))throw vr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var pe=this.ctx.transform.applyToPoint(new s(C,I));C=pe.x,I=pe.y;var te=this.ctx.transform.applyToPoint(new s(0,B)),be=this.ctx.transform.applyToPoint(new s(0,0));B=Math.sqrt(Math.pow(te.x-be.x,2)+Math.pow(te.y-be.y,2))}Math.abs(Z-z)>=2*Math.PI&&(z=0,Z=2*Math.PI),this.path.push({type:"arc",x:C,y:I,radius:B,startAngle:z,endAngle:Z,counterclockwise:ge})},d.prototype.arcTo=function(C,I,B,z,Z){throw new Error("arcTo not implemented.")},d.prototype.rect=function(C,I,B,z){if(isNaN(C)||isNaN(I)||isNaN(B)||isNaN(z))throw vr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,I),this.lineTo(C+B,I),this.lineTo(C+B,I+z),this.lineTo(C,I+z),this.lineTo(C,I),this.lineTo(C+B,I),this.lineTo(C,I)},d.prototype.fillRect=function(C,I,B,z){if(isNaN(C)||isNaN(I)||isNaN(B)||isNaN(z))throw vr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,I,B,z),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},d.prototype.strokeRect=function(C,I,B,z){if(isNaN(C)||isNaN(I)||isNaN(B)||isNaN(z))throw vr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(C,I,B,z),this.stroke())},d.prototype.clearRect=function(C,I,B,z){if(isNaN(C)||isNaN(I)||isNaN(B)||isNaN(z))throw vr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,I,B,z))},d.prototype.save=function(C){C=typeof C!="boolean"||C;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("q");if(this.pdf.setPage(I),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var z=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=z}},d.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var I=this.pdf.internal.getCurrentPageInfo().pageNumber,B=0;B<this.pdf.internal.getNumberOfPages();B++)this.pdf.setPage(B+1),this.pdf.internal.out("Q");this.pdf.setPage(I),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(C){var I,B,z,Z;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))I=0,B=0,z=0,Z=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(ge!==null)I=parseInt(ge[1]),B=parseInt(ge[2]),z=parseInt(ge[3]),Z=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)I=parseInt(ge[1]),B=parseInt(ge[2]),z=parseInt(ge[3]),Z=parseFloat(ge[4]);else{if(Z=1,typeof C=="string"&&C.charAt(0)!=="#"){var pe=new M3(C);C=pe.ok?pe.toHex():"#000000"}C.length===4?(I=C.substring(1,2),I+=I,B=C.substring(2,3),B+=B,z=C.substring(3,4),z+=z):(I=C.substring(1,3),B=C.substring(3,5),z=C.substring(5,7)),I=parseInt(I,16),B=parseInt(B,16),z=parseInt(z,16)}}return{r:I,g:B,b:z,a:Z,style:C}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(C,I,B,z){if(isNaN(I)||isNaN(B)||typeof C!="string")throw vr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(z=isNaN(z)?void 0:z,!h.call(this)){var Z=V(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;S.call(this,{text:C,x:I,y:B,scale:ge,angle:Z,align:this.textAlign,maxWidth:z})}},d.prototype.strokeText=function(C,I,B,z){if(isNaN(I)||isNaN(B)||typeof C!="string")throw vr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){z=isNaN(z)?void 0:z;var Z=V(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;S.call(this,{text:C,x:I,y:B,scale:ge,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:z})}},d.prototype.measureText=function(C){if(typeof C!="string")throw vr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var I=this.pdf,B=this.pdf.internal.scaleFactor,z=I.internal.getFontSize(),Z=I.getStringUnitWidth(C)*z/I.internal.scaleFactor,ge=function(pe){var te=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return te}}),this};return new ge({width:Z*=Math.round(96*B/72*1e4)/1e4})},d.prototype.scale=function(C,I){if(isNaN(C)||isNaN(I))throw vr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var B=new c(C,0,0,I,0,0);this.ctx.transform=this.ctx.transform.multiply(B)},d.prototype.rotate=function(C){if(isNaN(C))throw vr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var I=new c(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(I)},d.prototype.translate=function(C,I){if(isNaN(C)||isNaN(I))throw vr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var B=new c(1,0,0,1,C,I);this.ctx.transform=this.ctx.transform.multiply(B)},d.prototype.transform=function(C,I,B,z,Z,ge){if(isNaN(C)||isNaN(I)||isNaN(B)||isNaN(z)||isNaN(Z)||isNaN(ge))throw vr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var pe=new c(C,I,B,z,Z,ge);this.ctx.transform=this.ctx.transform.multiply(pe)},d.prototype.setTransform=function(C,I,B,z,Z,ge){C=isNaN(C)?1:C,I=isNaN(I)?0:I,B=isNaN(B)?0:B,z=isNaN(z)?1:z,Z=isNaN(Z)?0:Z,ge=isNaN(ge)?0:ge,this.ctx.transform=new c(C,I,B,z,Z,ge)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(C,I,B,z,Z,ge,pe,te,be){var Te=this.pdf.getImageProperties(C),ye=1,Ze=1,Ke=1,De=1;z!==void 0&&te!==void 0&&(Ke=te/z,De=be/Z,ye=Te.width/z*te/z,Ze=Te.height/Z*be/Z),ge===void 0&&(ge=I,pe=B,I=0,B=0),z!==void 0&&te===void 0&&(te=z,be=Z),z===void 0&&te===void 0&&(te=Te.width,be=Te.height);for(var fe,Ve=this.ctx.transform.decompose(),ft=V(Ve.rotate.shx),et=new c,se=(et=(et=(et=et.multiply(Ve.translate)).multiply(Ve.skew)).multiply(Ve.scale)).applyToRectangle(new o(ge-I*Ke,pe-B*De,z*ye,Z*Ze)),xe=x.call(this,se),we=[],qe=0;qe<xe.length;qe+=1)we.indexOf(xe[qe])===-1&&we.push(xe[qe]);if(w(we),this.autoPaging)for(var Re=we[0],Be=we[we.length-1],nt=Re;nt<Be+1;nt++){this.pdf.setPage(nt);var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ct=nt===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=nt===1?0:gt+(nt-2)*Tt;if(this.ctx.clip_path.length!==0){var Fr=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(fe,this.posX+this.margin[3],-st+ct+this.ctx.prevPageLastElemOffset),E.call(this,"fill",!0),this.path=Fr}var Mt=JSON.parse(JSON.stringify(se));Mt=_([Mt],this.posX+this.margin[3],-st+ct+this.ctx.prevPageLastElemOffset)[0];var Br=(nt>Re||nt<Be)&&p.call(this);Br&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,Tt,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",Mt.x,Mt.y,Mt.w,Mt.h,null,null,ft),Br&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(C,"JPEG",se.x,se.y,se.w,se.h,null,null,ft)};var x=function(C,I,B){var z=[];I=I||this.pdf.internal.pageSize.width,B=B||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":z.push(Math.floor((C.y+Z)/B)+1);break;case"arc":z.push(Math.floor((C.y+Z-C.radius)/B)+1),z.push(Math.floor((C.y+Z+C.radius)/B)+1);break;case"qct":var ge=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);z.push(Math.floor((ge.y+Z)/B)+1),z.push(Math.floor((ge.y+ge.h+Z)/B)+1);break;case"bct":var pe=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);z.push(Math.floor((pe.y+Z)/B)+1),z.push(Math.floor((pe.y+pe.h+Z)/B)+1);break;case"rect":z.push(Math.floor((C.y+Z)/B)+1),z.push(Math.floor((C.y+C.h+Z)/B)+1)}for(var te=0;te<z.length;te+=1)for(;this.pdf.internal.getNumberOfPages()<z[te];)y.call(this);return z},y=function(){var C=this.fillStyle,I=this.strokeStyle,B=this.font,z=this.lineCap,Z=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=I,this.font=B,this.lineCap=z,this.lineWidth=Z,this.lineJoin=ge},_=function(C,I,B){for(var z=0;z<C.length;z++)switch(C[z].type){case"bct":C[z].x2+=I,C[z].y2+=B;case"qct":C[z].x1+=I,C[z].y1+=B;case"mt":case"lt":case"arc":default:C[z].x+=I,C[z].y+=B}return C},w=function(C){return C.sort(function(I,B){return I-B})},P=function(C,I){for(var B,z,Z=this.fillStyle,ge=this.strokeStyle,pe=this.lineCap,te=this.lineWidth,be=Math.abs(te*this.ctx.transform.scaleX),Te=this.lineJoin,ye=JSON.parse(JSON.stringify(this.path)),Ze=JSON.parse(JSON.stringify(this.path)),Ke=[],De=0;De<Ze.length;De++)if(Ze[De].x!==void 0)for(var fe=x.call(this,Ze[De]),Ve=0;Ve<fe.length;Ve+=1)Ke.indexOf(fe[Ve])===-1&&Ke.push(fe[Ve]);for(var ft=0;ft<Ke.length;ft++)for(;this.pdf.internal.getNumberOfPages()<Ke[ft];)y.call(this);if(w(Ke),this.autoPaging)for(var et=Ke[0],se=Ke[Ke.length-1],xe=et;xe<se+1;xe++){this.pdf.setPage(xe),this.fillStyle=Z,this.strokeStyle=ge,this.lineCap=pe,this.lineWidth=be,this.lineJoin=Te;var we=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qe=xe===1?this.posY+this.margin[0]:this.margin[0],Re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=xe===1?0:Re+(xe-2)*Be;if(this.ctx.clip_path.length!==0){var pt=this.path;B=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(B,this.posX+this.margin[3],-nt+qe+this.ctx.prevPageLastElemOffset),E.call(this,C,!0),this.path=pt}if(z=JSON.parse(JSON.stringify(ye)),this.path=_(z,this.posX+this.margin[3],-nt+qe+this.ctx.prevPageLastElemOffset),I===!1||xe===0){var ct=(xe>et||xe<se)&&p.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],we,Be,null).clip().discardPath()),E.call(this,C,I),ct&&this.pdf.restoreGraphicsState()}this.lineWidth=te}else this.lineWidth=be,E.call(this,C,I),this.lineWidth=te;this.path=ye},E=function(C,I){if((C!=="stroke"||I||!g.call(this))&&(C==="stroke"||I||!h.call(this))){for(var B,z,Z=[],ge=this.path,pe=0;pe<ge.length;pe++){var te=ge[pe];switch(te.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:te,deltas:[],abs:[]});break;case"lt":var be=Z.length;if(ge[pe-1]&&!isNaN(ge[pe-1].x)&&(B=[te.x-ge[pe-1].x,te.y-ge[pe-1].y],be>0)){for(;be>=0;be--)if(Z[be-1].close!==!0&&Z[be-1].begin!==!0){Z[be-1].deltas.push(B),Z[be-1].abs.push(te);break}}break;case"bct":B=[te.x1-ge[pe-1].x,te.y1-ge[pe-1].y,te.x2-ge[pe-1].x,te.y2-ge[pe-1].y,te.x-ge[pe-1].x,te.y-ge[pe-1].y],Z[Z.length-1].deltas.push(B);break;case"qct":var Te=ge[pe-1].x+2/3*(te.x1-ge[pe-1].x),ye=ge[pe-1].y+2/3*(te.y1-ge[pe-1].y),Ze=te.x+2/3*(te.x1-te.x),Ke=te.y+2/3*(te.y1-te.y),De=te.x,fe=te.y;B=[Te-ge[pe-1].x,ye-ge[pe-1].y,Ze-ge[pe-1].x,Ke-ge[pe-1].y,De-ge[pe-1].x,fe-ge[pe-1].y],Z[Z.length-1].deltas.push(B);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(te)}}z=I?null:C==="stroke"?"stroke":"fill";for(var Ve=!1,ft=0;ft<Z.length;ft++)if(Z[ft].arc)for(var et=Z[ft].abs,se=0;se<et.length;se++){var xe=et[se];xe.type==="arc"?k.call(this,xe.x,xe.y,xe.radius,xe.startAngle,xe.endAngle,xe.counterclockwise,void 0,I,!Ve):M.call(this,xe.x,xe.y),Ve=!0}else if(Z[ft].close===!0)this.pdf.internal.out("h"),Ve=!1;else if(Z[ft].begin!==!0){var we=Z[ft].start.x,qe=Z[ft].start.y;U.call(this,Z[ft].deltas,we,qe),Ve=!0}z&&F.call(this,z),I&&L.call(this)}},D=function(C){var I=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,B=I*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-B;case"top":return C+I-B;case"hanging":return C+I-2*B;case"middle":return C+I/2-B;case"ideographic":return C;case"alphabetic":default:return C}},N=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(I,B){this.colorStops.push([I,B])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(C,I,B,z,Z,ge,pe,te,be){for(var Te=H.call(this,B,z,Z,ge),ye=0;ye<Te.length;ye++){var Ze=Te[ye];ye===0&&(be?A.call(this,Ze.x1+C,Ze.y1+I):M.call(this,Ze.x1+C,Ze.y1+I)),G.call(this,C,I,Ze.x2,Ze.y2,Ze.x3,Ze.y3,Ze.x4,Ze.y4)}te?L.call(this):F.call(this,pe)},F=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(C,I){this.pdf.internal.out(r(C)+" "+n(I)+" m")},S=function(C){var I;switch(C.align){case"right":case"end":I="right";break;case"center":I="center";break;case"left":case"start":default:I="left"}var B=this.pdf.getTextDimensions(C.text),z=D.call(this,C.y),Z=N.call(this,z)-B.h,ge=this.ctx.transform.applyToPoint(new s(C.x,z)),pe=this.ctx.transform.decompose(),te=new c;te=(te=(te=te.multiply(pe.translate)).multiply(pe.skew)).multiply(pe.scale);for(var be,Te,ye,Ze=this.ctx.transform.applyToRectangle(new o(C.x,z,B.w,B.h)),Ke=te.applyToRectangle(new o(C.x,Z,B.w,B.h)),De=x.call(this,Ke),fe=[],Ve=0;Ve<De.length;Ve+=1)fe.indexOf(De[Ve])===-1&&fe.push(De[Ve]);if(w(fe),this.autoPaging)for(var ft=fe[0],et=fe[fe.length-1],se=ft;se<et+1;se++){this.pdf.setPage(se);var xe=se===1?this.posY+this.margin[0]:this.margin[0],we=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[2],Re=qe-this.margin[0],Be=this.pdf.internal.pageSize.width-this.margin[1],nt=Be-this.margin[3],pt=se===1?0:we+(se-2)*Re;if(this.ctx.clip_path.length!==0){var ct=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(be,this.posX+this.margin[3],-1*pt+xe),E.call(this,"fill",!0),this.path=ct}var gt=_([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-pt+xe+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*C.scale),ye=this.lineWidth,this.lineWidth=ye*C.scale);var Tt=this.autoPaging!=="text";if(Tt||gt.y+gt.h<=qe){if(Tt||gt.y>=xe&&gt.x<=Be){var st=Tt?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||Be-gt.x)[0],Fr=_([JSON.parse(JSON.stringify(Ze))],this.posX+this.margin[3],-pt+xe+this.ctx.prevPageLastElemOffset)[0],Mt=Tt&&(se>ft||se<et)&&p.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,Re,null).clip().discardPath()),this.pdf.text(st,Fr.x,Fr.y,{angle:C.angle,align:I,renderingMode:C.renderingMode}),Mt&&this.pdf.restoreGraphicsState()}}else gt.y<qe&&(this.ctx.prevPageLastElemOffset+=qe-gt.y);C.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=ye)}else C.scale>=.01&&(Te=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Te*C.scale),ye=this.lineWidth,this.lineWidth=ye*C.scale),this.pdf.text(C.text,ge.x+this.posX,ge.y+this.posY,{angle:C.angle,align:I,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(Te),this.lineWidth=ye)},M=function(C,I,B,z){B=B||0,z=z||0,this.pdf.internal.out(r(C+B)+" "+n(I+z)+" l")},U=function(C,I,B){return this.pdf.lines(C,I,B,null,null)},G=function(C,I,B,z,Z,ge,pe,te){this.pdf.internal.out([t(a(B+C)),t(i(z+I)),t(a(Z+C)),t(i(ge+I)),t(a(pe+C)),t(i(te+I)),"c"].join(" "))},H=function(C,I,B,z){for(var Z=2*Math.PI,ge=Math.PI/2;I>B;)I-=Z;var pe=Math.abs(B-I);pe<Z&&z&&(pe=Z-pe);for(var te=[],be=z?-1:1,Te=I;pe>1e-5;){var ye=Te+be*Math.min(pe,ge);te.push(q.call(this,C,Te,ye)),pe-=Math.abs(ye-Te),Te=ye}return te},q=function(C,I,B){var z=(B-I)/2,Z=C*Math.cos(z),ge=C*Math.sin(z),pe=Z,te=-ge,be=pe*pe+te*te,Te=be+pe*Z+te*ge,ye=4/3*(Math.sqrt(2*be*Te)-Te)/(pe*ge-te*Z),Ze=pe-ye*te,Ke=te+ye*pe,De=Ze,fe=-Ke,Ve=z+I,ft=Math.cos(Ve),et=Math.sin(Ve);return{x1:C*Math.cos(I),y1:C*Math.sin(I),x2:Ze*ft-Ke*et,y2:Ze*et+Ke*ft,x3:De*ft-fe*et,y3:De*et+fe*ft,x4:C*Math.cos(B),y4:C*Math.sin(B)}},V=function(C){return 180*C/Math.PI},W=function(C,I,B,z,Z,ge){var pe=C+.5*(B-C),te=I+.5*(z-I),be=Z+.5*(B-Z),Te=ge+.5*(z-ge),ye=Math.min(C,Z,pe,be),Ze=Math.max(C,Z,pe,be),Ke=Math.min(I,ge,te,Te),De=Math.max(I,ge,te,Te);return new o(ye,Ke,Ze-ye,De-Ke)},ne=function(C,I,B,z,Z,ge,pe,te){var be,Te,ye,Ze,Ke,De,fe,Ve,ft,et,se,xe,we,qe,Re=B-C,Be=z-I,nt=Z-B,pt=ge-z,ct=pe-Z,gt=te-ge;for(Te=0;Te<41;Te++)ft=(fe=(ye=C+(be=Te/40)*Re)+be*((Ke=B+be*nt)-ye))+be*(Ke+be*(Z+be*ct-Ke)-fe),et=(Ve=(Ze=I+be*Be)+be*((De=z+be*pt)-Ze))+be*(De+be*(ge+be*gt-De)-Ve),Te==0?(se=ft,xe=et,we=ft,qe=et):(se=Math.min(se,ft),xe=Math.min(xe,et),we=Math.max(we,ft),qe=Math.max(qe,et));return new o(Math.round(se),Math.round(xe),Math.round(we-se),Math.round(qe-xe))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,I,B=(C=this.ctx.lineDash,I=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:I}));this.prevLineDash!==B&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=B)}}})(Et.API),function(e){var t=function(i){var s,o,c,u,f,d,m,h,g,p;for(o=[],c=0,u=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(f=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(d=(f=((f=((f=((f=(f-(p=f%85))/85)-(g=f%85))/85)-(h=f%85))/85)-(m=f%85))/85)%85,o.push(d+33,m+33,h+33,g+33,p+33)):o.push(122);return function(x,y){for(var _=y;_>0;_--)x.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,c,u,f,d=String,m="length",h=255,g="charCodeAt",p="slice",x="replace";for(i[p](-2),i=i[p](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),c=[],u=0,f=(i+=s="uuuuu"[p](i[m]%5||5))[m];f>u;u+=5)o=52200625*(i[g](u)-33)+614125*(i[g](u+1)-33)+7225*(i[g](u+2)-33)+85*(i[g](u+3)-33)+(i[g](u+4)-33),c.push(h&o>>24,h&o>>16,h&o>>8,h&o);return function(y,_){for(var w=_;w>0;w--)y.pop()}(c,s[m]),d.fromCharCode.apply(d,c)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",c=0;c<i.length;c+=2)o+=String.fromCharCode("0x"+(i[c]+i[c+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=jv(s)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(i,s){var o=0,c=i||"",u=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(Et.API),function(e){e.loadFile=function(t,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(c,u,f){var d=new XMLHttpRequest,m=0,h=function(g){var p=g.length,x=[],y=String.fromCharCode;for(m=0;m<p;m+=1)x.push(y(255&g.charCodeAt(m)));return x.join("")};if(d.open("GET",c,!u),d.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(d.onload=function(){d.status===200?f(h(this.responseText)):f(void 0)}),d.send(null),u&&d.status===200)return h(d.responseText)}(a,i,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(Et.API),function(e){function t(){return(Ct.html2canvas?Promise.resolve(Ct.html2canvas):Go(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(Ct.DOMPurify?Promise.resolve(Ct.DOMPurify):Go(()=>import("./purify.es-2de9db7f.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=tr(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var c=document.createElement(s);for(var u in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[u]=o.style[u];return c},i=function s(o){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),u=s.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:s,dompurify:c})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function c(u,f){for(var d=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)f!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||d.appendChild(c(m,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(d.width=u.width,d.height=u.height,d.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(d.value=u.value),d.addEventListener("load",function(){d.scrollTop=u.scrollTop,d.scrollLeft=u.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var h=u[m],g=h.src.find(function(p){return p.format==="truetype"});g&&c.addFont(g.url,h.ref.name,h.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,c.context2d.save(!0),o(this.prop.container,d)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var c=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(c):c})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(s=s||Et.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,c,u){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,c,u){return this.setProgress(s?this.progress.val+s:null,o||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(s,o){var c=this;return this.thenCore(s,o,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(d){return c.updateProgress(null,u),d}).then(u,f).then(function(d){return c.updateProgress(1),d})})},i.prototype.thenCore=function(s,o,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),f=c.call(u,s,o);return i.convert(f,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(c){o=o.thenCore(c)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Et.getPageSize=function(s,o,c){if(tr(s)==="object"){var u=s;s=u.orientation,o=u.unit||o,c=u.format||c}o=o||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var f,d=(""+c).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+o}var h,g=0,p=0;if(m.hasOwnProperty(d))g=m[d][1]/f,p=m[d][0]/f;else try{g=c[1],p=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",p>g&&(h=p,p=g,g=h);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",g>p&&(h=p,p=g,g=h)}return{width:p,height:g,unit:o,k:f,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(kv):null;var c=new i(o);return o.worker?c:c.from(s).doCallback()}}(Et.API),Et.API.addJS=function(e){return G5=e,this.internal.events.subscribe("postPutResources",function(){ih=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ih+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),V5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+G5+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ih!==void 0&&V5!==void 0&&this.internal.out("/Names <</JavaScript "+ih+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(i=0;i<u;i++){var d=r.internal.newObject();f.push(d);var m=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<f.length;i++)r.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Et.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var c,u=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(d){for(var m,h=256*d.charCodeAt(4)+d.charCodeAt(5),g=d.length,p={width:0,height:0,numcomponents:1},x=4;x<g;x+=2){if(x+=h,t.indexOf(d.charCodeAt(x+1))!==-1){m=256*d.charCodeAt(x+5)+d.charCodeAt(x+6),p={width:256*d.charCodeAt(x+7)+d.charCodeAt(x+8),height:m,numcomponents:d.charCodeAt(x+9)};break}h=256*d.charCodeAt(x+2)+d.charCodeAt(x+3)}return p}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}f={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:a}}return f}}(Et.API);var Kc,sh,K5,Y5,X5,z$=function(){var e,t,r;function n(i){var s,o,c,u,f,d,m,h,g,p,x,y,_,w;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(s=this.readUInt32(),g=(function(){var P,E;for(E=[],P=0;P<4;++P)E.push(String.fromCharCode(this.data[this.pos++]));return E}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),u=this.readUInt16()||100,d.delay=1e3*f/u,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,s-=4),i=(d!=null?d.data:void 0)||this.imgData,y=0;0<=s?y<s:y>s;0<=s?++y:--y)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((p=c-this.transparency.indexed.length)>0)for(_=0;0<=p?_<p:_>p;0<=p?++_:--_)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":m=(x=this.read(s)).indexOf(0),h=String.fromCharCode.apply(String,x.slice(0,m)),this.text[h]=String.fromCharCode.apply(String,x.slice(m+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function f(d,m,h,g){var p,x,y,_,w,P,E,D,N,k,F,L,A,S,M,U,G,H,q,V,W,ne=Math.ceil((u.width-d)/h),ce=Math.ceil((u.height-m)/g),C=u.width==ne&&u.height==ce;for(S=s*ne,L=C?o:new Uint8Array(S*ce),P=i.length,A=0,x=0;A<ce&&c<P;){switch(i[c++]){case 0:for(_=G=0;G<S;_=G+=1)L[x++]=i[c++];break;case 1:for(_=H=0;H<S;_=H+=1)p=i[c++],w=_<s?0:L[x-s],L[x++]=(p+w)%256;break;case 2:for(_=q=0;q<S;_=q+=1)p=i[c++],y=(_-_%s)/s,M=A&&L[(A-1)*S+y*s+_%s],L[x++]=(M+p)%256;break;case 3:for(_=V=0;V<S;_=V+=1)p=i[c++],y=(_-_%s)/s,w=_<s?0:L[x-s],M=A&&L[(A-1)*S+y*s+_%s],L[x++]=(p+Math.floor((w+M)/2))%256;break;case 4:for(_=W=0;W<S;_=W+=1)p=i[c++],y=(_-_%s)/s,w=_<s?0:L[x-s],A===0?M=U=0:(M=L[(A-1)*S+y*s+_%s],U=y&&L[(A-1)*S+(y-1)*s+_%s]),E=w+M-U,D=Math.abs(E-w),k=Math.abs(E-M),F=Math.abs(E-U),N=D<=k&&D<=F?w:k<=F?M:U,L[x++]=(p+N)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!C){var I=((m+A*g)*u.width+d)*s,B=A*S;for(_=0;_<ne;_+=1){for(var z=0;z<s;z+=1)o[I++]=L[B++];I+=(h-1)*s}}A++}}return i=w$(i),u.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,c,u,f,d,m,h;for(o=this.palette,f=this.transparency.indexed||[],u=new Uint8Array((f.length||0)+o.length),c=0,i=0,s=d=0,m=o.length;d<m;s=d+=3)u[c++]=o[s],u[c++]=o[s+1],u[c++]=o[s+2],u[c++]=(h=f[i++])!=null?h:255;return u},n.prototype.copyToImageData=function(i,s){var o,c,u,f,d,m,h,g,p,x,y;if(c=this.colors,p=null,o=this.hasAlphaChannel,this.palette.length&&(p=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),c=4,o=!0),g=(u=i.data||i).length,d=p||s,f=m=0,c===1)for(;f<g;)h=p?4*s[f/4]:m,x=d[h++],u[f++]=x,u[f++]=x,u[f++]=x,u[f++]=o?d[h++]:255,m=h;else for(;f<g;)h=p?4*s[f/4]:m,u[f++]=d[h++],u[f++]=d[h++],u[f++]=d[h++],u[f++]=o?d[h++]:255,m=h},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(Ct)==="[object Window]"){try{t=Ct.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,c,u,f,d,m,h;if(this.animation){for(h=[],o=f=0,d=(m=this.animation.frames).length;f<d;o=++f)s=m[o],c=i.createImageData(s.width,s.height),u=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,u),s.imageData=c,h.push(s.image=e(c));return h}},n.prototype.renderFrame=function(i,s){var o,c,u;return o=(c=this.animation.frames)[s],u=c[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,c,u,f,d,m=this;return o=0,d=this.animation,u=d.numFrames,c=d.frames,f=d.numPlays,(s=function(){var h,g;if(h=o++%u,g=c[h],m.renderFrame(i,h),u>1&&o/u<f)return m.animation._timeout=setTimeout(s,g.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function H$(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var o=null,c=null;i&&(o=t,c=s,t+=3*s);var u=!0,f=[],d=0,m=null,h=0,g=null;for(this.width=r,this.height=n;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var p=e[t++];d=e[t++]|e[t++]<<8,m=e[t++],!(1&p)&&(m=null),h=p>>2&7,t++;break;case 254:for(;;){if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var x=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,P=e[t++],E=P>>6&1,D=1<<(7&P)+1,N=o,k=c,F=!1;P>>7&&(F=!0,N=t,k=D,t+=3*D);var L=t;for(t++;;){var A;if(!((A=e[t++])>=0))throw Error("Invalid block size");if(A===0)break;t+=A}f.push({x,y,width:_,height:w,has_local_palette:F,palette_offset:N,palette_size:k,data_offset:L,data_length:t-L,transparent_index:m,interlaced:!!E,delay:d,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return g},this.frameInfo=function(S){if(S<0||S>=f.length)throw new Error("Frame index out of range.");return f[S]},this.decodeAndBlitFrameBGRA=function(S,M){var U=this.frameInfo(S),G=U.width*U.height,H=new Uint8Array(G);J5(e,U.data_offset,H,G);var q=U.palette_offset,V=U.transparent_index;V===null&&(V=256);var W=U.width,ne=r-W,ce=W,C=4*(U.y*r+U.x),I=4*((U.y+U.height)*r+U.x),B=C,z=4*ne;U.interlaced===!0&&(z+=4*r*7);for(var Z=8,ge=0,pe=H.length;ge<pe;++ge){var te=H[ge];if(ce===0&&(ce=W,(B+=z)>=I&&(z=4*ne+4*r*(Z-1),B=C+(W+ne)*(Z<<1),Z>>=1)),te===V)B+=4;else{var be=e[q+3*te],Te=e[q+3*te+1],ye=e[q+3*te+2];M[B++]=ye,M[B++]=Te,M[B++]=be,M[B++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(S,M){var U=this.frameInfo(S),G=U.width*U.height,H=new Uint8Array(G);J5(e,U.data_offset,H,G);var q=U.palette_offset,V=U.transparent_index;V===null&&(V=256);var W=U.width,ne=r-W,ce=W,C=4*(U.y*r+U.x),I=4*((U.y+U.height)*r+U.x),B=C,z=4*ne;U.interlaced===!0&&(z+=4*r*7);for(var Z=8,ge=0,pe=H.length;ge<pe;++ge){var te=H[ge];if(ce===0&&(ce=W,(B+=z)>=I&&(z=4*ne+4*r*(Z-1),B=C+(W+ne)*(Z<<1),Z>>=1)),te===V)B+=4;else{var be=e[q+3*te],Te=e[q+3*te+1],ye=e[q+3*te+2];M[B++]=be,M[B++]=Te,M[B++]=ye,M[B++]=255}--ce}}}function J5(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,c=a+1,u=(1<<c)-1,f=0,d=0,m=0,h=e[t++],g=new Int32Array(4096),p=null;;){for(;f<16&&h!==0;)d|=e[t++]<<f,f+=8,h===1?h=e[t++]:--h;if(f<c)break;var x=d&u;if(d>>=c,f-=c,x!==i){if(x===s)break;for(var y=x<o?x:p,_=0,w=y;w>i;)w=g[w]>>8,++_;var P=w;if(m+_+(y!==x?1:0)>n)return void vr.log("Warning, gif stream longer than expected.");r[m++]=P;var E=m+=_;for(y!==x&&(r[m++]=P),w=y;_--;)w=g[w],r[--E]=255&w,w>>=8;p!==null&&o<4096&&(g[o++]=p<<8|P,o>=u+1&&c<12&&(++c,u=u<<1|1)),p=x}else o=s+1,u=(1<<(c=a+1))-1,p=null}return m!==n&&vr.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function k1(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),f=new Array(64),d=new Array(65535),m=new Array(65535),h=new Array(64),g=new Array(64),p=[],x=0,y=7,_=new Array(64),w=new Array(64),P=new Array(64),E=new Array(256),D=new Array(2048),N=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],S=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function H(C,I){for(var B=0,z=0,Z=new Array,ge=1;ge<=16;ge++){for(var pe=1;pe<=C[ge];pe++)Z[I[z]]=[],Z[I[z]][0]=B,Z[I[z]][1]=ge,z++,B++;B*=2}return Z}function q(C){for(var I=C[0],B=C[1]-1;B>=0;)I&1<<B&&(x|=1<<y),B--,--y<0&&(x==255?(V(255),V(0)):V(x),y=7,x=0)}function V(C){p.push(C)}function W(C){V(C>>8&255),V(255&C)}function ne(C,I,B,z,Z){for(var ge,pe=Z[0],te=Z[240],be=function(et,se){var xe,we,qe,Re,Be,nt,pt,ct,gt,Tt,st=0;for(gt=0;gt<8;++gt){xe=et[st],we=et[st+1],qe=et[st+2],Re=et[st+3],Be=et[st+4],nt=et[st+5],pt=et[st+6];var Fr=xe+(ct=et[st+7]),Mt=xe-ct,Br=we+pt,qt=we-pt,Yt=qe+nt,Un=qe-nt,Ot=Re+Be,vn=Re-Be,rr=Fr+Ot,va=Fr-Ot,gi=Br+Yt,Gt=Br-Yt;et[st]=rr+gi,et[st+4]=rr-gi;var yt=.707106781*(Gt+va);et[st+2]=va+yt,et[st+6]=va-yt;var zt=.382683433*((rr=vn+Un)-(Gt=qt+Mt)),vi=.5411961*rr+zt,nr=1.306562965*Gt+zt,xa=.707106781*(gi=Un+qt),$n=Mt+xa,Nt=Mt-xa;et[st+5]=Nt+vi,et[st+3]=Nt-vi,et[st+1]=$n+nr,et[st+7]=$n-nr,st+=8}for(st=0,gt=0;gt<8;++gt){xe=et[st],we=et[st+8],qe=et[st+16],Re=et[st+24],Be=et[st+32],nt=et[st+40],pt=et[st+48];var Ur=xe+(ct=et[st+56]),Yr=xe-ct,Pn=we+pt,br=we-pt,Pr=qe+nt,J=qe-nt,he=Re+Be,ie=Re-Be,oe=Ur+he,de=Ur-he,me=Pn+Pr,Oe=Pn-Pr;et[st]=oe+me,et[st+32]=oe-me;var Me=.707106781*(Oe+de);et[st+16]=de+Me,et[st+48]=de-Me;var Ce=.382683433*((oe=ie+J)-(Oe=br+Yr)),ee=.5411961*oe+Ce,le=1.306562965*Oe+Ce,Ee=.707106781*(me=J+br),$e=Yr+Ee,Ge=Yr-Ee;et[st+40]=Ge+ee,et[st+24]=Ge-ee,et[st+8]=$e+le,et[st+56]=$e-le,st++}for(gt=0;gt<64;++gt)Tt=et[gt]*se[gt],h[gt]=Tt>0?Tt+.5|0:Tt-.5|0;return h}(C,I),Te=0;Te<64;++Te)g[N[Te]]=be[Te];var ye=g[0]-B;B=g[0],ye==0?q(z[0]):(q(z[m[ge=32767+ye]]),q(d[ge]));for(var Ze=63;Ze>0&&g[Ze]==0;)Ze--;if(Ze==0)return q(pe),B;for(var Ke,De=1;De<=Ze;){for(var fe=De;g[De]==0&&De<=Ze;)++De;var Ve=De-fe;if(Ve>=16){Ke=Ve>>4;for(var ft=1;ft<=Ke;++ft)q(te);Ve&=15}ge=32767+g[De],q(Z[(Ve<<4)+m[ge]]),q(d[ge]),De++}return Ze!=63&&q(pe),B}function ce(C){C=Math.min(Math.max(C,1),100),i!=C&&(function(I){for(var B=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],z=0;z<64;z++){var Z=s((B[z]*I+50)/100);Z=Math.min(Math.max(Z,1),255),o[N[z]]=Z}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],pe=0;pe<64;pe++){var te=s((ge[pe]*I+50)/100);te=Math.min(Math.max(te,1),255),c[N[pe]]=te}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Te=0,ye=0;ye<8;ye++)for(var Ze=0;Ze<8;Ze++)u[Te]=1/(o[N[Te]]*be[ye]*be[Ze]*8),f[Te]=1/(c[N[Te]]*be[ye]*be[Ze]*8),Te++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),i=C)}this.encode=function(C,I){I&&ce(I),p=new Array,x=0,y=7,W(65496),W(65504),W(16),V(74),V(70),V(73),V(70),V(0),V(1),V(1),V(0),W(1),W(1),V(0),V(0),function(){W(65499),W(132),V(0);for(var we=0;we<64;we++)V(o[we]);V(1);for(var qe=0;qe<64;qe++)V(c[qe])}(),function(we,qe){W(65472),W(17),V(8),W(qe),W(we),V(3),V(1),V(17),V(0),V(2),V(17),V(1),V(3),V(17),V(1)}(C.width,C.height),function(){W(65476),W(418),V(0);for(var we=0;we<16;we++)V(k[we+1]);for(var qe=0;qe<=11;qe++)V(F[qe]);V(16);for(var Re=0;Re<16;Re++)V(L[Re+1]);for(var Be=0;Be<=161;Be++)V(A[Be]);V(1);for(var nt=0;nt<16;nt++)V(S[nt+1]);for(var pt=0;pt<=11;pt++)V(M[pt]);V(17);for(var ct=0;ct<16;ct++)V(U[ct+1]);for(var gt=0;gt<=161;gt++)V(G[gt])}(),W(65498),W(12),V(3),V(1),V(0),V(2),V(17),V(3),V(17),V(0),V(63),V(0);var B=0,z=0,Z=0;x=0,y=7,this.encode.displayName="_encode_";for(var ge,pe,te,be,Te,ye,Ze,Ke,De,fe=C.data,Ve=C.width,ft=C.height,et=4*Ve,se=0;se<ft;){for(ge=0;ge<et;){for(Te=et*se+ge,Ze=-1,Ke=0,De=0;De<64;De++)ye=Te+(Ke=De>>3)*et+(Ze=4*(7&De)),se+Ke>=ft&&(ye-=et*(se+1+Ke-ft)),ge+Ze>=et&&(ye-=ge+Ze-et+4),pe=fe[ye++],te=fe[ye++],be=fe[ye++],_[De]=(D[pe]+D[te+256>>0]+D[be+512>>0]>>16)-128,w[De]=(D[pe+768>>0]+D[te+1024>>0]+D[be+1280>>0]>>16)-128,P[De]=(D[pe+1280>>0]+D[te+1536>>0]+D[be+1792>>0]>>16)-128;B=ne(_,u,B,t,n),z=ne(w,f,z,r,a),Z=ne(P,f,Z,r,a),ge+=32}se+=8}if(y>=0){var xe=[];xe[1]=y+1,xe[0]=(1<<y+1)-1,q(xe)}return W(65497),new Uint8Array(p)},e=e||50,function(){for(var C=String.fromCharCode,I=0;I<256;I++)E[I]=C(I)}(),t=H(k,F),r=H(S,M),n=H(L,A),a=H(U,G),function(){for(var C=1,I=2,B=1;B<=15;B++){for(var z=C;z<I;z++)m[32767+z]=B,d[32767+z]=[],d[32767+z][1]=B,d[32767+z][0]=z;for(var Z=-(I-1);Z<=-C;Z++)m[32767+Z]=B,d[32767+Z]=[],d[32767+Z][1]=B,d[32767+Z][0]=I-1+Z;C<<=1,I<<=1}}(),function(){for(var C=0;C<256;C++)D[C]=19595*C,D[C+256>>0]=38470*C,D[C+512>>0]=7471*C+32768,D[C+768>>0]=-11059*C,D[C+1024>>0]=-21709*C,D[C+1280>>0]=32768*C+8421375,D[C+1536>>0]=-27439*C,D[C+1792>>0]=-5329*C}(),ce(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ji(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Z5(e){function t(k){if(!k)throw Error("assert :P")}function r(k,F,L){for(var A=0;4>A;A++)if(k[F+A]!=L.charCodeAt(A))return!0;return!1}function n(k,F,L,A,S){for(var M=0;M<S;M++)k[F+M]=L[A+M]}function a(k,F,L,A){for(var S=0;S<A;S++)k[F+S]=L}function i(k){return new Int32Array(k)}function s(k,F){for(var L=[],A=0;A<k;A++)L.push(new F);return L}function o(k,F){var L=[];return function A(S,M,U){for(var G=U[M],H=0;H<G&&(S.push(U.length>M+1?[]:new F),!(U.length<M+1));H++)A(S[H],M+1,U)}(L,0,k),L}var c=function(){var k=this;function F(v,b){for(var O=1<<b-1>>>0;v&O;)O>>>=1;return O?(v&O-1)+O:v}function L(v,b,O,R,K){t(!(R%O));do v[b+(R-=O)]=K;while(0<R)}function A(v,b,O,R,K){if(t(2328>=K),512>=K)var X=i(512);else if((X=i(K))==null)return 0;return function(Q,re,ae,ue,Se,ke){var Le,je,Qe=re,Ue=1<<ae,Ne=i(16),Ae=i(16);for(t(Se!=0),t(ue!=null),t(Q!=null),t(0<ae),je=0;je<Se;++je){if(15<ue[je])return 0;++Ne[ue[je]]}if(Ne[0]==Se)return 0;for(Ae[1]=0,Le=1;15>Le;++Le){if(Ne[Le]>1<<Le)return 0;Ae[Le+1]=Ae[Le]+Ne[Le]}for(je=0;je<Se;++je)Le=ue[je],0<ue[je]&&(ke[Ae[Le]++]=je);if(Ae[15]==1)return(ue=new S).g=0,ue.value=ke[0],L(Q,Qe,1,Ue,ue),Ue;var Ye,rt=-1,Je=Ue-1,xt=0,dt=1,Pt=1,mt=1<<ae;for(je=0,Le=1,Se=2;Le<=ae;++Le,Se<<=1){if(dt+=Pt<<=1,0>(Pt-=Ne[Le]))return 0;for(;0<Ne[Le];--Ne[Le])(ue=new S).g=Le,ue.value=ke[je++],L(Q,Qe+xt,Se,mt,ue),xt=F(xt,Le)}for(Le=ae+1,Se=2;15>=Le;++Le,Se<<=1){if(dt+=Pt<<=1,0>(Pt-=Ne[Le]))return 0;for(;0<Ne[Le];--Ne[Le]){if(ue=new S,(xt&Je)!=rt){for(Qe+=mt,Ye=1<<(rt=Le)-ae;15>rt&&!(0>=(Ye-=Ne[rt]));)++rt,Ye<<=1;Ue+=mt=1<<(Ye=rt-ae),Q[re+(rt=xt&Je)].g=Ye+ae,Q[re+rt].value=Qe-re-rt}ue.g=Le-ae,ue.value=ke[je++],L(Q,Qe+(xt>>ae),Se,mt,ue),xt=F(xt,Le)}}return dt!=2*Ae[15]-1?0:Ue}(v,b,O,R,K,X)}function S(){this.value=this.g=0}function M(){this.value=this.g=0}function U(){this.G=s(5,S),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(qn,M)}function G(v,b,O,R){t(v!=null),t(b!=null),t(2147483648>R),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=b,v.pa=O,v.Jd=b,v.Yc=O+R,v.Zc=4<=R?O+R-4+1:O,ge(v)}function H(v,b){for(var O=0;0<b--;)O|=te(v,128)<<b;return O}function q(v,b){var O=H(v,b);return pe(v)?-O:O}function V(v,b,O,R){var K,X=0;for(t(v!=null),t(b!=null),t(4294967288>R),v.Sb=R,v.Ra=0,v.u=0,v.h=0,4<R&&(R=4),K=0;K<R;++K)X+=b[O+K]<<8*K;v.Ra=X,v.bb=R,v.oa=b,v.pa=O}function W(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<kc-8>>>0,++v.bb,v.u-=8;B(v)&&(v.h=1,v.u=0)}function ne(v,b){if(t(0<=b),!v.h&&b<=Oc){var O=I(v)&Cc[b];return v.u+=b,W(v),O}return v.h=1,v.u=0}function ce(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function I(v){return v.Ra>>>(v.u&kc-1)>>>0}function B(v){return t(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>kc}function z(v,b){v.u=b,v.h=B(v)}function Z(v){v.u>=uf&&(t(v.u>=uf),W(v))}function ge(v){t(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(t(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function pe(v){return H(v,1)}function te(v,b){var O=v.Ca;0>v.b&&ge(v);var R=v.b,K=O*b>>>8,X=(v.I>>>R>K)+0;for(X?(O-=K,v.I-=K+1<<R>>>0):O=K+1,R=O,K=0;256<=R;)K+=8,R>>=8;return R=7^K+La[R],v.b-=R,v.Ca=(O<<R)-1,X}function be(v,b,O){v[b+0]=O>>24&255,v[b+1]=O>>16&255,v[b+2]=O>>8&255,v[b+3]=O>>0&255}function Te(v,b){return v[b+0]<<0|v[b+1]<<8}function ye(v,b){return Te(v,b)|v[b+2]<<16}function Ze(v,b){return Te(v,b)|Te(v,b+2)<<16}function Ke(v,b){var O=1<<b;return t(v!=null),t(0<b),v.X=i(O),v.X==null?0:(v.Mb=32-b,v.Xa=b,1)}function De(v,b){t(v!=null),t(b!=null),t(v.Xa==b.Xa),n(b.X,0,v.X,0,1<<b.Xa)}function fe(){this.X=[],this.Xa=this.Mb=0}function Ve(v,b,O,R){t(O!=null),t(R!=null);var K=O[0],X=R[0];return K==0&&(K=(v*X+b/2)/b),X==0&&(X=(b*K+v/2)/v),0>=K||0>=X?0:(O[0]=K,R[0]=X,1)}function ft(v,b){return v+(1<<b)-1>>>b}function et(v,b){return((4278255360&v)+(4278255360&b)>>>0&4278255360)+((16711935&v)+(16711935&b)>>>0&16711935)>>>0}function se(v,b){k[b]=function(O,R,K,X,Q,re,ae){var ue;for(ue=0;ue<Q;++ue){var Se=k[v](re[ae+ue-1],K,X+ue);re[ae+ue]=et(O[R+ue],Se)}}}function xe(){this.ud=this.hd=this.jd=0}function we(v,b){return((4278124286&(v^b))>>>1)+(v&b)>>>0}function qe(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function Re(v,b){return qe(v+(v-b+.5>>1))}function Be(v,b,O){return Math.abs(b-O)-Math.abs(v-O)}function nt(v,b,O,R,K,X,Q){for(R=X[Q-1],O=0;O<K;++O)X[Q+O]=R=et(v[b+O],R)}function pt(v,b,O,R,K){var X;for(X=0;X<O;++X){var Q=v[b+X],re=Q>>8&255,ae=16711935&(ae=(ae=16711935&Q)+((re<<16)+re));R[K+X]=(4278255360&Q)+ae>>>0}}function ct(v,b){b.jd=v>>0&255,b.hd=v>>8&255,b.ud=v>>16&255}function gt(v,b,O,R,K,X){var Q;for(Q=0;Q<R;++Q){var re=b[O+Q],ae=re>>>8,ue=re,Se=255&(Se=(Se=re>>>16)+((v.jd<<24>>24)*(ae<<24>>24)>>>5));ue=255&(ue=(ue=ue+((v.hd<<24>>24)*(ae<<24>>24)>>>5))+((v.ud<<24>>24)*(Se<<24>>24)>>>5)),K[X+Q]=(4278255360&re)+(Se<<16)+ue}}function Tt(v,b,O,R,K){k[b]=function(X,Q,re,ae,ue,Se,ke,Le,je){for(ae=ke;ae<Le;++ae)for(ke=0;ke<je;++ke)ue[Se++]=K(re[R(X[Q++])])},k[v]=function(X,Q,re,ae,ue,Se,ke){var Le=8>>X.b,je=X.Ea,Qe=X.K[0],Ue=X.w;if(8>Le)for(X=(1<<X.b)-1,Ue=(1<<Le)-1;Q<re;++Q){var Ne,Ae=0;for(Ne=0;Ne<je;++Ne)Ne&X||(Ae=R(ae[ue++])),Se[ke++]=K(Qe[Ae&Ue]),Ae>>=Le}else k["VP8LMapColor"+O](ae,ue,Qe,Ue,Se,ke,Q,re,je)}}function st(v,b,O,R,K){for(O=b+O;b<O;){var X=v[b++];R[K++]=X>>16&255,R[K++]=X>>8&255,R[K++]=X>>0&255}}function Fr(v,b,O,R,K){for(O=b+O;b<O;){var X=v[b++];R[K++]=X>>16&255,R[K++]=X>>8&255,R[K++]=X>>0&255,R[K++]=X>>24&255}}function Mt(v,b,O,R,K){for(O=b+O;b<O;){var X=(Q=v[b++])>>16&240|Q>>12&15,Q=Q>>0&240|Q>>28&15;R[K++]=X,R[K++]=Q}}function Br(v,b,O,R,K){for(O=b+O;b<O;){var X=(Q=v[b++])>>16&248|Q>>13&7,Q=Q>>5&224|Q>>3&31;R[K++]=X,R[K++]=Q}}function qt(v,b,O,R,K){for(O=b+O;b<O;){var X=v[b++];R[K++]=X>>0&255,R[K++]=X>>8&255,R[K++]=X>>16&255}}function Yt(v,b,O,R,K,X){if(X==0)for(O=b+O;b<O;)be(R,((X=v[b++])[0]>>24|X[1]>>8&65280|X[2]<<8&16711680|X[3]<<24)>>>0),K+=32;else n(R,K,v,b,O)}function Un(v,b){k[b][0]=k[v+"0"],k[b][1]=k[v+"1"],k[b][2]=k[v+"2"],k[b][3]=k[v+"3"],k[b][4]=k[v+"4"],k[b][5]=k[v+"5"],k[b][6]=k[v+"6"],k[b][7]=k[v+"7"],k[b][8]=k[v+"8"],k[b][9]=k[v+"9"],k[b][10]=k[v+"10"],k[b][11]=k[v+"11"],k[b][12]=k[v+"12"],k[b][13]=k[v+"13"],k[b][14]=k[v+"0"],k[b][15]=k[v+"0"]}function Ot(v){return v==zg||v==Hg||v==k0||v==Vg}function vn(){this.eb=[],this.size=this.A=this.fb=0}function rr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function va(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new vn,this.f.kb=new rr,this.sd=null}function gi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Gt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function yt(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function zt(v,b){var O=v.T,R=b.ba.f.RGBA,K=R.eb,X=R.fb+v.ka*R.A,Q=Si[b.ba.S],re=v.y,ae=v.O,ue=v.f,Se=v.N,ke=v.ea,Le=v.W,je=b.cc,Qe=b.dc,Ue=b.Mc,Ne=b.Nc,Ae=v.ka,Ye=v.ka+v.T,rt=v.U,Je=rt+1>>1;for(Ae==0?Q(re,ae,null,null,ue,Se,ke,Le,ue,Se,ke,Le,K,X,null,null,rt):(Q(b.ec,b.fc,re,ae,je,Qe,Ue,Ne,ue,Se,ke,Le,K,X-R.A,K,X,rt),++O);Ae+2<Ye;Ae+=2)je=ue,Qe=Se,Ue=ke,Ne=Le,Se+=v.Rc,Le+=v.Rc,X+=2*R.A,Q(re,(ae+=2*v.fa)-v.fa,re,ae,je,Qe,Ue,Ne,ue,Se,ke,Le,K,X-R.A,K,X,rt);return ae+=v.fa,v.j+Ye<v.o?(n(b.ec,b.fc,re,ae,rt),n(b.cc,b.dc,ue,Se,Je),n(b.Mc,b.Nc,ke,Le,Je),O--):1&Ye||Q(re,ae,null,null,ue,Se,ke,Le,ue,Se,ke,Le,K,X+R.A,null,null,rt),O}function vi(v,b,O){var R=v.F,K=[v.J];if(R!=null){var X=v.U,Q=b.ba.S,re=Q==O0||Q==k0;b=b.ba.f.RGBA;var ae=[0],ue=v.ka;ae[0]=v.T,v.Kb&&(ue==0?--ae[0]:(--ue,K[0]-=v.width),v.j+v.ka+v.T==v.o&&(ae[0]=v.o-v.j-ue));var Se=b.eb;ue=b.fb+ue*b.A,v=_r(R,K[0],v.width,X,ae,Se,ue+(re?0:3),b.A),t(O==ae),v&&Ot(Q)&&wi(Se,ue,re,X,ae,b.A)}return 0}function nr(v){var b=v.ma,O=b.ba.S,R=11>O,K=O==T0||O==C0||O==O0||O==Wg||O==12||Ot(O);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!lf(b.Oa,v,K?11:12))return 0;if(K&&Ot(O)&&at(),v.da)alert("todo:use_scaling");else{if(R){if(b.Ib=yt,v.Kb){if(O=v.U+1>>1,b.memory=i(v.U+2*O),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+v.U,b.Mc=b.cc,b.Nc=b.dc+O,b.Ib=zt,at()}}else alert("todo:EmitYUV");K&&(b.Jb=vi,R&&Pe())}if(R&&!Rb){for(v=0;256>v;++v)BC[v]=89858*(v-128)+D0>>L0,qC[v]=-22014*(v-128)+D0,$C[v]=-45773*(v-128),UC[v]=113618*(v-128)+D0>>L0;for(v=vf;v<Yg;++v)b=76283*(v-16)+D0>>L0,WC[v-vf]=Xa(b,255),zC[v-vf]=Xa(b+8>>4,15);Rb=1}return 1}function xa(v){var b=v.ma,O=v.U,R=v.T;return t(!(1&v.ka)),0>=O||0>=R?0:(O=b.Ib(v,b),b.Jb!=null&&b.Jb(v,b,O),b.Dc+=O,1)}function $n(v){v.ma.memory=null}function Nt(v,b,O,R){return ne(v,8)!=47?0:(b[0]=ne(v,14)+1,O[0]=ne(v,14)+1,R[0]=ne(v,1),ne(v,3)!=0?0:!v.h)}function Ur(v,b){if(4>v)return v+1;var O=v-2>>1;return(2+(1&v)<<O)+ne(b,O)+1}function Yr(v,b){return 120<b?b-120:1<=(O=((O=AC[b-1])>>4)*v+(8-(15&O)))?O:1;var O}function Pn(v,b,O){var R=I(O),K=v[b+=255&R].g-8;return 0<K&&(z(O,O.u+8),R=I(O),b+=v[b].value,b+=R&(1<<K)-1),z(O,O.u+v[b].g),v[b].value}function br(v,b,O){return O.g+=v.g,O.value+=v.value<<b>>>0,t(8>=O.g),v.g}function Pr(v,b,O){var R=v.xc;return t((b=R==0?0:v.vc[v.md*(O>>R)+(b>>R)])<v.Wb),v.Ya[b]}function J(v,b,O,R){var K=v.ab,X=v.c*b,Q=v.C;b=Q+b;var re=O,ae=R;for(R=v.Ta,O=v.Ua;0<K--;){var ue=v.gc[K],Se=Q,ke=b,Le=re,je=ae,Qe=(ae=R,re=O,ue.Ea);switch(t(Se<ke),t(ke<=ue.nc),ue.hc){case 2:_0(Le,je,(ke-Se)*Qe,ae,re);break;case 0:var Ue=Se,Ne=ke,Ae=ae,Ye=re,rt=(mt=ue).Ea;Ue==0&&($g(Le,je,null,null,1,Ae,Ye),nt(Le,je+1,0,0,rt-1,Ae,Ye+1),je+=rt,Ye+=rt,++Ue);for(var Je=1<<mt.b,xt=Je-1,dt=ft(rt,mt.b),Pt=mt.K,mt=mt.w+(Ue>>mt.b)*dt;Ue<Ne;){var Qt=Pt,ar=mt,Kt=1;for(ff(Le,je,Ae,Ye-rt,1,Ae,Ye);Kt<rt;){var Wt=(Kt&~xt)+Je;Wt>rt&&(Wt=rt),(0,wo[Qt[ar++]>>8&15])(Le,je+ +Kt,Ae,Ye+Kt-rt,Wt-Kt,Ae,Ye+Kt),Kt=Wt}je+=rt,Ye+=rt,++Ue&xt||(mt+=dt)}ke!=ue.nc&&n(ae,re-Qe,ae,re+(ke-Se-1)*Qe,Qe);break;case 1:for(Qe=Le,Ne=je,rt=(Le=ue.Ea)-(Ye=Le&~(Ae=(je=1<<ue.b)-1)),Ue=ft(Le,ue.b),Je=ue.K,ue=ue.w+(Se>>ue.b)*Ue;Se<ke;){for(xt=Je,dt=ue,Pt=new xe,mt=Ne+Ye,Qt=Ne+Le;Ne<mt;)ct(xt[dt++],Pt),wl(Pt,Qe,Ne,je,ae,re),Ne+=je,re+=je;Ne<Qt&&(ct(xt[dt++],Pt),wl(Pt,Qe,Ne,rt,ae,re),Ne+=rt,re+=rt),++Se&Ae||(ue+=Ue)}break;case 3:if(Le==ae&&je==re&&0<ue.b){for(Ne=ae,Le=Qe=re+(ke-Se)*Qe-(Ye=(ke-Se)*ft(ue.Ea,ue.b)),je=ae,Ae=re,Ue=[],Ye=(rt=Ye)-1;0<=Ye;--Ye)Ue[Ye]=je[Ae+Ye];for(Ye=rt-1;0<=Ye;--Ye)Ne[Le+Ye]=Ue[Ye];xi(ue,Se,ke,ae,Qe,ae,re)}else xi(ue,Se,ke,Le,je,ae,re)}re=R,ae=O}ae!=O&&n(R,O,re,ae,X)}function he(v,b){var O=v.V,R=v.Ba+v.c*v.C,K=b-v.C;if(t(b<=v.l.o),t(16>=K),0<K){var X=v.l,Q=v.Ta,re=v.Ua,ae=X.width;if(J(v,K,O,R),K=re=[re],t((O=v.C)<(R=b)),t(X.v<X.va),R>X.o&&(R=X.o),O<X.j){var ue=X.j-O;O=X.j,K[0]+=ue*ae}if(O>=R?O=0:(K[0]+=4*X.v,X.ka=O-X.j,X.U=X.va-X.v,X.T=R-O,O=1),O){if(re=re[0],11>(O=v.ca).S){var Se=O.f.RGBA,ke=(R=O.S,K=X.U,X=X.T,ue=Se.eb,Se.A),Le=X;for(Se=Se.fb+v.Ma*Se.A;0<Le--;){var je=Q,Qe=re,Ue=K,Ne=ue,Ae=Se;switch(R){case P0:Da(je,Qe,Ue,Ne,Ae);break;case T0:ya(je,Qe,Ue,Ne,Ae);break;case zg:ya(je,Qe,Ue,Ne,Ae),wi(Ne,Ae,0,Ue,1,0);break;case Pb:Bs(je,Qe,Ue,Ne,Ae);break;case C0:Yt(je,Qe,Ue,Ne,Ae,1);break;case Hg:Yt(je,Qe,Ue,Ne,Ae,1),wi(Ne,Ae,0,Ue,1,0);break;case O0:Yt(je,Qe,Ue,Ne,Ae,0);break;case k0:Yt(je,Qe,Ue,Ne,Ae,0),wi(Ne,Ae,1,Ue,1,0);break;case Wg:_o(je,Qe,Ue,Ne,Ae);break;case Vg:_o(je,Qe,Ue,Ne,Ae),wr(Ne,Ae,Ue,1,0);break;case Tb:Rs(je,Qe,Ue,Ne,Ae);break;default:t(0)}re+=ae,Se+=ke}v.Ma+=X}else alert("todo:EmitRescaledRowsYUVA");t(v.Ma<=O.height)}}v.C=b,t(v.C<=v.i)}function ie(v){var b;if(0<v.ua)return 0;for(b=0;b<v.Wb;++b){var O=v.Ya[b].G,R=v.Ya[b].H;if(0<O[1][R[1]+0].g||0<O[2][R[2]+0].g||0<O[3][R[3]+0].g)return 0}return 1}function oe(v,b,O,R,K,X){if(v.Z!=0){var Q=v.qd,re=v.rd;for(t(jo[v.Z]!=null);b<O;++b)jo[v.Z](Q,re,R,K,R,K,X),Q=R,re=K,K+=X;v.qd=Q,v.rd=re}}function de(v,b){var O=v.l.ma,R=O.Z==0||O.Z==1?v.l.j:v.C;if(R=v.C<R?R:v.C,t(b<=v.l.o),b>R){var K=v.l.width,X=O.ca,Q=O.tb+K*R,re=v.V,ae=v.Ba+v.c*R,ue=v.gc;t(v.ab==1),t(ue[0].hc==3),S0(ue[0],R,b,re,ae,X,Q),oe(O,R,b,X,Q,K)}v.C=v.Ma=b}function me(v,b,O,R,K,X,Q){var re=v.$/R,ae=v.$%R,ue=v.m,Se=v.s,ke=O+v.$,Le=ke;K=O+R*K;var je=O+R*X,Qe=280+Se.ua,Ue=v.Pb?re:16777216,Ne=0<Se.ua?Se.Wa:null,Ae=Se.wc,Ye=ke<je?Pr(Se,ae,re):null;t(v.C<X),t(je<=K);var rt=!1;e:for(;;){for(;rt||ke<je;){var Je=0;if(re>=Ue){var xt=ke-O;t((Ue=v).Pb),Ue.wd=Ue.m,Ue.xd=xt,0<Ue.s.ua&&De(Ue.s.Wa,Ue.s.vb),Ue=re+EC}if(ae&Ae||(Ye=Pr(Se,ae,re)),t(Ye!=null),Ye.Qb&&(b[ke]=Ye.qb,rt=!0),!rt)if(Z(ue),Ye.jc){Je=ue,xt=b;var dt=ke,Pt=Ye.pd[I(Je)&qn-1];t(Ye.jc),256>Pt.g?(z(Je,Je.u+Pt.g),xt[dt]=Pt.value,Je=0):(z(Je,Je.u+Pt.g-256),t(256<=Pt.value),Je=Pt.value),Je==0&&(rt=!0)}else Je=Pn(Ye.G[0],Ye.H[0],ue);if(ue.h)break;if(rt||256>Je){if(!rt)if(Ye.nd)b[ke]=(Ye.qb|Je<<8)>>>0;else{if(Z(ue),rt=Pn(Ye.G[1],Ye.H[1],ue),Z(ue),xt=Pn(Ye.G[2],Ye.H[2],ue),dt=Pn(Ye.G[3],Ye.H[3],ue),ue.h)break;b[ke]=(dt<<24|rt<<16|Je<<8|xt)>>>0}if(rt=!1,++ke,++ae>=R&&(ae=0,++re,Q!=null&&re<=X&&!(re%16)&&Q(v,re),Ne!=null))for(;Le<ke;)Je=b[Le++],Ne.X[(506832829*Je&4294967295)>>>Ne.Mb]=Je}else if(280>Je){if(Je=Ur(Je-256,ue),xt=Pn(Ye.G[4],Ye.H[4],ue),Z(ue),xt=Yr(R,xt=Ur(xt,ue)),ue.h)break;if(ke-O<xt||K-ke<Je)break e;for(dt=0;dt<Je;++dt)b[ke+dt]=b[ke+dt-xt];for(ke+=Je,ae+=Je;ae>=R;)ae-=R,++re,Q!=null&&re<=X&&!(re%16)&&Q(v,re);if(t(ke<=K),ae&Ae&&(Ye=Pr(Se,ae,re)),Ne!=null)for(;Le<ke;)Je=b[Le++],Ne.X[(506832829*Je&4294967295)>>>Ne.Mb]=Je}else{if(!(Je<Qe))break e;for(rt=Je-280,t(Ne!=null);Le<ke;)Je=b[Le++],Ne.X[(506832829*Je&4294967295)>>>Ne.Mb]=Je;Je=ke,t(!(rt>>>(xt=Ne).Xa)),b[Je]=xt.X[rt],rt=!0}rt||t(ue.h==B(ue))}if(v.Pb&&ue.h&&ke<K)t(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&De(v.s.vb,v.s.Wa);else{if(ue.h)break e;Q!=null&&Q(v,re>X?X:re),v.a=0,v.$=ke-O}return 1}return v.a=3,0}function Oe(v){t(v!=null),v.vc=null,v.yc=null,v.Ya=null;var b=v.Wa;b!=null&&(b.X=null),v.vb=null,t(v!=null)}function Me(){var v=new Ug;return v==null?null:(v.a=0,v.xb=kb,Un("Predictor","VP8LPredictors"),Un("Predictor","VP8LPredictors_C"),Un("PredictorAdd","VP8LPredictorsAdd"),Un("PredictorAdd","VP8LPredictorsAdd_C"),_0=pt,wl=gt,Da=st,ya=Fr,_o=Mt,Rs=Br,Bs=qt,k.VP8LMapColor32b=Lc,k.VP8LMapColor8b=N0,v)}function Ce(v,b,O,R,K){var X=1,Q=[v],re=[b],ae=R.m,ue=R.s,Se=null,ke=0;e:for(;;){if(O)for(;X&&ne(ae,1);){var Le=Q,je=re,Qe=R,Ue=1,Ne=Qe.m,Ae=Qe.gc[Qe.ab],Ye=ne(Ne,2);if(Qe.Oc&1<<Ye)X=0;else{switch(Qe.Oc|=1<<Ye,Ae.hc=Ye,Ae.Ea=Le[0],Ae.nc=je[0],Ae.K=[null],++Qe.ab,t(4>=Qe.ab),Ye){case 0:case 1:Ae.b=ne(Ne,3)+2,Ue=Ce(ft(Ae.Ea,Ae.b),ft(Ae.nc,Ae.b),0,Qe,Ae.K),Ae.K=Ae.K[0];break;case 3:var rt,Je=ne(Ne,8)+1,xt=16<Je?0:4<Je?1:2<Je?2:3;if(Le[0]=ft(Ae.Ea,xt),Ae.b=xt,rt=Ue=Ce(Je,1,0,Qe,Ae.K)){var dt,Pt=Je,mt=Ae,Qt=1<<(8>>mt.b),ar=i(Qt);if(ar==null)rt=0;else{var Kt=mt.K[0],Wt=mt.w;for(ar[0]=mt.K[0][0],dt=1;dt<1*Pt;++dt)ar[dt]=et(Kt[Wt+dt],ar[dt-1]);for(;dt<4*Qt;++dt)ar[dt]=0;mt.K[0]=null,mt.K[0]=ar,rt=1}}Ue=rt;break;case 2:break;default:t(0)}X=Ue}}if(Q=Q[0],re=re[0],X&&ne(ae,1)&&!(X=1<=(ke=ne(ae,4))&&11>=ke)){R.a=3;break e}var gr;if(gr=X)t:{var hr,Rt,on,Fa=R,ln=Q,Ia=re,ir=ke,Za=O,Qa=Fa.m,Cn=Fa.s,Wn=[null],wa=1,Ni=0,ys=jC[ir];r:for(;;){if(Za&&ne(Qa,1)){var On=ne(Qa,3)+2,Ws=ft(ln,On),jl=ft(Ia,On),Rc=Ws*jl;if(!Ce(Ws,jl,0,Fa,Wn))break r;for(Wn=Wn[0],Cn.xc=On,hr=0;hr<Rc;++hr){var Eo=Wn[hr]>>8&65535;Wn[hr]=Eo,Eo>=wa&&(wa=Eo+1)}}if(Qa.h)break r;for(Rt=0;5>Rt;++Rt){var qr=Cb[Rt];!Rt&&0<ir&&(qr+=1<<ir),Ni<qr&&(Ni=qr)}var Xg=s(wa*ys,S),$b=wa,qb=s($b,U);if(qb==null)var I0=null;else t(65536>=$b),I0=qb;var xf=i(Ni);if(I0==null||xf==null||Xg==null){Fa.a=1;break r}var M0=Xg;for(hr=on=0;hr<wa;++hr){var Vi=I0[hr],Bc=Vi.G,Uc=Vi.H,Wb=0,R0=1,zb=0;for(Rt=0;5>Rt;++Rt){qr=Cb[Rt],Bc[Rt]=M0,Uc[Rt]=on,!Rt&&0<ir&&(qr+=1<<ir);a:{var B0,Jg=qr,U0=Fa,yf=xf,GC=M0,KC=on,Zg=0,Po=U0.m,YC=ne(Po,1);if(a(yf,0,0,Jg),YC){var XC=ne(Po,1)+1,JC=ne(Po,1),Hb=ne(Po,JC==0?1:8);yf[Hb]=1,XC==2&&(yf[Hb=ne(Po,8)]=1);var $0=1}else{var Vb=i(19),Gb=ne(Po,4)+4;if(19<Gb){U0.a=3;var q0=0;break a}for(B0=0;B0<Gb;++B0)Vb[NC[B0]]=ne(Po,3);var Qg=void 0,bf=void 0,Kb=U0,ZC=Vb,W0=Jg,Yb=yf,e1=0,To=Kb.m,Xb=8,Jb=s(128,S);n:for(;A(Jb,0,7,ZC,19);){if(ne(To,1)){var QC=2+2*ne(To,3);if((Qg=2+ne(To,QC))>W0)break n}else Qg=W0;for(bf=0;bf<W0&&Qg--;){Z(To);var Zb=Jb[0+(127&I(To))];z(To,To.u+Zb.g);var $c=Zb.value;if(16>$c)Yb[bf++]=$c,$c!=0&&(Xb=$c);else{var eO=$c==16,Qb=$c-16,tO=_C[Qb],ew=ne(To,wC[Qb])+tO;if(bf+ew>W0)break n;for(var rO=eO?Xb:0;0<ew--;)Yb[bf++]=rO}}e1=1;break n}e1||(Kb.a=3),$0=e1}($0=$0&&!Po.h)&&(Zg=A(GC,KC,8,yf,Jg)),$0&&Zg!=0?q0=Zg:(U0.a=3,q0=0)}if(q0==0)break r;if(R0&&SC[Rt]==1&&(R0=M0[on].g==0),Wb+=M0[on].g,on+=q0,3>=Rt){var wf,t1=xf[0];for(wf=1;wf<qr;++wf)xf[wf]>t1&&(t1=xf[wf]);zb+=t1}}if(Vi.nd=R0,Vi.Qb=0,R0&&(Vi.qb=(Bc[3][Uc[3]+0].value<<24|Bc[1][Uc[1]+0].value<<16|Bc[2][Uc[2]+0].value)>>>0,Wb==0&&256>Bc[0][Uc[0]+0].value&&(Vi.Qb=1,Vi.qb+=Bc[0][Uc[0]+0].value<<8)),Vi.jc=!Vi.Qb&&6>zb,Vi.jc){var z0,zs=Vi;for(z0=0;z0<qn;++z0){var Co=z0,Oo=zs.pd[Co],H0=zs.G[0][zs.H[0]+Co];256<=H0.value?(Oo.g=H0.g+256,Oo.value=H0.value):(Oo.g=0,Oo.value=0,Co>>=br(H0,8,Oo),Co>>=br(zs.G[1][zs.H[1]+Co],16,Oo),Co>>=br(zs.G[2][zs.H[2]+Co],0,Oo),br(zs.G[3][zs.H[3]+Co],24,Oo))}}}Cn.vc=Wn,Cn.Wb=wa,Cn.Ya=I0,Cn.yc=Xg,gr=1;break t}gr=0}if(!(X=gr)){R.a=3;break e}if(0<ke){if(ue.ua=1<<ke,!Ke(ue.Wa,ke)){R.a=1,X=0;break e}}else ue.ua=0;var r1=R,tw=Q,nO=re,n1=r1.s,a1=n1.xc;if(r1.c=tw,r1.i=nO,n1.md=ft(tw,a1),n1.wc=a1==0?-1:(1<<a1)-1,O){R.xb=DC;break e}if((Se=i(Q*re))==null){R.a=1,X=0;break e}X=(X=me(R,Se,0,Q,re,re,null))&&!ae.h;break e}return X?(K!=null?K[0]=Se:(t(Se==null),t(O)),R.$=0,O||Oe(ue)):Oe(ue),X}function ee(v,b){var O=v.c*v.i,R=O+b+16*b;return t(v.c<=b),v.V=i(R),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+O+b,1)}function le(v,b){var O=v.C,R=b-O,K=v.V,X=v.Ba+v.c*O;for(t(b<=v.l.o);0<R;){var Q=16<R?16:R,re=v.l.ma,ae=v.l.width,ue=ae*Q,Se=re.ca,ke=re.tb+ae*O,Le=v.Ta,je=v.Ua;J(v,Q,K,X),Zr(Le,je,Se,ke,ue),oe(re,O,O+Q,Se,ke,ae),R-=Q,K+=Q*v.c,O+=Q}t(O==b),v.C=v.Ma=b}function Ee(){this.ub=this.yd=this.td=this.Rb=0}function $e(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ge(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function He(){this.Yb=function(){var v=[];return function b(O,R,K){for(var X=K[R],Q=0;Q<X&&(O.push(K.length>R+1?[]:0),!(K.length<R+1));Q++)b(O[Q],R+1,K)}(v,0,[3,11]),v}()}function it(){this.jb=i(3),this.Wc=o([4,8],He),this.Xc=o([4,17],He)}function ht(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function $t(){this.ld=this.La=this.dd=this.tc=0}function dr(){this.Na=this.la=0}function an(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ui(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Fs(){this.uc=this.M=this.Nb=0,this.wa=Array(new $t),this.Y=0,this.ya=Array(new Ui),this.aa=0,this.l=new ps}function ms(){this.y=i(16),this.f=i(8),this.ea=i(8)}function $i(){this.cb=this.a=0,this.sc="",this.m=new ce,this.Od=new Ee,this.Kc=new $e,this.ed=new ht,this.Qa=new Ge,this.Ic=this.$c=this.Aa=0,this.D=new Fs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,ce),this.ia=0,this.pb=s(4,an),this.Pa=new it,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ms),this.Hd=0,this.rb=Array(new dr),this.sb=0,this.wa=Array(new $t),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ui),this.L=this.aa=0,this.gd=o([4,2],$t),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ps(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ya(){var v=new $i;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,gf||(gf=o0)),v}function Xr(v,b,O){return v.a==0&&(v.a=b,v.sc=O,v.cb=0),0}function i0(v,b,O){return 3<=O&&v[b+0]==157&&v[b+1]==1&&v[b+2]==42}function s0(v,b){if(v==null)return 0;if(v.a=0,v.sc="OK",b==null)return Xr(v,2,"null VP8Io passed to VP8GetHeaders()");var O=b.data,R=b.w,K=b.ha;if(4>K)return Xr(v,7,"Truncated header.");var X=O[R+0]|O[R+1]<<8|O[R+2]<<16,Q=v.Od;if(Q.Rb=!(1&X),Q.td=X>>1&7,Q.yd=X>>4&1,Q.ub=X>>5,3<Q.td)return Xr(v,3,"Incorrect keyframe parameters.");if(!Q.yd)return Xr(v,4,"Frame not displayable.");R+=3,K-=3;var re=v.Kc;if(Q.Rb){if(7>K)return Xr(v,7,"cannot parse picture header");if(!i0(O,R,K))return Xr(v,3,"Bad code word");re.c=16383&(O[R+4]<<8|O[R+3]),re.Td=O[R+4]>>6,re.i=16383&(O[R+6]<<8|O[R+5]),re.Ud=O[R+6]>>6,R+=7,K-=7,v.za=re.c+15>>4,v.Ub=re.i+15>>4,b.width=re.c,b.height=re.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,a((X=v.Pa).jb,0,255,X.jb.length),t((X=v.Qa)!=null),X.Cb=0,X.Bb=0,X.Fb=1,a(X.Zb,0,0,X.Zb.length),a(X.Lb,0,0,X.Lb)}if(Q.ub>K)return Xr(v,7,"bad partition length");G(X=v.m,O,R,Q.ub),R+=Q.ub,K-=Q.ub,Q.Rb&&(re.Ld=pe(X),re.Kd=pe(X)),re=v.Qa;var ae,ue=v.Pa;if(t(X!=null),t(re!=null),re.Cb=pe(X),re.Cb){if(re.Bb=pe(X),pe(X)){for(re.Fb=pe(X),ae=0;4>ae;++ae)re.Zb[ae]=pe(X)?q(X,7):0;for(ae=0;4>ae;++ae)re.Lb[ae]=pe(X)?q(X,6):0}if(re.Bb)for(ae=0;3>ae;++ae)ue.jb[ae]=pe(X)?H(X,8):255}else re.Bb=0;if(X.Ka)return Xr(v,3,"cannot parse segment header");if((re=v.ed).zd=pe(X),re.Tb=H(X,6),re.wb=H(X,3),re.Pc=pe(X),re.Pc&&pe(X)){for(ue=0;4>ue;++ue)pe(X)&&(re.vd[ue]=q(X,6));for(ue=0;4>ue;++ue)pe(X)&&(re.od[ue]=q(X,6))}if(v.L=re.Tb==0?0:re.zd?1:2,X.Ka)return Xr(v,3,"cannot parse filter header");var Se=K;if(K=ae=R,R=ae+Se,re=Se,v.Xb=(1<<H(v.m,2))-1,Se<3*(ue=v.Xb))O=7;else{for(ae+=3*ue,re-=3*ue,Se=0;Se<ue;++Se){var ke=O[K+0]|O[K+1]<<8|O[K+2]<<16;ke>re&&(ke=re),G(v.Jc[+Se],O,ae,ke),ae+=ke,re-=ke,K+=3}G(v.Jc[+ue],O,ae,re),O=ae<R?0:5}if(O!=0)return Xr(v,O,"cannot parse partitions");for(O=H(ae=v.m,7),K=pe(ae)?q(ae,4):0,R=pe(ae)?q(ae,4):0,re=pe(ae)?q(ae,4):0,ue=pe(ae)?q(ae,4):0,ae=pe(ae)?q(ae,4):0,Se=v.Qa,ke=0;4>ke;++ke){if(Se.Cb){var Le=Se.Zb[ke];Se.Fb||(Le+=O)}else{if(0<ke){v.pb[ke]=v.pb[0];continue}Le=O}var je=v.pb[ke];je.Sc[0]=Gg[Xa(Le+K,127)],je.Sc[1]=Kg[Xa(Le+0,127)],je.Eb[0]=2*Gg[Xa(Le+R,127)],je.Eb[1]=101581*Kg[Xa(Le+re,127)]>>16,8>je.Eb[1]&&(je.Eb[1]=8),je.Qc[0]=Gg[Xa(Le+ue,117)],je.Qc[1]=Kg[Xa(Le+ae,127)],je.lc=Le+ae}if(!Q.Rb)return Xr(v,4,"Not a key frame.");for(pe(X),Q=v.Pa,O=0;4>O;++O){for(K=0;8>K;++K)for(R=0;3>R;++R)for(re=0;11>re;++re)ue=te(X,kC[O][K][R][re])?H(X,8):CC[O][K][R][re],Q.Wc[O][K].Yb[R][re]=ue;for(K=0;17>K;++K)Q.Xc[O][K]=Q.Wc[O][LC[K]]}return v.kc=pe(X),v.kc&&(v.Bd=H(X,8)),v.cb=1}function o0(v,b,O,R,K,X,Q){var re=b[K].Yb[O];for(O=0;16>K;++K){if(!te(v,re[O+0]))return K;for(;!te(v,re[O+1]);)if(re=b[++K].Yb[0],O=0,K==16)return 16;var ae=b[K+1].Yb;if(te(v,re[O+2])){var ue=v,Se=0;if(te(ue,(Le=re)[(ke=O)+3]))if(te(ue,Le[ke+6])){for(re=0,ke=2*(Se=te(ue,Le[ke+8]))+(Le=te(ue,Le[ke+9+Se])),Se=0,Le=PC[ke];Le[re];++re)Se+=Se+te(ue,Le[re]);Se+=3+(8<<ke)}else te(ue,Le[ke+7])?(Se=7+2*te(ue,165),Se+=te(ue,145)):Se=5+te(ue,159);else Se=te(ue,Le[ke+4])?3+te(ue,Le[ke+5]):2;re=ae[2]}else Se=1,re=ae[1];ae=Q+TC[K],0>(ue=v).b&&ge(ue);var ke,Le=ue.b,je=(ke=ue.Ca>>1)-(ue.I>>Le)>>31;--ue.b,ue.Ca+=je,ue.Ca|=1,ue.I-=(ke+1&je)<<Le,X[ae]=((Se^je)-je)*R[(0<K)+0]}return 16}function Vu(v){var b=v.rb[v.sb-1];b.la=0,b.Na=0,a(v.zc,0,0,v.zc.length),v.ja=0}function Sg(v,b){if(v==null)return 0;if(b==null)return Xr(v,2,"NULL VP8Io parameter in VP8Decode().");if(!v.cb&&!s0(v,b))return 0;if(t(v.cb),b.ac==null||b.ac(b)){b.ob&&(v.L=0);var O=F0[v.L];if(v.L==2?(v.yb=0,v.zb=0):(v.yb=b.v-O>>4,v.zb=b.j-O>>4,0>v.yb&&(v.yb=0),0>v.zb&&(v.zb=0)),v.Va=b.o+15+O>>4,v.Hb=b.va+15+O>>4,v.Hb>v.za&&(v.Hb=v.za),v.Va>v.Ub&&(v.Va=v.Ub),0<v.L){var R=v.ed;for(O=0;4>O;++O){var K;if(v.Qa.Cb){var X=v.Qa.Lb[O];v.Qa.Fb||(X+=R.Tb)}else X=R.Tb;for(K=0;1>=K;++K){var Q=v.gd[O][K],re=X;if(R.Pc&&(re+=R.vd[0],K&&(re+=R.od[0])),0<(re=0>re?0:63<re?63:re)){var ae=re;0<R.wb&&(ae=4<R.wb?ae>>2:ae>>1)>9-R.wb&&(ae=9-R.wb),1>ae&&(ae=1),Q.dd=ae,Q.tc=2*re+ae,Q.ld=40<=re?2:15<=re?1:0}else Q.tc=0;Q.La=K}}}O=0}else Xr(v,6,"Frame setup failed"),O=v.a;if(O=O==0){if(O){v.$c=0,0<v.Aa||(v.Ic=VC);e:{O=v.Ic,R=4*(ae=v.za);var ue=32*ae,Se=ae+1,ke=0<v.L?ae*(0<v.Aa?2:1):0,Le=(v.Aa==2?2:1)*ae;if((Q=R+832+(K=3*(16*O+F0[v.L])/2*ue)+(X=v.Fa!=null&&0<v.Fa.length?v.Kc.c*v.Kc.i:0))!=Q)O=0;else{if(Q>v.Vb){if(v.Vb=0,v.Ec=i(Q),v.Fc=0,v.Ec==null){O=Xr(v,1,"no memory during frame initialization.");break e}v.Vb=Q}Q=v.Ec,re=v.Fc,v.Ac=Q,v.Bc=re,re+=R,v.Gd=s(ue,ms),v.Hd=0,v.rb=s(Se+1,dr),v.sb=1,v.wa=ke?s(ke,$t):null,v.Y=0,v.D.Nb=0,v.D.wa=v.wa,v.D.Y=v.Y,0<v.Aa&&(v.D.Y+=ae),t(!0),v.oc=Q,v.pc=re,re+=832,v.ya=s(Le,Ui),v.aa=0,v.D.ya=v.ya,v.D.aa=v.aa,v.Aa==2&&(v.D.aa+=ae),v.R=16*ae,v.B=8*ae,ae=(ue=F0[v.L])*v.R,ue=ue/2*v.B,v.sa=Q,v.ta=re+ae,v.qa=v.sa,v.ra=v.ta+16*O*v.R+ue,v.Ha=v.qa,v.Ia=v.ra+8*O*v.B+ue,v.$c=0,re+=K,v.mb=X?Q:null,v.nb=X?re:null,t(re+X<=v.Fc+v.Vb),Vu(v),a(v.Ac,v.Bc,0,R),O=1}}if(O){if(b.ka=0,b.y=v.sa,b.O=v.ta,b.f=v.qa,b.N=v.ra,b.ea=v.Ha,b.Vd=v.Ia,b.fa=v.R,b.Rc=v.B,b.F=null,b.J=0,!j0){for(O=-255;255>=O;++O)xn[255+O]=0>O?-O:O;for(O=-1020;1020>=O;++O)$s[1020+O]=-128>O?-128:127<O?127:O;for(O=-112;112>=O;++O)pf[112+O]=-16>O?-16:15<O?15:O;for(O=-255;510>=O;++O)Mc[255+O]=0>O?0:255<O?255:O;j0=1}Dc=jg,Us=Ng,df=c0,ba=Ag,yi=u0,Jr=l0,Fc=Zu,A0=yl,hf=Bg,_l=Qu,Sl=Rg,So=Ac,Nl=ef,Ic=y0,Al=x0,No=vs,mf=Ms,bi=Mg,Hi[0]=gs,Hi[1]=Eg,Hi[2]=Og,Hi[3]=kg,Hi[4]=h0,Hi[5]=Sc,Hi[6]=m0,Hi[7]=Yu,Hi[8]=Dg,Hi[9]=Lg,Ao[0]=f0,Ao[1]=Tg,Ao[2]=Is,Ao[3]=wc,Ao[4]=ea,Ao[5]=Cg,Ao[6]=d0,qs[0]=xo,qs[1]=Pg,qs[2]=Fg,qs[3]=Xu,qs[4]=xl,qs[5]=Ig,qs[6]=Ju,O=1}else O=0}O&&(O=function(je,Qe){for(je.M=0;je.M<je.Va;++je.M){var Ue,Ne=je.Jc[je.M&je.Xb],Ae=je.m,Ye=je;for(Ue=0;Ue<Ye.za;++Ue){var rt=Ae,Je=Ye,xt=Je.Ac,dt=Je.Bc+4*Ue,Pt=Je.zc,mt=Je.ya[Je.aa+Ue];if(Je.Qa.Bb?mt.$b=te(rt,Je.Pa.jb[0])?2+te(rt,Je.Pa.jb[2]):te(rt,Je.Pa.jb[1]):mt.$b=0,Je.kc&&(mt.Ad=te(rt,Je.Bd)),mt.Za=!te(rt,145)+0,mt.Za){var Qt=mt.Ob,ar=0;for(Je=0;4>Je;++Je){var Kt,Wt=Pt[0+Je];for(Kt=0;4>Kt;++Kt){Wt=OC[xt[dt+Kt]][Wt];for(var gr=Ob[te(rt,Wt[0])];0<gr;)gr=Ob[2*gr+te(rt,Wt[gr])];Wt=-gr,xt[dt+Kt]=Wt}n(Qt,ar,xt,dt,4),ar+=4,Pt[0+Je]=Wt}}else Wt=te(rt,156)?te(rt,128)?1:3:te(rt,163)?2:0,mt.Ob[0]=Wt,a(xt,dt,Wt,4),a(Pt,0,Wt,4);mt.Dd=te(rt,142)?te(rt,114)?te(rt,183)?1:3:2:0}if(Ye.m.Ka)return Xr(je,7,"Premature end-of-partition0 encountered.");for(;je.ja<je.za;++je.ja){if(Ye=Ne,rt=(Ae=je).rb[Ae.sb-1],xt=Ae.rb[Ae.sb+Ae.ja],Ue=Ae.ya[Ae.aa+Ae.ja],dt=Ae.kc?Ue.Ad:0)rt.la=xt.la=0,Ue.Za||(rt.Na=xt.Na=0),Ue.Hc=0,Ue.Gc=0,Ue.ia=0;else{var hr,Rt;if(rt=xt,xt=Ye,dt=Ae.Pa.Xc,Pt=Ae.ya[Ae.aa+Ae.ja],mt=Ae.pb[Pt.$b],Je=Pt.ad,Qt=0,ar=Ae.rb[Ae.sb-1],Wt=Kt=0,a(Je,Qt,0,384),Pt.Za)var on=0,Fa=dt[3];else{gr=i(16);var ln=rt.Na+ar.Na;if(ln=gf(xt,dt[1],ln,mt.Eb,0,gr,0),rt.Na=ar.Na=(0<ln)+0,1<ln)Dc(gr,0,Je,Qt);else{var Ia=gr[0]+3>>3;for(gr=0;256>gr;gr+=16)Je[Qt+gr]=Ia}on=1,Fa=dt[0]}var ir=15&rt.la,Za=15&ar.la;for(gr=0;4>gr;++gr){var Qa=1&Za;for(Ia=Rt=0;4>Ia;++Ia)ir=ir>>1|(Qa=(ln=gf(xt,Fa,ln=Qa+(1&ir),mt.Sc,on,Je,Qt))>on)<<7,Rt=Rt<<2|(3<ln?3:1<ln?2:Je[Qt+0]!=0),Qt+=16;ir>>=4,Za=Za>>1|Qa<<7,Kt=(Kt<<8|Rt)>>>0}for(Fa=ir,on=Za>>4,hr=0;4>hr;hr+=2){for(Rt=0,ir=rt.la>>4+hr,Za=ar.la>>4+hr,gr=0;2>gr;++gr){for(Qa=1&Za,Ia=0;2>Ia;++Ia)ln=Qa+(1&ir),ir=ir>>1|(Qa=0<(ln=gf(xt,dt[2],ln,mt.Qc,0,Je,Qt)))<<3,Rt=Rt<<2|(3<ln?3:1<ln?2:Je[Qt+0]!=0),Qt+=16;ir>>=2,Za=Za>>1|Qa<<5}Wt|=Rt<<4*hr,Fa|=ir<<4<<hr,on|=(240&Za)<<hr}rt.la=Fa,ar.la=on,Pt.Hc=Kt,Pt.Gc=Wt,Pt.ia=43690&Wt?0:mt.ia,dt=!(Kt|Wt)}if(0<Ae.L&&(Ae.wa[Ae.Y+Ae.ja]=Ae.gd[Ue.$b][Ue.Za],Ae.wa[Ae.Y+Ae.ja].La|=!dt),Ye.Ka)return Xr(je,7,"Premature end-of-file encountered.")}if(Vu(je),Ae=Qe,Ye=1,Ue=(Ne=je).D,rt=0<Ne.L&&Ne.M>=Ne.zb&&Ne.M<=Ne.Va,Ne.Aa==0)e:{if(Ue.M=Ne.M,Ue.uc=rt,of(Ne,Ue),Ye=1,Ue=(Rt=Ne.D).Nb,rt=(Wt=F0[Ne.L])*Ne.R,xt=Wt/2*Ne.B,gr=16*Ue*Ne.R,Ia=8*Ue*Ne.B,dt=Ne.sa,Pt=Ne.ta-rt+gr,mt=Ne.qa,Je=Ne.ra-xt+Ia,Qt=Ne.Ha,ar=Ne.Ia-xt+Ia,Za=(ir=Rt.M)==0,Kt=ir>=Ne.Va-1,Ne.Aa==2&&of(Ne,Rt),Rt.uc)for(Qa=(ln=Ne).D.M,t(ln.D.uc),Rt=ln.yb;Rt<ln.Hb;++Rt){on=Rt,Fa=Qa;var Cn=(Wn=(qr=ln).D).Nb;hr=qr.R;var Wn=Wn.wa[Wn.Y+on],wa=qr.sa,Ni=qr.ta+16*Cn*hr+16*on,ys=Wn.dd,On=Wn.tc;if(On!=0)if(t(3<=On),qr.L==1)0<on&&No(wa,Ni,hr,On+4),Wn.La&&bi(wa,Ni,hr,On),0<Fa&&Al(wa,Ni,hr,On+4),Wn.La&&mf(wa,Ni,hr,On);else{var Ws=qr.B,jl=qr.qa,Rc=qr.ra+8*Cn*Ws+8*on,Eo=qr.Ha,qr=qr.Ia+8*Cn*Ws+8*on;Cn=Wn.ld,0<on&&(A0(wa,Ni,hr,On+4,ys,Cn),_l(jl,Rc,Eo,qr,Ws,On+4,ys,Cn)),Wn.La&&(So(wa,Ni,hr,On,ys,Cn),Ic(jl,Rc,Eo,qr,Ws,On,ys,Cn)),0<Fa&&(Fc(wa,Ni,hr,On+4,ys,Cn),hf(jl,Rc,Eo,qr,Ws,On+4,ys,Cn)),Wn.La&&(Sl(wa,Ni,hr,On,ys,Cn),Nl(jl,Rc,Eo,qr,Ws,On,ys,Cn))}}if(Ne.ia&&alert("todo:DitherRow"),Ae.put!=null){if(Rt=16*ir,ir=16*(ir+1),Za?(Ae.y=Ne.sa,Ae.O=Ne.ta+gr,Ae.f=Ne.qa,Ae.N=Ne.ra+Ia,Ae.ea=Ne.Ha,Ae.W=Ne.Ia+Ia):(Rt-=Wt,Ae.y=dt,Ae.O=Pt,Ae.f=mt,Ae.N=Je,Ae.ea=Qt,Ae.W=ar),Kt||(ir-=Wt),ir>Ae.o&&(ir=Ae.o),Ae.F=null,Ae.J=null,Ne.Fa!=null&&0<Ne.Fa.length&&Rt<ir&&(Ae.J=af(Ne,Ae,Rt,ir-Rt),Ae.F=Ne.mb,Ae.F==null&&Ae.F.length==0)){Ye=Xr(Ne,3,"Could not decode alpha data.");break e}Rt<Ae.j&&(Wt=Ae.j-Rt,Rt=Ae.j,t(!(1&Wt)),Ae.O+=Ne.R*Wt,Ae.N+=Ne.B*(Wt>>1),Ae.W+=Ne.B*(Wt>>1),Ae.F!=null&&(Ae.J+=Ae.width*Wt)),Rt<ir&&(Ae.O+=Ae.v,Ae.N+=Ae.v>>1,Ae.W+=Ae.v>>1,Ae.F!=null&&(Ae.J+=Ae.v),Ae.ka=Rt-Ae.j,Ae.U=Ae.va-Ae.v,Ae.T=ir-Rt,Ye=Ae.put(Ae))}Ue+1!=Ne.Ic||Kt||(n(Ne.sa,Ne.ta-rt,dt,Pt+16*Ne.R,rt),n(Ne.qa,Ne.ra-xt,mt,Je+8*Ne.B,xt),n(Ne.Ha,Ne.Ia-xt,Qt,ar+8*Ne.B,xt))}if(!Ye)return Xr(je,6,"Output aborted.")}return 1}(v,b)),b.bc!=null&&b.bc(b),O&=1}return O?(v.cb=0,O):0}function qi(v,b,O,R,K){K=v[b+O+32*R]+(K>>3),v[b+O+32*R]=-256&K?0>K?0:255:K}function bc(v,b,O,R,K,X){qi(v,b,0,O,R+K),qi(v,b,1,O,R+X),qi(v,b,2,O,R-X),qi(v,b,3,O,R-K)}function ka(v){return(20091*v>>16)+v}function Gu(v,b,O,R){var K,X=0,Q=i(16);for(K=0;4>K;++K){var re=v[b+0]+v[b+8],ae=v[b+0]-v[b+8],ue=(35468*v[b+4]>>16)-ka(v[b+12]),Se=ka(v[b+4])+(35468*v[b+12]>>16);Q[X+0]=re+Se,Q[X+1]=ae+ue,Q[X+2]=ae-ue,Q[X+3]=re-Se,X+=4,b++}for(K=X=0;4>K;++K)re=(v=Q[X+0]+4)+Q[X+8],ae=v-Q[X+8],ue=(35468*Q[X+4]>>16)-ka(Q[X+12]),qi(O,R,0,0,re+(Se=ka(Q[X+4])+(35468*Q[X+12]>>16))),qi(O,R,1,0,ae+ue),qi(O,R,2,0,ae-ue),qi(O,R,3,0,re-Se),X++,R+=32}function l0(v,b,O,R){var K=v[b+0]+4,X=35468*v[b+4]>>16,Q=ka(v[b+4]),re=35468*v[b+1]>>16;bc(O,R,0,K+Q,v=ka(v[b+1]),re),bc(O,R,1,K+X,v,re),bc(O,R,2,K-X,v,re),bc(O,R,3,K-Q,v,re)}function Ng(v,b,O,R,K){Gu(v,b,O,R),K&&Gu(v,b+16,O,R+4)}function c0(v,b,O,R){Us(v,b+0,O,R,1),Us(v,b+32,O,R+128,1)}function Ag(v,b,O,R){var K;for(v=v[b+0]+4,K=0;4>K;++K)for(b=0;4>b;++b)qi(O,R,b,K,v)}function u0(v,b,O,R){v[b+0]&&ba(v,b+0,O,R),v[b+16]&&ba(v,b+16,O,R+4),v[b+32]&&ba(v,b+32,O,R+128),v[b+48]&&ba(v,b+48,O,R+128+4)}function jg(v,b,O,R){var K,X=i(16);for(K=0;4>K;++K){var Q=v[b+0+K]+v[b+12+K],re=v[b+4+K]+v[b+8+K],ae=v[b+4+K]-v[b+8+K],ue=v[b+0+K]-v[b+12+K];X[0+K]=Q+re,X[8+K]=Q-re,X[4+K]=ue+ae,X[12+K]=ue-ae}for(K=0;4>K;++K)Q=(v=X[0+4*K]+3)+X[3+4*K],re=X[1+4*K]+X[2+4*K],ae=X[1+4*K]-X[2+4*K],ue=v-X[3+4*K],O[R+0]=Q+re>>3,O[R+16]=ue+ae>>3,O[R+32]=Q-re>>3,O[R+48]=ue-ae>>3,R+=64}function Ku(v,b,O){var R,K=b-32,X=Ja,Q=255-v[K-1];for(R=0;R<O;++R){var re,ae=X,ue=Q+v[b-1];for(re=0;re<O;++re)v[b+re]=ae[ue+v[K+re]];b+=32}}function Eg(v,b){Ku(v,b,4)}function Pg(v,b){Ku(v,b,8)}function Tg(v,b){Ku(v,b,16)}function Is(v,b){var O;for(O=0;16>O;++O)n(v,b+32*O,v,b-32,16)}function wc(v,b){var O;for(O=16;0<O;--O)a(v,b,v[b-1],16),b+=32}function _c(v,b,O){var R;for(R=0;16>R;++R)a(b,O+32*R,v,16)}function f0(v,b){var O,R=16;for(O=0;16>O;++O)R+=v[b-1+32*O]+v[b+O-32];_c(R>>5,v,b)}function ea(v,b){var O,R=8;for(O=0;16>O;++O)R+=v[b-1+32*O];_c(R>>4,v,b)}function Cg(v,b){var O,R=8;for(O=0;16>O;++O)R+=v[b+O-32];_c(R>>4,v,b)}function d0(v,b){_c(128,v,b)}function Lt(v,b,O){return v+2*b+O+2>>2}function Og(v,b){var O,R=b-32;for(R=new Uint8Array([Lt(v[R-1],v[R+0],v[R+1]),Lt(v[R+0],v[R+1],v[R+2]),Lt(v[R+1],v[R+2],v[R+3]),Lt(v[R+2],v[R+3],v[R+4])]),O=0;4>O;++O)n(v,b+32*O,R,0,R.length)}function kg(v,b){var O=v[b-1],R=v[b-1+32],K=v[b-1+64],X=v[b-1+96];be(v,b+0,16843009*Lt(v[b-1-32],O,R)),be(v,b+32,16843009*Lt(O,R,K)),be(v,b+64,16843009*Lt(R,K,X)),be(v,b+96,16843009*Lt(K,X,X))}function gs(v,b){var O,R=4;for(O=0;4>O;++O)R+=v[b+O-32]+v[b-1+32*O];for(R>>=3,O=0;4>O;++O)a(v,b+32*O,R,4)}function h0(v,b){var O=v[b-1+0],R=v[b-1+32],K=v[b-1+64],X=v[b-1-32],Q=v[b+0-32],re=v[b+1-32],ae=v[b+2-32],ue=v[b+3-32];v[b+0+96]=Lt(R,K,v[b-1+96]),v[b+1+96]=v[b+0+64]=Lt(O,R,K),v[b+2+96]=v[b+1+64]=v[b+0+32]=Lt(X,O,R),v[b+3+96]=v[b+2+64]=v[b+1+32]=v[b+0+0]=Lt(Q,X,O),v[b+3+64]=v[b+2+32]=v[b+1+0]=Lt(re,Q,X),v[b+3+32]=v[b+2+0]=Lt(ae,re,Q),v[b+3+0]=Lt(ue,ae,re)}function m0(v,b){var O=v[b+1-32],R=v[b+2-32],K=v[b+3-32],X=v[b+4-32],Q=v[b+5-32],re=v[b+6-32],ae=v[b+7-32];v[b+0+0]=Lt(v[b+0-32],O,R),v[b+1+0]=v[b+0+32]=Lt(O,R,K),v[b+2+0]=v[b+1+32]=v[b+0+64]=Lt(R,K,X),v[b+3+0]=v[b+2+32]=v[b+1+64]=v[b+0+96]=Lt(K,X,Q),v[b+3+32]=v[b+2+64]=v[b+1+96]=Lt(X,Q,re),v[b+3+64]=v[b+2+96]=Lt(Q,re,ae),v[b+3+96]=Lt(re,ae,ae)}function Sc(v,b){var O=v[b-1+0],R=v[b-1+32],K=v[b-1+64],X=v[b-1-32],Q=v[b+0-32],re=v[b+1-32],ae=v[b+2-32],ue=v[b+3-32];v[b+0+0]=v[b+1+64]=X+Q+1>>1,v[b+1+0]=v[b+2+64]=Q+re+1>>1,v[b+2+0]=v[b+3+64]=re+ae+1>>1,v[b+3+0]=ae+ue+1>>1,v[b+0+96]=Lt(K,R,O),v[b+0+64]=Lt(R,O,X),v[b+0+32]=v[b+1+96]=Lt(O,X,Q),v[b+1+32]=v[b+2+96]=Lt(X,Q,re),v[b+2+32]=v[b+3+96]=Lt(Q,re,ae),v[b+3+32]=Lt(re,ae,ue)}function Yu(v,b){var O=v[b+0-32],R=v[b+1-32],K=v[b+2-32],X=v[b+3-32],Q=v[b+4-32],re=v[b+5-32],ae=v[b+6-32],ue=v[b+7-32];v[b+0+0]=O+R+1>>1,v[b+1+0]=v[b+0+64]=R+K+1>>1,v[b+2+0]=v[b+1+64]=K+X+1>>1,v[b+3+0]=v[b+2+64]=X+Q+1>>1,v[b+0+32]=Lt(O,R,K),v[b+1+32]=v[b+0+96]=Lt(R,K,X),v[b+2+32]=v[b+1+96]=Lt(K,X,Q),v[b+3+32]=v[b+2+96]=Lt(X,Q,re),v[b+3+64]=Lt(Q,re,ae),v[b+3+96]=Lt(re,ae,ue)}function Lg(v,b){var O=v[b-1+0],R=v[b-1+32],K=v[b-1+64],X=v[b-1+96];v[b+0+0]=O+R+1>>1,v[b+2+0]=v[b+0+32]=R+K+1>>1,v[b+2+32]=v[b+0+64]=K+X+1>>1,v[b+1+0]=Lt(O,R,K),v[b+3+0]=v[b+1+32]=Lt(R,K,X),v[b+3+32]=v[b+1+64]=Lt(K,X,X),v[b+3+64]=v[b+2+64]=v[b+0+96]=v[b+1+96]=v[b+2+96]=v[b+3+96]=X}function Dg(v,b){var O=v[b-1+0],R=v[b-1+32],K=v[b-1+64],X=v[b-1+96],Q=v[b-1-32],re=v[b+0-32],ae=v[b+1-32],ue=v[b+2-32];v[b+0+0]=v[b+2+32]=O+Q+1>>1,v[b+0+32]=v[b+2+64]=R+O+1>>1,v[b+0+64]=v[b+2+96]=K+R+1>>1,v[b+0+96]=X+K+1>>1,v[b+3+0]=Lt(re,ae,ue),v[b+2+0]=Lt(Q,re,ae),v[b+1+0]=v[b+3+32]=Lt(O,Q,re),v[b+1+32]=v[b+3+64]=Lt(R,O,Q),v[b+1+64]=v[b+3+96]=Lt(K,R,O),v[b+1+96]=Lt(X,K,R)}function Fg(v,b){var O;for(O=0;8>O;++O)n(v,b+32*O,v,b-32,8)}function Xu(v,b){var O;for(O=0;8>O;++O)a(v,b,v[b-1],8),b+=32}function vl(v,b,O){var R;for(R=0;8>R;++R)a(b,O+32*R,v,8)}function xo(v,b){var O,R=8;for(O=0;8>O;++O)R+=v[b+O-32]+v[b-1+32*O];vl(R>>4,v,b)}function Ig(v,b){var O,R=4;for(O=0;8>O;++O)R+=v[b+O-32];vl(R>>3,v,b)}function xl(v,b){var O,R=4;for(O=0;8>O;++O)R+=v[b-1+32*O];vl(R>>3,v,b)}function Ju(v,b){vl(128,v,b)}function Nc(v,b,O){var R=v[b-O],K=v[b+0],X=3*(K-R)+qg[1020+v[b-2*O]-v[b+O]],Q=E0[112+(X+4>>3)];v[b-O]=Ja[255+R+E0[112+(X+3>>3)]],v[b+0]=Ja[255+K-Q]}function p0(v,b,O,R){var K=v[b+0],X=v[b+O];return _i[255+v[b-2*O]-v[b-O]]>R||_i[255+X-K]>R}function g0(v,b,O,R){return 4*_i[255+v[b-O]-v[b+0]]+_i[255+v[b-2*O]-v[b+O]]<=R}function v0(v,b,O,R,K){var X=v[b-3*O],Q=v[b-2*O],re=v[b-O],ae=v[b+0],ue=v[b+O],Se=v[b+2*O],ke=v[b+3*O];return 4*_i[255+re-ae]+_i[255+Q-ue]>R?0:_i[255+v[b-4*O]-X]<=K&&_i[255+X-Q]<=K&&_i[255+Q-re]<=K&&_i[255+ke-Se]<=K&&_i[255+Se-ue]<=K&&_i[255+ue-ae]<=K}function x0(v,b,O,R){var K=2*R+1;for(R=0;16>R;++R)g0(v,b+R,O,K)&&Nc(v,b+R,O)}function vs(v,b,O,R){var K=2*R+1;for(R=0;16>R;++R)g0(v,b+R*O,1,K)&&Nc(v,b+R*O,1)}function Ms(v,b,O,R){var K;for(K=3;0<K;--K)x0(v,b+=4*O,O,R)}function Mg(v,b,O,R){var K;for(K=3;0<K;--K)vs(v,b+=4,O,R)}function yo(v,b,O,R,K,X,Q,re){for(X=2*X+1;0<K--;){if(v0(v,b,O,X,Q))if(p0(v,b,O,re))Nc(v,b,O);else{var ae=v,ue=b,Se=O,ke=ae[ue-2*Se],Le=ae[ue-Se],je=ae[ue+0],Qe=ae[ue+Se],Ue=ae[ue+2*Se],Ne=27*(Ye=qg[1020+3*(je-Le)+qg[1020+ke-Qe]])+63>>7,Ae=18*Ye+63>>7,Ye=9*Ye+63>>7;ae[ue-3*Se]=Ja[255+ae[ue-3*Se]+Ye],ae[ue-2*Se]=Ja[255+ke+Ae],ae[ue-Se]=Ja[255+Le+Ne],ae[ue+0]=Ja[255+je-Ne],ae[ue+Se]=Ja[255+Qe-Ae],ae[ue+2*Se]=Ja[255+Ue-Ye]}b+=R}}function Wi(v,b,O,R,K,X,Q,re){for(X=2*X+1;0<K--;){if(v0(v,b,O,X,Q))if(p0(v,b,O,re))Nc(v,b,O);else{var ae=v,ue=b,Se=O,ke=ae[ue-Se],Le=ae[ue+0],je=ae[ue+Se],Qe=E0[112+((Ue=3*(Le-ke))+4>>3)],Ue=E0[112+(Ue+3>>3)],Ne=Qe+1>>1;ae[ue-2*Se]=Ja[255+ae[ue-2*Se]+Ne],ae[ue-Se]=Ja[255+ke+Ue],ae[ue+0]=Ja[255+Le-Qe],ae[ue+Se]=Ja[255+je-Ne]}b+=R}}function Zu(v,b,O,R,K,X){yo(v,b,O,1,16,R,K,X)}function yl(v,b,O,R,K,X){yo(v,b,1,O,16,R,K,X)}function Rg(v,b,O,R,K,X){var Q;for(Q=3;0<Q;--Q)Wi(v,b+=4*O,O,1,16,R,K,X)}function Ac(v,b,O,R,K,X){var Q;for(Q=3;0<Q;--Q)Wi(v,b+=4,1,O,16,R,K,X)}function Bg(v,b,O,R,K,X,Q,re){yo(v,b,K,1,8,X,Q,re),yo(O,R,K,1,8,X,Q,re)}function Qu(v,b,O,R,K,X,Q,re){yo(v,b,1,K,8,X,Q,re),yo(O,R,1,K,8,X,Q,re)}function ef(v,b,O,R,K,X,Q,re){Wi(v,b+4*K,K,1,8,X,Q,re),Wi(O,R+4*K,K,1,8,X,Q,re)}function y0(v,b,O,R,K,X,Q,re){Wi(v,b+4,1,K,8,X,Q,re),Wi(O,R+4,1,K,8,X,Q,re)}function jc(){this.ba=new va,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Gt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function tf(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function rf(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function b0(){this.ua=0,this.Wa=new fe,this.vb=new fe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new U,this.yc=new S}function Ug(){this.xb=this.a=0,this.l=new ps,this.ca=new va,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new b0,this.ab=0,this.gc=s(4,rf),this.Oc=0}function Ec(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ps,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function bl(v,b,O,R,K,X,Q){for(v=v==null?0:v[b+0],b=0;b<Q;++b)K[X+b]=v+O[R+b]&255,v=K[X+b]}function nf(v,b,O,R,K,X,Q){var re;if(v==null)bl(null,null,O,R,K,X,Q);else for(re=0;re<Q;++re)K[X+re]=v[b+re]+O[R+re]&255}function bo(v,b,O,R,K,X,Q){if(v==null)bl(null,null,O,R,K,X,Q);else{var re,ae=v[b+0],ue=ae,Se=ae;for(re=0;re<Q;++re)ue=Se+(ae=v[b+re])-ue,Se=O[R+re]+(-256&ue?0>ue?0:255:ue)&255,ue=ae,K[X+re]=Se}}function af(v,b,O,R){var K=b.width,X=b.o;if(t(v!=null&&b!=null),0>O||0>=R||O+R>X)return null;if(!v.Cc){if(v.ga==null){var Q;if(v.ga=new Ec,(Q=v.ga==null)||(Q=b.width*b.o,t(v.Gb.length==0),v.Gb=i(Q),v.Uc=0,v.Gb==null?Q=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,Q=1),Q=!Q),!Q){Q=v.ga;var re=v.Fa,ae=v.P,ue=v.qc,Se=v.mb,ke=v.nb,Le=ae+1,je=ue-1,Qe=Q.l;if(t(re!=null&&Se!=null&&b!=null),jo[0]=null,jo[1]=bl,jo[2]=nf,jo[3]=bo,Q.ca=Se,Q.tb=ke,Q.c=b.width,Q.i=b.height,t(0<Q.c&&0<Q.i),1>=ue)b=0;else if(Q.$a=re[ae+0]>>0&3,Q.Z=re[ae+0]>>2&3,Q.Lc=re[ae+0]>>4&3,ae=re[ae+0]>>6&3,0>Q.$a||1<Q.$a||4<=Q.Z||1<Q.Lc||ae)b=0;else if(Qe.put=xa,Qe.ac=nr,Qe.bc=$n,Qe.ma=Q,Qe.width=b.width,Qe.height=b.height,Qe.Da=b.Da,Qe.v=b.v,Qe.va=b.va,Qe.j=b.j,Qe.o=b.o,Q.$a)e:{t(Q.$a==1),b=Me();t:for(;;){if(b==null){b=0;break e}if(t(Q!=null),Q.mc=b,b.c=Q.c,b.i=Q.i,b.l=Q.l,b.l.ma=Q,b.l.width=Q.c,b.l.height=Q.i,b.a=0,V(b.m,re,Le,je),!Ce(Q.c,Q.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&ie(b.s)?(Q.ic=1,re=b.c*b.i,b.Ta=null,b.Ua=0,b.V=i(re),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(Q.ic=0,b=ee(b,Q.c)),!b))break t;b=1;break e}Q.mc=null,b=0}else b=je>=Q.c*Q.i;Q=!b}if(Q)return null;v.ga.Lc!=1?v.Ga=0:R=X-O}t(v.ga!=null),t(O+R<=X);e:{if(b=(re=v.ga).c,X=re.l.o,re.$a==0){if(Le=v.rc,je=v.Vc,Qe=v.Fa,ae=v.P+1+O*b,ue=v.mb,Se=v.nb+O*b,t(ae<=v.P+v.qc),re.Z!=0)for(t(jo[re.Z]!=null),Q=0;Q<R;++Q)jo[re.Z](Le,je,Qe,ae,ue,Se,b),Le=ue,je=Se,Se+=b,ae+=b;else for(Q=0;Q<R;++Q)n(ue,Se,Qe,ae,b),Le=ue,je=Se,Se+=b,ae+=b;v.rc=Le,v.Vc=je}else{if(t(re.mc!=null),b=O+R,t((Q=re.mc)!=null),t(b<=Q.i),Q.C>=b)b=1;else if(re.ic||Pe(),re.ic){re=Q.V,Le=Q.Ba,je=Q.c;var Ue=Q.i,Ne=(Qe=1,ae=Q.$/je,ue=Q.$%je,Se=Q.m,ke=Q.s,Q.$),Ae=je*Ue,Ye=je*b,rt=ke.wc,Je=Ne<Ye?Pr(ke,ue,ae):null;t(Ne<=Ae),t(b<=Ue),t(ie(ke));t:for(;;){for(;!Se.h&&Ne<Ye;){if(ue&rt||(Je=Pr(ke,ue,ae)),t(Je!=null),Z(Se),256>(Ue=Pn(Je.G[0],Je.H[0],Se)))re[Le+Ne]=Ue,++Ne,++ue>=je&&(ue=0,++ae<=b&&!(ae%16)&&de(Q,ae));else{if(!(280>Ue)){Qe=0;break t}Ue=Ur(Ue-256,Se);var xt,dt=Pn(Je.G[4],Je.H[4],Se);if(Z(Se),!(Ne>=(dt=Yr(je,dt=Ur(dt,Se)))&&Ae-Ne>=Ue)){Qe=0;break t}for(xt=0;xt<Ue;++xt)re[Le+Ne+xt]=re[Le+Ne+xt-dt];for(Ne+=Ue,ue+=Ue;ue>=je;)ue-=je,++ae<=b&&!(ae%16)&&de(Q,ae);Ne<Ye&&ue&rt&&(Je=Pr(ke,ue,ae))}t(Se.h==B(Se))}de(Q,ae>b?b:ae);break t}!Qe||Se.h&&Ne<Ae?(Qe=0,Q.a=Se.h?5:3):Q.$=Ne,b=Qe}else b=me(Q,Q.V,Q.Ba,Q.c,Q.i,b,le);if(!b){R=0;break e}}O+R>=X&&(v.Cc=1),R=1}if(!R)return null;if(v.Cc&&((R=v.ga)!=null&&(R.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+O*K}function j(v,b,O,R,K,X){for(;0<K--;){var Q,re=v,ae=b+(O?1:0),ue=v,Se=b+(O?0:3);for(Q=0;Q<R;++Q){var ke=ue[Se+4*Q];ke!=255&&(ke*=32897,re[ae+4*Q+0]=re[ae+4*Q+0]*ke>>23,re[ae+4*Q+1]=re[ae+4*Q+1]*ke>>23,re[ae+4*Q+2]=re[ae+4*Q+2]*ke>>23)}b+=X}}function Y(v,b,O,R,K){for(;0<R--;){var X;for(X=0;X<O;++X){var Q=v[b+2*X+0],re=15&(ue=v[b+2*X+1]),ae=4369*re,ue=(240&ue|ue>>4)*ae>>16;v[b+2*X+0]=(240&Q|Q>>4)*ae>>16&240|(15&Q|Q<<4)*ae>>16>>4&15,v[b+2*X+1]=240&ue|re}b+=K}}function ve(v,b,O,R,K,X,Q,re){var ae,ue,Se=255;for(ue=0;ue<K;++ue){for(ae=0;ae<R;++ae){var ke=v[b+ae];X[Q+4*ae]=ke,Se&=ke}b+=O,Q+=re}return Se!=255}function _e(v,b,O,R,K){var X;for(X=0;X<K;++X)O[R+X]=v[b+X]>>8}function Pe(){wi=j,wr=Y,_r=ve,Zr=_e}function We(v,b,O){k[v]=function(R,K,X,Q,re,ae,ue,Se,ke,Le,je,Qe,Ue,Ne,Ae,Ye,rt){var Je,xt=rt-1>>1,dt=re[ae+0]|ue[Se+0]<<16,Pt=ke[Le+0]|je[Qe+0]<<16;t(R!=null);var mt=3*dt+Pt+131074>>2;for(b(R[K+0],255&mt,mt>>16,Ue,Ne),X!=null&&(mt=3*Pt+dt+131074>>2,b(X[Q+0],255&mt,mt>>16,Ae,Ye)),Je=1;Je<=xt;++Je){var Qt=re[ae+Je]|ue[Se+Je]<<16,ar=ke[Le+Je]|je[Qe+Je]<<16,Kt=dt+Qt+Pt+ar+524296,Wt=Kt+2*(Qt+Pt)>>3;mt=Wt+dt>>1,dt=(Kt=Kt+2*(dt+ar)>>3)+Qt>>1,b(R[K+2*Je-1],255&mt,mt>>16,Ue,Ne+(2*Je-1)*O),b(R[K+2*Je-0],255&dt,dt>>16,Ue,Ne+(2*Je-0)*O),X!=null&&(mt=Kt+Pt>>1,dt=Wt+ar>>1,b(X[Q+2*Je-1],255&mt,mt>>16,Ae,Ye+(2*Je-1)*O),b(X[Q+2*Je+0],255&dt,dt>>16,Ae,Ye+(2*Je+0)*O)),dt=Qt,Pt=ar}1&rt||(mt=3*dt+Pt+131074>>2,b(R[K+rt-1],255&mt,mt>>16,Ue,Ne+(rt-1)*O),X!=null&&(mt=3*Pt+dt+131074>>2,b(X[Q+rt-1],255&mt,mt>>16,Ae,Ye+(rt-1)*O)))}}function at(){Si[P0]=FC,Si[T0]=Lb,Si[Pb]=IC,Si[C0]=Db,Si[O0]=Fb,Si[Wg]=Ib,Si[Tb]=MC,Si[zg]=Lb,Si[Hg]=Db,Si[k0]=Fb,Si[Vg]=Ib}function vt(v){return v&~RC?0>v?0:255:v>>Mb}function jt(v,b){return vt((19077*v>>8)+(26149*b>>8)-14234)}function It(v,b,O){return vt((19077*v>>8)-(6419*b>>8)-(13320*O>>8)+8708)}function Dt(v,b){return vt((19077*v>>8)+(33050*b>>8)-17685)}function Ht(v,b,O,R,K){R[K+0]=jt(v,O),R[K+1]=It(v,b,O),R[K+2]=Dt(v,b)}function Ir(v,b,O,R,K){R[K+0]=Dt(v,b),R[K+1]=It(v,b,O),R[K+2]=jt(v,O)}function $r(v,b,O,R,K){var X=It(v,b,O);b=X<<3&224|Dt(v,b)>>3,R[K+0]=248&jt(v,O)|X>>5,R[K+1]=b}function sn(v,b,O,R,K){var X=240&Dt(v,b)|15;R[K+0]=240&jt(v,O)|It(v,b,O)>>4,R[K+1]=X}function ta(v,b,O,R,K){R[K+0]=255,Ht(v,b,O,R,K+1)}function Tn(v,b,O,R,K){Ir(v,b,O,R,K),R[K+3]=255}function zi(v,b,O,R,K){Ht(v,b,O,R,K),R[K+3]=255}function Xa(v,b){return 0>v?0:v>b?b:v}function xs(v,b,O){k[v]=function(R,K,X,Q,re,ae,ue,Se,ke){for(var Le=Se+(-2&ke)*O;Se!=Le;)b(R[K+0],X[Q+0],re[ae+0],ue,Se),b(R[K+1],X[Q+0],re[ae+0],ue,Se+O),K+=2,++Q,++ae,Se+=2*O;1&ke&&b(R[K+0],X[Q+0],re[ae+0],ue,Se)}}function w0(v,b,O){return O==0?v==0?b==0?6:5:b==0?4:0:O}function sf(v,b,O,R,K){switch(v>>>30){case 3:Us(b,O,R,K,0);break;case 2:Jr(b,O,R,K);break;case 1:ba(b,O,R,K)}}function of(v,b){var O,R,K=b.M,X=b.Nb,Q=v.oc,re=v.pc+40,ae=v.oc,ue=v.pc+584,Se=v.oc,ke=v.pc+600;for(O=0;16>O;++O)Q[re+32*O-1]=129;for(O=0;8>O;++O)ae[ue+32*O-1]=129,Se[ke+32*O-1]=129;for(0<K?Q[re-1-32]=ae[ue-1-32]=Se[ke-1-32]=129:(a(Q,re-32-1,127,21),a(ae,ue-32-1,127,9),a(Se,ke-32-1,127,9)),R=0;R<v.za;++R){var Le=b.ya[b.aa+R];if(0<R){for(O=-1;16>O;++O)n(Q,re+32*O-4,Q,re+32*O+12,4);for(O=-1;8>O;++O)n(ae,ue+32*O-4,ae,ue+32*O+4,4),n(Se,ke+32*O-4,Se,ke+32*O+4,4)}var je=v.Gd,Qe=v.Hd+R,Ue=Le.ad,Ne=Le.Hc;if(0<K&&(n(Q,re-32,je[Qe].y,0,16),n(ae,ue-32,je[Qe].f,0,8),n(Se,ke-32,je[Qe].ea,0,8)),Le.Za){var Ae=Q,Ye=re-32+16;for(0<K&&(R>=v.za-1?a(Ae,Ye,je[Qe].y[15],4):n(Ae,Ye,je[Qe+1].y,0,4)),O=0;4>O;O++)Ae[Ye+128+O]=Ae[Ye+256+O]=Ae[Ye+384+O]=Ae[Ye+0+O];for(O=0;16>O;++O,Ne<<=2)Ae=Q,Ye=re+Bb[O],Hi[Le.Ob[O]](Ae,Ye),sf(Ne,Ue,16*+O,Ae,Ye)}else if(Ae=w0(R,K,Le.Ob[0]),Ao[Ae](Q,re),Ne!=0)for(O=0;16>O;++O,Ne<<=2)sf(Ne,Ue,16*+O,Q,re+Bb[O]);for(O=Le.Gc,Ae=w0(R,K,Le.Dd),qs[Ae](ae,ue),qs[Ae](Se,ke),Ne=Ue,Ae=ae,Ye=ue,255&(Le=O>>0)&&(170&Le?df(Ne,256,Ae,Ye):yi(Ne,256,Ae,Ye)),Le=Se,Ne=ke,255&(O>>=8)&&(170&O?df(Ue,320,Le,Ne):yi(Ue,320,Le,Ne)),K<v.Ub-1&&(n(je[Qe].y,0,Q,re+480,16),n(je[Qe].f,0,ae,ue+224,8),n(je[Qe].ea,0,Se,ke+224,8)),O=8*X*v.B,je=v.sa,Qe=v.ta+16*R+16*X*v.R,Ue=v.qa,Le=v.ra+8*R+O,Ne=v.Ha,Ae=v.Ia+8*R+O,O=0;16>O;++O)n(je,Qe+O*v.R,Q,re+32*O,16);for(O=0;8>O;++O)n(Ue,Le+O*v.B,ae,ue+32*O,8),n(Ne,Ae+O*v.B,Se,ke+32*O,8)}}function Pc(v,b,O,R,K,X,Q,re,ae){var ue=[0],Se=[0],ke=0,Le=ae!=null?ae.kd:0,je=ae??new tf;if(v==null||12>O)return 7;je.data=v,je.w=b,je.ha=O,b=[b],O=[O],je.gb=[je.gb];e:{var Qe=b,Ue=O,Ne=je.gb;if(t(v!=null),t(Ue!=null),t(Ne!=null),Ne[0]=0,12<=Ue[0]&&!r(v,Qe[0],"RIFF")){if(r(v,Qe[0]+8,"WEBP")){Ne=3;break e}var Ae=Ze(v,Qe[0]+4);if(12>Ae||4294967286<Ae){Ne=3;break e}if(Le&&Ae>Ue[0]-8){Ne=7;break e}Ne[0]=Ae,Qe[0]+=12,Ue[0]-=12}Ne=0}if(Ne!=0)return Ne;for(Ae=0<je.gb[0],O=O[0];;){e:{var Ye=v;Ue=b,Ne=O;var rt=ue,Je=Se,xt=Qe=[0];if((mt=ke=[ke])[0]=0,8>Ne[0])Ne=7;else{if(!r(Ye,Ue[0],"VP8X")){if(Ze(Ye,Ue[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var dt=Ze(Ye,Ue[0]+8),Pt=1+ye(Ye,Ue[0]+12);if(2147483648<=Pt*(Ye=1+ye(Ye,Ue[0]+15))){Ne=3;break e}xt!=null&&(xt[0]=dt),rt!=null&&(rt[0]=Pt),Je!=null&&(Je[0]=Ye),Ue[0]+=18,Ne[0]-=18,mt[0]=1}Ne=0}}if(ke=ke[0],Qe=Qe[0],Ne!=0)return Ne;if(Ue=!!(2&Qe),!Ae&&ke)return 3;if(X!=null&&(X[0]=!!(16&Qe)),Q!=null&&(Q[0]=Ue),re!=null&&(re[0]=0),Q=ue[0],Qe=Se[0],ke&&Ue&&ae==null){Ne=0;break}if(4>O){Ne=7;break}if(Ae&&ke||!Ae&&!ke&&!r(v,b[0],"ALPH")){O=[O],je.na=[je.na],je.P=[je.P],je.Sa=[je.Sa];e:{dt=v,Ne=b,Ae=O;var mt=je.gb;rt=je.na,Je=je.P,xt=je.Sa,Pt=22,t(dt!=null),t(Ae!=null),Ye=Ne[0];var Qt=Ae[0];for(t(rt!=null),t(xt!=null),rt[0]=null,Je[0]=null,xt[0]=0;;){if(Ne[0]=Ye,Ae[0]=Qt,8>Qt){Ne=7;break e}var ar=Ze(dt,Ye+4);if(4294967286<ar){Ne=3;break e}var Kt=8+ar+1&-2;if(Pt+=Kt,0<mt&&Pt>mt){Ne=3;break e}if(!r(dt,Ye,"VP8 ")||!r(dt,Ye,"VP8L")){Ne=0;break e}if(Qt[0]<Kt){Ne=7;break e}r(dt,Ye,"ALPH")||(rt[0]=dt,Je[0]=Ye+8,xt[0]=ar),Ye+=Kt,Qt-=Kt}}if(O=O[0],je.na=je.na[0],je.P=je.P[0],je.Sa=je.Sa[0],Ne!=0)break}O=[O],je.Ja=[je.Ja],je.xa=[je.xa];e:if(mt=v,Ne=b,Ae=O,rt=je.gb[0],Je=je.Ja,xt=je.xa,dt=Ne[0],Ye=!r(mt,dt,"VP8 "),Pt=!r(mt,dt,"VP8L"),t(mt!=null),t(Ae!=null),t(Je!=null),t(xt!=null),8>Ae[0])Ne=7;else{if(Ye||Pt){if(mt=Ze(mt,dt+4),12<=rt&&mt>rt-12){Ne=3;break e}if(Le&&mt>Ae[0]-8){Ne=7;break e}Je[0]=mt,Ne[0]+=8,Ae[0]-=8,xt[0]=Pt}else xt[0]=5<=Ae[0]&&mt[dt+0]==47&&!(mt[dt+4]>>5),Je[0]=Ae[0];Ne=0}if(O=O[0],je.Ja=je.Ja[0],je.xa=je.xa[0],b=b[0],Ne!=0)break;if(4294967286<je.Ja)return 3;if(re==null||Ue||(re[0]=je.xa?2:1),Q=[Q],Qe=[Qe],je.xa){if(5>O){Ne=7;break}re=Q,Le=Qe,Ue=X,v==null||5>O?v=0:5<=O&&v[b+0]==47&&!(v[b+4]>>5)?(Ae=[0],mt=[0],rt=[0],V(Je=new C,v,b,O),Nt(Je,Ae,mt,rt)?(re!=null&&(re[0]=Ae[0]),Le!=null&&(Le[0]=mt[0]),Ue!=null&&(Ue[0]=rt[0]),v=1):v=0):v=0}else{if(10>O){Ne=7;break}re=Qe,v==null||10>O||!i0(v,b+3,O-3)?v=0:(Le=v[b+0]|v[b+1]<<8|v[b+2]<<16,Ue=16383&(v[b+7]<<8|v[b+6]),v=16383&(v[b+9]<<8|v[b+8]),1&Le||3<(Le>>1&7)||!(Le>>4&1)||Le>>5>=je.Ja||!Ue||!v?v=0:(Q&&(Q[0]=Ue),re&&(re[0]=v),v=1))}if(!v||(Q=Q[0],Qe=Qe[0],ke&&(ue[0]!=Q||Se[0]!=Qe)))return 3;ae!=null&&(ae[0]=je,ae.offset=b-ae.w,t(4294967286>b-ae.w),t(ae.offset==ae.ha-O));break}return Ne==0||Ne==7&&ke&&ae==null?(X!=null&&(X[0]|=je.na!=null&&0<je.na.length),R!=null&&(R[0]=Q),K!=null&&(K[0]=Qe),0):Ne}function lf(v,b,O){var R=b.width,K=b.height,X=0,Q=0,re=R,ae=K;if(b.Da=v!=null&&0<v.Da,b.Da&&(re=v.cd,ae=v.bd,X=v.v,Q=v.j,11>O||(X&=-2,Q&=-2),0>X||0>Q||0>=re||0>=ae||X+re>R||Q+ae>K))return 0;if(b.v=X,b.j=Q,b.va=X+re,b.o=Q+ae,b.U=re,b.T=ae,b.da=v!=null&&0<v.da,b.da){if(!Ve(re,ae,O=[v.ib],X=[v.hb]))return 0;b.ib=O[0],b.hb=X[0]}return b.ob=v!=null&&v.ob,b.Kb=v==null||!v.Sd,b.da&&(b.ob=b.ib<3*R/4&&b.hb<3*K/4,b.Kb=0),1}function cf(v){if(v==null)return 2;if(11>v.S){var b=v.f.RGBA;b.fb+=(v.height-1)*b.A,b.A=-b.A}else b=v.f.kb,v=v.height,b.O+=(v-1)*b.fa,b.fa=-b.fa,b.N+=(v-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(v-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(v-1)*b.lb,b.lb=-b.lb);return 0}function Tc(v,b,O,R){if(R==null||0>=v||0>=b)return 2;if(O!=null){if(O.Da){var K=O.cd,X=O.bd,Q=-2&O.v,re=-2&O.j;if(0>Q||0>re||0>=K||0>=X||Q+K>v||re+X>b)return 2;v=K,b=X}if(O.da){if(!Ve(v,b,K=[O.ib],X=[O.hb]))return 2;v=K[0],b=X[0]}}R.width=v,R.height=b;e:{var ae=R.width,ue=R.height;if(v=R.S,0>=ae||0>=ue||!(v>=P0&&13>v))v=2;else{if(0>=R.Rd&&R.sd==null){Q=X=K=b=0;var Se=(re=ae*Ub[v])*ue;if(11>v||(X=(ue+1)/2*(b=(ae+1)/2),v==12&&(Q=(K=ae)*ue)),(ue=i(Se+2*X+Q))==null){v=1;break e}R.sd=ue,11>v?((ae=R.f.RGBA).eb=ue,ae.fb=0,ae.A=re,ae.size=Se):((ae=R.f.kb).y=ue,ae.O=0,ae.fa=re,ae.Fd=Se,ae.f=ue,ae.N=0+Se,ae.Ab=b,ae.Cd=X,ae.ea=ue,ae.W=0+Se+X,ae.Db=b,ae.Ed=X,v==12&&(ae.F=ue,ae.J=0+Se+2*X),ae.Tc=Q,ae.lb=K)}if(b=1,K=R.S,X=R.width,Q=R.height,K>=P0&&13>K)if(11>K)v=R.f.RGBA,b&=(re=Math.abs(v.A))*(Q-1)+X<=v.size,b&=re>=X*Ub[K],b&=v.eb!=null;else{v=R.f.kb,re=(X+1)/2,Se=(Q+1)/2,ae=Math.abs(v.fa),ue=Math.abs(v.Ab);var ke=Math.abs(v.Db),Le=Math.abs(v.lb),je=Le*(Q-1)+X;b&=ae*(Q-1)+X<=v.Fd,b&=ue*(Se-1)+re<=v.Cd,b=(b&=ke*(Se-1)+re<=v.Ed)&ae>=X&ue>=re&ke>=re,b&=v.y!=null,b&=v.f!=null,b&=v.ea!=null,K==12&&(b&=Le>=X,b&=je<=v.Tc,b&=v.F!=null)}else b=0;v=b?0:2}}return v!=0||O!=null&&O.fd&&(v=cf(R)),v}var qn=64,Cc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Oc=24,kc=32,uf=8,La=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];se("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(v){return v},k.Predictor2=function(v,b,O){return b[O+0]},k.Predictor3=function(v,b,O){return b[O+1]},k.Predictor4=function(v,b,O){return b[O-1]},k.Predictor5=function(v,b,O){return we(we(v,b[O+1]),b[O+0])},k.Predictor6=function(v,b,O){return we(v,b[O-1])},k.Predictor7=function(v,b,O){return we(v,b[O+0])},k.Predictor8=function(v,b,O){return we(b[O-1],b[O+0])},k.Predictor9=function(v,b,O){return we(b[O+0],b[O+1])},k.Predictor10=function(v,b,O){return we(we(v,b[O-1]),we(b[O+0],b[O+1]))},k.Predictor11=function(v,b,O){var R=b[O+0];return 0>=Be(R>>24&255,v>>24&255,(b=b[O-1])>>24&255)+Be(R>>16&255,v>>16&255,b>>16&255)+Be(R>>8&255,v>>8&255,b>>8&255)+Be(255&R,255&v,255&b)?R:v},k.Predictor12=function(v,b,O){var R=b[O+0];return(qe((v>>24&255)+(R>>24&255)-((b=b[O-1])>>24&255))<<24|qe((v>>16&255)+(R>>16&255)-(b>>16&255))<<16|qe((v>>8&255)+(R>>8&255)-(b>>8&255))<<8|qe((255&v)+(255&R)-(255&b)))>>>0},k.Predictor13=function(v,b,O){var R=b[O-1];return(Re((v=we(v,b[O+0]))>>24&255,R>>24&255)<<24|Re(v>>16&255,R>>16&255)<<16|Re(v>>8&255,R>>8&255)<<8|Re(v>>0&255,R>>0&255))>>>0};var $g=k.PredictorAdd0;k.PredictorAdd1=nt,se("Predictor2","PredictorAdd2"),se("Predictor3","PredictorAdd3"),se("Predictor4","PredictorAdd4"),se("Predictor5","PredictorAdd5"),se("Predictor6","PredictorAdd6"),se("Predictor7","PredictorAdd7"),se("Predictor8","PredictorAdd8"),se("Predictor9","PredictorAdd9"),se("Predictor10","PredictorAdd10"),se("Predictor11","PredictorAdd11"),se("Predictor12","PredictorAdd12"),se("Predictor13","PredictorAdd13");var ff=k.PredictorAdd2;Tt("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),Tt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var _0,xi=k.ColorIndexInverseTransform,Lc=k.MapARGB,S0=k.VP8LColorIndexInverseTransformAlpha,N0=k.MapAlpha,wo=k.VP8LPredictorsAdd=[];wo.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var wl,Da,ya,_o,Rs,Bs,Dc,Us,Jr,df,ba,yi,Fc,A0,hf,_l,Sl,So,Nl,Ic,Al,No,mf,bi,wi,wr,_r,Zr,xn=i(511),$s=i(2041),pf=i(225),Mc=i(767),j0=0,qg=$s,E0=pf,Ja=Mc,_i=xn,P0=0,T0=1,Pb=2,C0=3,O0=4,Wg=5,Tb=6,zg=7,Hg=8,k0=9,Vg=10,wC=[2,3,7],_C=[3,3,11],Cb=[280,256,256,256,40],SC=[0,1,1,1,0],NC=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],AC=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],jC=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],EC=8,Gg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Kg=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],gf=null,PC=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],TC=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ob=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],CC=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],OC=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],kC=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],LC=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ao=[],Hi=[],qs=[],DC=1,kb=2,jo=[],Si=[];We("UpsampleRgbLinePair",Ht,3),We("UpsampleBgrLinePair",Ir,3),We("UpsampleRgbaLinePair",zi,4),We("UpsampleBgraLinePair",Tn,4),We("UpsampleArgbLinePair",ta,4),We("UpsampleRgba4444LinePair",sn,2),We("UpsampleRgb565LinePair",$r,2);var FC=k.UpsampleRgbLinePair,IC=k.UpsampleBgrLinePair,Lb=k.UpsampleRgbaLinePair,Db=k.UpsampleBgraLinePair,Fb=k.UpsampleArgbLinePair,Ib=k.UpsampleRgba4444LinePair,MC=k.UpsampleRgb565LinePair,L0=16,D0=1<<L0-1,vf=-227,Yg=482,Mb=6,RC=(256<<Mb)-1,Rb=0,BC=i(256),UC=i(256),$C=i(256),qC=i(256),WC=i(Yg-vf),zC=i(Yg-vf);xs("YuvToRgbRow",Ht,3),xs("YuvToBgrRow",Ir,3),xs("YuvToRgbaRow",zi,4),xs("YuvToBgraRow",Tn,4),xs("YuvToArgbRow",ta,4),xs("YuvToRgba4444Row",sn,2),xs("YuvToRgb565Row",$r,2);var Bb=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],F0=[0,2,8],HC=[8,7,6,4,4,2,2,2,1,1,1,1],VC=1;this.WebPDecodeRGBA=function(v,b,O,R,K){var X=T0,Q=new jc,re=new va;Q.ba=re,re.S=X,re.width=[re.width],re.height=[re.height];var ae=re.width,ue=re.height,Se=new gi;if(Se==null||v==null)var ke=2;else t(Se!=null),ke=Pc(v,b,O,Se.width,Se.height,Se.Pd,Se.Qd,Se.format,null);if(ke!=0?ae=0:(ae!=null&&(ae[0]=Se.width[0]),ue!=null&&(ue[0]=Se.height[0]),ae=1),ae){re.width=re.width[0],re.height=re.height[0],R!=null&&(R[0]=re.width),K!=null&&(K[0]=re.height);e:{if(R=new ps,(K=new tf).data=v,K.w=b,K.ha=O,K.kd=1,b=[0],t(K!=null),((v=Pc(K.data,K.w,K.ha,null,null,null,b,null,K))==0||v==7)&&b[0]&&(v=4),(b=v)==0){if(t(Q!=null),R.data=K.data,R.w=K.w+K.offset,R.ha=K.ha-K.offset,R.put=xa,R.ac=nr,R.bc=$n,R.ma=Q,K.xa){if((v=Me())==null){Q=1;break e}if(function(Le,je){var Qe=[0],Ue=[0],Ne=[0];t:for(;;){if(Le==null)return 0;if(je==null)return Le.a=2,0;if(Le.l=je,Le.a=0,V(Le.m,je.data,je.w,je.ha),!Nt(Le.m,Qe,Ue,Ne)){Le.a=3;break t}if(Le.xb=kb,je.width=Qe[0],je.height=Ue[0],!Ce(Qe[0],Ue[0],1,Le,null))break t;return 1}return t(Le.a!=0),0}(v,R)){if(R=(b=Tc(R.width,R.height,Q.Oa,Q.ba))==0){t:{R=v;r:for(;;){if(R==null){R=0;break t}if(t(R.s.yc!=null),t(R.s.Ya!=null),t(0<R.s.Wb),t((O=R.l)!=null),t((K=O.ma)!=null),R.xb!=0){if(R.ca=K.ba,R.tb=K.tb,t(R.ca!=null),!lf(K.Oa,O,C0)){R.a=2;break r}if(!ee(R,O.width)||O.da)break r;if((O.da||Ot(R.ca.S))&&Pe(),11>R.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),R.ca.f.kb.F!=null&&Pe()),R.Pb&&0<R.s.ua&&R.s.vb.X==null&&!Ke(R.s.vb,R.s.Wa.Xa)){R.a=1;break r}R.xb=0}if(!me(R,R.V,R.Ba,R.c,R.i,O.o,he))break r;K.Dc=R.Ma,R=1;break t}t(R.a!=0),R=0}R=!R}R&&(b=v.a)}else b=v.a}else{if((v=new Ya)==null){Q=1;break e}if(v.Fa=K.na,v.P=K.P,v.qc=K.Sa,s0(v,R)){if((b=Tc(R.width,R.height,Q.Oa,Q.ba))==0){if(v.Aa=0,O=Q.Oa,t((K=v)!=null),O!=null){if(0<(ae=0>(ae=O.Md)?0:100<ae?255:255*ae/100)){for(ue=Se=0;4>ue;++ue)12>(ke=K.pb[ue]).lc&&(ke.ia=ae*HC[0>ke.lc?0:ke.lc]>>3),Se|=ke.ia;Se&&(alert("todo:VP8InitRandom"),K.ia=1)}K.Ga=O.Id,100<K.Ga?K.Ga=100:0>K.Ga&&(K.Ga=0)}Sg(v,R)||(b=v.a)}}else b=v.a}b==0&&Q.Oa!=null&&Q.Oa.fd&&(b=cf(Q.ba))}Q=b}X=Q!=0?null:11>X?re.f.RGBA.eb:re.f.kb.y}else X=null;return X};var Ub=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(k,F){for(var L="",A=0;A<4;A++)L+=String.fromCharCode(k[F++]);return L}function f(k,F){return(k[F+0]<<0|k[F+1]<<8|k[F+2]<<16)>>>0}function d(k,F){return(k[F+0]<<0|k[F+1]<<8|k[F+2]<<16|k[F+3]<<24)>>>0}new c;var m=[0],h=[0],g=[],p=new c,x=e,y=function(k,F){var L={},A=0,S=!1,M=0,U=0;if(L.frames=[],!function(I,B,z,Z){for(var ge=0;ge<Z;ge++)if(I[B+ge]!=z.charCodeAt(ge))return!0;return!1}(k,F,"RIFF",4)){var G,H;for(d(k,F+=4),F+=8;F<k.length;){var q=u(k,F),V=d(k,F+=4);F+=4;var W=V+(1&V);switch(q){case"VP8 ":case"VP8L":L.frames[A]===void 0&&(L.frames[A]={}),(C=L.frames[A]).src_off=S?U:F-8,C.src_size=M+V+8,A++,S&&(S=!1,M=0,U=0);break;case"VP8X":(C=L.header={}).feature_flags=k[F];var ne=F+4;C.canvas_width=1+f(k,ne),ne+=3,C.canvas_height=1+f(k,ne),ne+=3;break;case"ALPH":S=!0,M=W+8,U=F-8;break;case"ANIM":(C=L.header).bgcolor=d(k,F),ne=F+4,C.loop_count=(G=k)[(H=ne)+0]<<0|G[H+1]<<8,ne+=2;break;case"ANMF":var ce,C;(C=L.frames[A]={}).offset_x=2*f(k,F),F+=3,C.offset_y=2*f(k,F),F+=3,C.width=1+f(k,F),F+=3,C.height=1+f(k,F),F+=3,C.duration=f(k,F),F+=3,ce=k[F++],C.dispose=1&ce,C.blend=ce>>1&1}q!="ANMF"&&(F+=W)}return L}}(x,0);y.response=x,y.rgbaoutput=!0,y.dataurl=!1;var _=y.header?y.header:null,w=y.frames?y.frames:null;if(_){_.loop_counter=_.loop_count,m=[_.canvas_height],h=[_.canvas_width];for(var P=0;P<w.length&&w[P].blend!=0;P++);}var E=w[0],D=p.WebPDecodeRGBA(x,E.src_off,E.src_size,h,m);E.rgba=D,E.imgwidth=h[0],E.imgheight=m[0];for(var N=0;N<h[0]*m[0]*4;N++)g[N]=D[N];return this.width=h,this.height=m,this.data=g,this}(function(e){var t=function(){return typeof jv=="function"},r=function(m,h,g,p){var x=4,y=s;switch(p){case e.image_compression.FAST:x=1,y=i;break;case e.image_compression.MEDIUM:x=6,y=o;break;case e.image_compression.SLOW:x=9,y=c}m=n(m,h,g,y);var _=jv(m,{level:x});return e.__addimage__.arrayBufferToBinaryString(_)},n=function(m,h,g,p){for(var x,y,_,w=m.length/h,P=new Uint8Array(m.length+w),E=f(),D=0;D<w;D+=1){if(_=D*h,x=m.subarray(_,_+h),p)P.set(p(x,g,y),_+D);else{for(var N,k=E.length,F=[];N<k;N+=1)F[N]=E[N](x,g,y);var L=d(F.concat());P.set(F[L],_+D)}y=x}return P},a=function(m){var h=Array.apply([],m);return h.unshift(0),h},i=function(m,h){var g,p=[],x=m.length;p[0]=1;for(var y=0;y<x;y+=1)g=m[y-h]||0,p[y+1]=m[y]-g+256&255;return p},s=function(m,h,g){var p,x=[],y=m.length;x[0]=2;for(var _=0;_<y;_+=1)p=g&&g[_]||0,x[_+1]=m[_]-p+256&255;return x},o=function(m,h,g){var p,x,y=[],_=m.length;y[0]=3;for(var w=0;w<_;w+=1)p=m[w-h]||0,x=g&&g[w]||0,y[w+1]=m[w]+256-(p+x>>>1)&255;return y},c=function(m,h,g){var p,x,y,_,w=[],P=m.length;w[0]=4;for(var E=0;E<P;E+=1)p=m[E-h]||0,x=g&&g[E]||0,y=g&&g[E-h]||0,_=u(p,x,y),w[E+1]=m[E]-_+256&255;return w},u=function(m,h,g){if(m===h&&h===g)return m;var p=Math.abs(h-g),x=Math.abs(m-g),y=Math.abs(m+h-g-g);return p<=x&&p<=y?m:x<=y?h:g},f=function(){return[a,i,s,o,c]},d=function(m){var h=m.map(function(g){return g.reduce(function(p,x){return p+Math.abs(x)},0)});return h.indexOf(Math.min.apply(null,h))};e.processPNG=function(m,h,g,p){var x,y,_,w,P,E,D,N,k,F,L,A,S,M,U,G=this.decode.FLATE_DECODE,H="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(_=new z$(m)).imgData,y=_.bits,x=_.colorSpace,P=_.colors,[4,6].indexOf(_.colorType)!==-1){if(_.bits===8){k=(N=_.pixelBitlength==32?new Uint32Array(_.decodePixels().buffer):_.pixelBitlength==16?new Uint16Array(_.decodePixels().buffer):new Uint8Array(_.decodePixels().buffer)).length,L=new Uint8Array(k*_.colors),F=new Uint8Array(k);var q,V=_.pixelBitlength-_.bits;for(M=0,U=0;M<k;M++){for(S=N[M],q=0;q<V;)L[U++]=S>>>q&255,q+=_.bits;F[M]=S>>>q&255}}if(_.bits===16){k=(N=new Uint32Array(_.decodePixels().buffer)).length,L=new Uint8Array(k*(32/_.pixelBitlength)*_.colors),F=new Uint8Array(k*(32/_.pixelBitlength)),A=_.colors>1,M=0,U=0;for(var W=0;M<k;)S=N[M++],L[U++]=S>>>0&255,A&&(L[U++]=S>>>16&255,S=N[M++],L[U++]=S>>>0&255),F[W++]=S>>>16&255;y=8}p!==e.image_compression.NONE&&t()?(m=r(L,_.width*_.colors,_.colors,p),D=r(F,_.width,1,p)):(m=L,D=F,G=void 0)}if(_.colorType===3&&(x=this.color_spaces.INDEXED,E=_.palette,_.transparency.indexed)){var ne=_.transparency.indexed,ce=0;for(M=0,k=ne.length;M<k;++M)ce+=ne[M];if((ce/=255)===k-1&&ne.indexOf(0)!==-1)w=[ne.indexOf(0)];else if(ce!==k){for(N=_.decodePixels(),F=new Uint8Array(N.length),M=0,k=N.length;M<k;M++)F[M]=ne[N[M]];D=r(F,_.width,1)}}var C=function(I){var B;switch(I){case e.image_compression.FAST:B=11;break;case e.image_compression.MEDIUM:B=13;break;case e.image_compression.SLOW:B=14;break;default:B=12}return B}(p);return G===this.decode.FLATE_DECODE&&(H="/Predictor "+C+" "),H+="/Colors "+P+" /BitsPerComponent "+y+" /Columns "+_.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(D&&this.__addimage__.isArrayBuffer(D)||this.__addimage__.isArrayBufferView(D))&&(D=this.__addimage__.arrayBufferToBinaryString(D)),{alias:g,data:m,index:h,filter:G,decodeParameters:H,transparency:w,palette:E,sMask:D,predictor:C,width:_.width,height:_.height,bitsPerComponent:y,colorSpace:x}}}})(Et.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new H$(t),s=i.width,o=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:s,height:o},f=new k1(100).encode(u,100);return e.processJPEG.call(this,f,r,n,a)},e.processGIF87A=e.processGIF89A}(Et.API),Ji.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ji.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){vr.log("bit decode error:"+r)}},Ji.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var c=this.palette[i>>7-o&1];this.data[s+4*o]=c.blue,this.data[s+4*o+1]=c.green,this.data[s+4*o+2]=c.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Ji.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,c=15&i,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Ji.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Ji.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,u=i>>15?255:0,f=n*this.width*4+4*a;this.data[f]=c,this.data[f+1]=o,this.data[f+2]=s,this.data[f+3]=u}this.pos+=e}},Ji.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,c=(s>>5&r)/r*255|0,u=(s>>11)/t*255|0,f=a*this.width*4+4*i;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=o,this.data[f+3]=255}this.pos+=e}},Ji.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Ji.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},Ji.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Ji(t,!1),s=i.width,o=i.height,c={data:i.getData(),width:s,height:o},u=new k1(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Et.API),Z5.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new Z5(t),s=i.width,o=i.height,c={data:i.getData(),width:s,height:o},u=new k1(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)}}(Et.API),Et.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,c=0,u=0;u<a;u+=4){var f=n[u],d=n[u+1],m=n[u+2],h=n[u+3];i[o++]=f,i[o++]=d,i[o++]=m,s[c++]=h}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Et.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Kc=Et.API,sh=Kc.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,c=o.fof?o.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,f=u.fof?u.fof:1,d=t.doKerning!==!1,m=0,h=e.length,g=0,p=o[0]||c,x=[];for(r=0;r<h;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?x.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(m=d&&tr(u[n])==="object"&&!isNaN(parseInt(u[n][g],10))?u[n][g]/f:0,x.push((o[n]||p)/c+m)),g=n;return x},K5=Kc.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Kc.processArabic&&(e=Kc.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:sh.apply(this,arguments).reduce(function(i,s){return i+s},0)},Y5=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var c=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(c,i)),o=0,c=i),o+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},X5=function(e,t,r){r||(r={});var n,a,i,s,o,c,u,f=[],d=[f],m=r.textIndent||0,h=0,g=0,p=e.split(" "),x=sh.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?p[0].length+2:r.lineIndent||0){var y=Array(c).join(" "),_=[];p.map(function(P){(P=P.split(/\s*\n/)).length>1?_=_.concat(P.map(function(E,D){return(D&&E.length?`
`:"")+E})):_.push(P[0])}),p=_,c=K5.apply(this,[y,r])}for(i=0,s=p.length;i<s;i++){var w=0;if(n=p[i],c&&n[0]==`
`&&(n=n.substr(1),w=1),m+h+(g=(a=sh.apply(this,[n,r])).reduce(function(P,E){return P+E},0))>t||w){if(g>t){for(o=Y5.apply(this,[n,a,t-(m+h),t]),f.push(o.shift()),f=[o.pop()];o.length;)d.push([o.shift()]);g=a.slice(n.length-(f[0]?f[0].length:0)).reduce(function(P,E){return P+E},0)}else f=[n];d.push(f),m=g+c,h=x}else f.push(n),m+=h+g,h=x}return u=c?function(P,E){return(E?y:"")+P.join(" ")}:function(P){return P.join(" ")},d.map(u)},Kc.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var d=this.internal.getFont(f.fontName,f.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,c,u=[];for(o=0,c=n.length;o<c;o++)u=u.concat(X5.apply(this,[n[o],s,i]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(d){return"0x"+parseInt(d,10).toString(16)},s=e.__fontmetrics__.compress=function(d){var m,h,g,p,x=["{"];for(var y in d){if(m=d[y],isNaN(parseInt(y,10))?h="'"+y+"'":(y=parseInt(y,10),h=(h=i(y).slice(2)).slice(0,-1)+n[h.slice(-1)]),typeof m=="number")m<0?(g=i(m).slice(3),p="-"):(g=i(m).slice(2),p=""),g=p+g.slice(0,-1)+n[g.slice(-1)];else{if(tr(m)!=="object")throw new Error("Don't know what to do with value type "+tr(m)+".");g=s(m)}x.push(h+g)}return x.push("}"),x.join("")},o=e.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,h,g,p,x={},y=1,_=x,w=[],P="",E="",D=d.length-1,N=1;N<D;N+=1)(p=d[N])=="'"?m?(g=m.join(""),m=void 0):m=[]:m?m.push(p):p=="{"?(w.push([_,g]),_={},g=void 0):p=="}"?((h=w.pop())[0][h[1]]=_,g=void 0,_=h[0]):p=="-"?y=-1:g===void 0?r.hasOwnProperty(p)?(P+=r[p],g=parseInt(P,16)*y,y=1,P=""):P+=p:r.hasOwnProperty(p)?(E+=r[p],_[g]=parseInt(E,16)*y,y=1,g=void 0,E=""):E+=p;return x},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(d){var m=d.font,h=f.Unicode[m.postScriptName];h&&(m.metadata.Unicode={},m.metadata.Unicode.widths=h.widths,m.metadata.Unicode.kerning=h.kerning);var g=u.Unicode[m.postScriptName];g&&(m.metadata.Unicode.encoding=g,m.encoding=g.codePages[0])}])}(Et.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(ed(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(Et),function(e){function t(){return(Ct.canvg?Promise.resolve(Ct.canvg):Go(()=>import("./index.es-fea48f65.js"),["assets/index.es-fea48f65.js","assets/vendor-9aea8973.js","assets/ui-c6cea856.js"])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Et.API.addSvgAsImage=function(r,n,a,i,s,o,c,u){if(isNaN(n)||isNaN(a))throw vr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw vr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=s;var d=f.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,f.width,f.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return t().then(function(g){return g.fromString(d,r,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(m)}).then(function(){h.addImage(f.toDataURL("image/jpeg",1),n,a,i,s,c,u)})}}(),Et.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Et.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),c=[],u=0,f=0,d=0;function m(g,p){var x,y=!1;for(x=0;x<g.length;x+=1)g[x]===p&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var h=o.length;for(d=0;d<h;d+=1)r[o[d]].value=r[o[d]].defaultValue,r[o[d]].explicitSet=!1}if(tr(e)==="object"){for(a in e)if(i=e[a],m(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&m(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(f=0;f<i[u].length;f+=1)typeof i[u][f]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,p=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?p.push("/"+g+" /"+r[g].value):p.push("/"+g+" "+r[g].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+s.length+o.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Et.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,c=s.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],d=0,m=i.length;d<m;++d){if(o=s.metadata.characterToGlyph(i.charCodeAt(d)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(d),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return f.join("");o=o.toString(16),f.push(u[4-o.length],o)}return f.join("")},n=function(i){var s,o,c,u,f,d,m;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],d=0,m=(o=Object.keys(i).sort(function(h,g){return h-g})).length;d<m;d++)s=o[d],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(u=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+u+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,c=s.out,u=s.newObject,f=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var d=o.metadata.Unicode.widths,m=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",g=0;g<m.length;g++)h+=String.fromCharCode(m[g]);var p=u();f({data:h,addLength1:!0,objectId:p}),c("endobj");var x=u();f({data:n(o.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var y=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+ru(o.fontName)),c("/FontFile2 "+p+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var _=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+ru(o.fontName)),c("/FontDescriptor "+y+" 0 R"),c("/W "+e.API.PDFObject.convert(d)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+x+" 0 R"),c("/BaseFont /"+ru(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+_+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,c=s.out,u=s.newObject,f=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var d=o.metadata.rawData,m="",h=0;h<d.length;h++)m+=String.fromCharCode(d[h]);var g=u();f({data:m,addLength1:!0,objectId:g}),c("endobj");var p=u();f({data:n(o.metadata.toUnicode),addLength1:!0,objectId:p}),c("endobj");var x=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+g+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+ru(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+ru(o.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",c=i.x,u=i.y,f=i.options||{},d=i.mutex||{},m=d.pdfEscape,h=d.activeFontKey,g=d.fonts,p=h,x="",y=0,_="",w=g[p].encoding;if(g[p].encoding!=="Identity-H")return{text:o,x:c,y:u,options:f,mutex:d};for(_=o,p=h,Array.isArray(o)&&(_=o[0]),y=0;y<_.length;y+=1)g[p].metadata.hasOwnProperty("cmap")&&(s=g[p].metadata.cmap.unicode.codeMap[_[y].charCodeAt(0)]),s||_[y].charCodeAt(0)<256&&g[p].metadata.hasOwnProperty("Unicode")?x+=_[y]:x+="";var P="";return parseInt(p.slice(1))<14||w==="WinAnsiEncoding"?P=m(x,p).split("").map(function(E){return E.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(P=r(x,g[p])),d.isHex=!0,{text:P,x:c,y:u,options:f,mutex:d}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],c={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([a(Object.assign({},c,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(a(Object.assign({},c,{text:s[u]})).text);i.text=o}else i.text=a(Object.assign({},c,{text:s})).text}])}(Et),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Et.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,c,u,f,d=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,w=0;this.__bidiEngine__={};var P=function(A){var S=A.charCodeAt(),M=S>>8,U=p[M];return U!==void 0?d[256*U+(255&S)]:M===252||M===253?"AL":y.test(M)?"L":M===8?"R":"N"},E=function(A){for(var S,M=0;M<A.length;M++){if((S=P(A.charAt(M)))==="L")return!1;if(S==="R")return!0}return!1},D=function(A,S,M,U){var G,H,q,V,W=S[U];switch(W){case"L":case"R":_=!1;break;case"N":case"AN":break;case"EN":_&&(W="AN");break;case"AL":_=!0,W="R";break;case"WS":W="N";break;case"CS":U<1||U+1>=S.length||(G=M[U-1])!=="EN"&&G!=="AN"||(H=S[U+1])!=="EN"&&H!=="AN"?W="N":_&&(H="AN"),W=H===G?H:"N";break;case"ES":W=(G=U>0?M[U-1]:"B")==="EN"&&U+1<S.length&&S[U+1]==="EN"?"EN":"N";break;case"ET":if(U>0&&M[U-1]==="EN"){W="EN";break}if(_){W="N";break}for(q=U+1,V=S.length;q<V&&S[q]==="ET";)q++;W=q<V&&S[q]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(V=S.length,q=U+1;q<V&&S[q]==="NSM";)q++;if(q<V){var ne=A[U],ce=ne>=1425&&ne<=2303||ne===64286;if(G=S[q],ce&&(G==="R"||G==="AL")){W="R";break}}}W=U<1||(G=S[U-1])==="B"?"N":M[U-1];break;case"B":_=!1,a=!0,W=w;break;case"S":i=!0,W="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"BN":W="N"}return W},N=function(A,S,M){var U=A.split("");return M&&k(U,M,{hiLevel:w}),U.reverse(),S&&S.reverse(),U.join("")},k=function(A,S,M){var U,G,H,q,V,W=-1,ne=A.length,ce=0,C=[],I=w?h:m,B=[];for(_=!1,a=!1,i=!1,G=0;G<ne;G++)B[G]=P(A[G]);for(H=0;H<ne;H++){if(V=ce,C[H]=D(A,B,C,H),U=240&(ce=I[V][g[C[H]]]),ce&=15,S[H]=q=I[ce][5],U>0)if(U===16){for(G=W;G<H;G++)S[G]=1;W=-1}else W=-1;if(I[ce][6])W===-1&&(W=H);else if(W>-1){for(G=W;G<H;G++)S[G]=q;W=-1}B[H]==="B"&&(S[H]=0),M.hiLevel|=q}i&&function(z,Z,ge){for(var pe=0;pe<ge;pe++)if(z[pe]==="S"){Z[pe]=w;for(var te=pe-1;te>=0&&z[te]==="WS";te--)Z[te]=w}}(B,S,ne)},F=function(A,S,M,U,G){if(!(G.hiLevel<A)){if(A===1&&w===1&&!a)return S.reverse(),void(M&&M.reverse());for(var H,q,V,W,ne=S.length,ce=0;ce<ne;){if(U[ce]>=A){for(V=ce+1;V<ne&&U[V]>=A;)V++;for(W=ce,q=V-1;W<q;W++,q--)H=S[W],S[W]=S[q],S[q]=H,M&&(H=M[W],M[W]=M[q],M[q]=H);ce=V}ce++}}},L=function(A,S,M){var U=A.split(""),G={hiLevel:w};return M||(M=[]),k(U,M,G),function(H,q,V){if(V.hiLevel!==0&&f)for(var W,ne=0;ne<H.length;ne++)q[ne]===1&&(W=x.indexOf(H[ne]))>=0&&(H[ne]=x[W+1])}(U,M,G),F(2,U,S,M,G),F(1,U,S,M,G),U.join("")};return this.__bidiEngine__.doBidiReorder=function(A,S,M){if(function(G,H){if(H)for(var q=0;q<G.length;q++)H[q]=q;o===void 0&&(o=E(G)),u===void 0&&(u=E(G))}(A,S),s||!c||u)if(s&&c&&o^u)w=o?1:0,A=N(A,S,M);else if(!s&&c&&u)w=o?1:0,A=L(A,S,M),A=N(A,S);else if(!s||o||c||u){if(s&&!c&&o^u)A=N(A,S),o?(w=0,A=L(A,S,M)):(w=1,A=L(A,S,M),A=N(A,S));else if(s&&o&&!c&&u)w=1,A=L(A,S,M),A=N(A,S);else if(!s&&!c&&o^u){var U=f;o?(w=1,A=L(A,S,M),w=0,f=!1,A=L(A,S,M),f=U):(w=0,A=L(A,S,M),A=N(A,S),w=1,f=!1,A=L(A,S,M),f=U,A=N(A,S))}}else w=0,A=L(A,S,M);else w=o?1:0,A=L(A,S,M);return A},this.__bidiEngine__.setOptions=function(A){A&&(s=A.isInputVisual,c=A.isOutputVisual,o=A.isInputRtl,u=A.isOutputRtl,f=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text,i=(n.x,n.y,n.options||{}),s=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Et),Et.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new al(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new sq(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new V$(this.contents),this.head=new K$(this),this.name=new Q$(this),this.cmap=new G3(this),this.toUnicode={},this.hhea=new Y$(this),this.maxp=new eq(this),this.hmtx=new tq(this),this.post=new J$(this),this.os2=new X$(this),this.loca=new iq(this),this.glyf=new rq(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,c,u;for(u=[],s=0,o=(c=this.bbox).length;s<o;s++)t=c[s],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ds,al=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,c;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^c)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+c},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),V$=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,c,u,f,d,m,h,g,p;for(p in h=Object.keys(r).length,c=Math.log(2),d=16*Math.floor(Math.log(h)/c),s=Math.floor(d/c),f=16*h-d,(a=new al).writeInt(this.scalarType),a.writeShort(h),a.writeShort(d),a.writeShort(s),a.writeShort(f),i=16*h,u=a.pos+i,o=null,g=[],r)for(m=r[p],a.writeString(p),a.writeInt(e(m)),a.writeInt(u),a.writeInt(m.length),g=g.concat(m),p==="head"&&(o=u),u+=m.length;u%4;)g.push(0),u++;return a.write(g),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=K3.call(r);r.length%4;)r.push(0);for(i=new al(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),G$={}.hasOwnProperty,Ds=function(e,t){for(var r in t)G$.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ds=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var K$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ds(t,ds),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new al).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),Q5=function(){function e(t,r){var n,a,i,s,o,c,u,f,d,m,h,g,p,x,y,_,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),d=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(h=t.readUInt16(),m=h/2,t.pos+=6,i=function(){var P,E;for(E=[],c=P=0;0<=m?P<m:P>m;c=0<=m?++P:--P)E.push(t.readUInt16());return E}(),t.pos+=2,p=function(){var P,E;for(E=[],c=P=0;0<=m?P<m:P>m;c=0<=m?++P:--P)E.push(t.readUInt16());return E}(),u=function(){var P,E;for(E=[],c=P=0;0<=m?P<m:P>m;c=0<=m?++P:--P)E.push(t.readUInt16());return E}(),f=function(){var P,E;for(E=[],c=P=0;0<=m?P<m:P>m;c=0<=m?++P:--P)E.push(t.readUInt16());return E}(),a=(this.length-t.pos+this.offset)/2,o=function(){var P,E;for(E=[],c=P=0;0<=a?P<a:P>a;c=0<=a?++P:--P)E.push(t.readUInt16());return E}(),c=y=0,w=i.length;y<w;c=++y)for(x=i[c],n=_=g=p[c];g<=x?_<=x:_>=x;n=g<=x?++_:--_)f[c]===0?s=n+u[c]:(s=o[f[c]/2+(n-g)-(m-c)]||0)!==0&&(s+=u[c]),this.codeMap[n]=65535&s}t.pos=d}return e.encode=function(t,r){var n,a,i,s,o,c,u,f,d,m,h,g,p,x,y,_,w,P,E,D,N,k,F,L,A,S,M,U,G,H,q,V,W,ne,ce,C,I,B,z,Z,ge,pe,te,be,Te,ye;switch(U=new al,s=Object.keys(t).sort(function(Ze,Ke){return Ze-Ke}),r){case"macroman":for(p=0,x=function(){var Ze=[];for(g=0;g<256;++g)Ze.push(0);return Ze}(),_={0:0},i={},G=0,W=s.length;G<W;G++)_[te=t[a=s[G]]]==null&&(_[te]=++p),i[a]={old:t[a],new:_[t[a]]},x[a]=_[t[a]];return U.writeUInt16(1),U.writeUInt16(0),U.writeUInt32(12),U.writeUInt16(0),U.writeUInt16(262),U.writeUInt16(0),U.write(x),{charMap:i,subtable:U.data,maxGlyphID:p+1};case"unicode":for(S=[],d=[],w=0,_={},n={},y=u=null,H=0,ne=s.length;H<ne;H++)_[E=t[a=s[H]]]==null&&(_[E]=++w),n[a]={old:E,new:_[E]},o=_[E]-a,y!=null&&o===u||(y&&d.push(y),S.push(a),u=o),y=a;for(y&&d.push(y),d.push(65535),S.push(65535),L=2*(F=S.length),k=2*Math.pow(Math.log(F)/Math.LN2,2),m=Math.log(k/2)/Math.LN2,N=2*F-k,c=[],D=[],h=[],g=q=0,ce=S.length;q<ce;g=++q){if(A=S[g],f=d[g],A===65535){c.push(0),D.push(0);break}if(A-(M=n[A].new)>=32768)for(c.push(0),D.push(2*(h.length+F-g)),a=V=A;A<=f?V<=f:V>=f;a=A<=f?++V:--V)h.push(n[a].new);else c.push(M-A),D.push(0)}for(U.writeUInt16(3),U.writeUInt16(1),U.writeUInt32(12),U.writeUInt16(4),U.writeUInt16(16+8*F+2*h.length),U.writeUInt16(0),U.writeUInt16(L),U.writeUInt16(k),U.writeUInt16(m),U.writeUInt16(N),ge=0,C=d.length;ge<C;ge++)a=d[ge],U.writeUInt16(a);for(U.writeUInt16(0),pe=0,I=S.length;pe<I;pe++)a=S[pe],U.writeUInt16(a);for(be=0,B=c.length;be<B;be++)o=c[be],U.writeUInt16(o);for(Te=0,z=D.length;Te<z;Te++)P=D[Te],U.writeUInt16(P);for(ye=0,Z=h.length;ye<Z;ye++)p=h[ye],U.writeUInt16(p);return{charMap:n,subtable:U.data,maxGlyphID:w+1}}},e}(),G3=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ds(t,ds),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new Q5(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=Q5.encode(r,n),(i=new al).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),Y$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ds(t,ds),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),X$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ds(t,ds),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),J$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ds(t,ds),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,c,u;for(u=[],s=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;s=0<=c?++o:--o)u.push(r.readUInt32());return u}).call(this)}},t}(),Z$=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Q$=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ds(t,ds),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,s,o,c,u,f,d,m,h;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},s=d=0,m=a.length;d<m;s=++d)i=a[s],r.pos=i.offset,f=r.readString(i.length),o=new Z$(f,i),u[h=i.nameID]==null&&(u[h]=[]),u[i.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),eq=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ds(t,ds),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),tq=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ds(t,ds),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,s,o,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,d;for(d=[],n=f=0;0<=i?f<i:f>i;n=0<=i?++f:--f)d.push(r.readInt16());return d}(),this.widths=(function(){var f,d,m,h;for(h=[],f=0,d=(m=this.metrics).length;f<d;f++)s=m[f],h.push(s.advance);return h}).call(this),a=this.widths[this.widths.length-1],u=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),K3=[].slice,rq=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ds(t,ds),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,s,o,c,u,f,d,m;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(c=new al(n.read(i))).readShort(),f=c.readShort(),m=c.readShort(),u=c.readShort(),d=c.readShort(),this.cache[r]=o===-1?new aq(c,f,m,u,d):new nq(c,o,f,m,u,d),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,s,o,c,u;for(o=[],s=[],c=0,u=n.length;c<u;c++)i=r[n[c]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},t}(),nq=function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),aq=function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new al(K3.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),iq=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ds(t,ds),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var c=this.offsets[o],u=this.offsets[o+1]-c;u>0&&(i+=u)}for(var f=new Array(4*a.length),d=0;d<a.length;++d)f[4*d+3]=255&a[d],f[4*d+2]=(65280&a[d])>>8,f[4*d+1]=(16711680&a[d])>>16,f[4*d]=(4278190080&a[d])>>24;return f},t}(),sq=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,c;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,c,u,f,d,m,h,g,p,x,y;for(a in n=G3.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),h={0:0},y=n.charMap)h[(c=y[a]).old]=c.new;for(g in m=n.maxGlyphID,s)g in h||(h[g]=m++);return f=function(_){var w,P;for(w in P={},_)P[_[w]]=w;return P}(h),d=Object.keys(f).sort(function(_,w){return _-w}),p=function(){var _,w,P;for(P=[],_=0,w=d.length;_<w;_++)o=d[_],P.push(f[o]);return P}(),i=this.font.glyf.encode(s,p,h),u=this.font.loca.encode(i.offsets,p),x={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},e}();Et.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,c,u;for(u=[],o=0,c=r.length;o<c;o++)n=r[o],u.push(t.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t}();const oq=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:R$,AcroFormAppearance:wt,AcroFormButton:wn,AcroFormCheckBox:nd,AcroFormChoiceField:ql,AcroFormComboBox:zl,AcroFormEditBox:td,AcroFormListBox:Wl,AcroFormPasswordField:ad,AcroFormPushButton:rd,AcroFormRadioButton:Hl,AcroFormTextField:Ko,GState:pd,ShadingPattern:qo,TilingPattern:Il,default:Et,jsPDF:Et},Symbol.toStringTag,{value:"Module"}));var lq={exports:{}};const cq=oO(oq);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(e,t){(function(n,a){e.exports=a(function(){try{return cq}catch{}}())})(typeof globalThis<"u"?globalThis:typeof s1<"u"?s1:typeof window<"u"?window:typeof self<"u"?self:s1,function(r){return function(){var n={172:function(o,c){var u=this&&this.__extends||function(){var m=function(h,g){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,x){p.__proto__=x}||function(p,x){for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(p[y]=x[y])},m(h,g)};return function(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");m(h,g);function p(){this.constructor=h}h.prototype=g===null?Object.create(g):(p.prototype=g.prototype,new p)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.CellHookData=c.HookData=void 0;var f=function(){function m(h,g,p){this.table=g,this.pageNumber=g.pageNumber,this.pageCount=this.pageNumber,this.settings=g.settings,this.cursor=p,this.doc=h.getDocument()}return m}();c.HookData=f;var d=function(m){u(h,m);function h(g,p,x,y,_,w){var P=m.call(this,g,p,w)||this;return P.cell=x,P.row=y,P.column=_,P.section=y.section,P}return h}(f);c.CellHookData=d},340:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0});var f=u(4),d=u(136),m=u(744),h=u(776),g=u(664),p=u(972);function x(y){y.API.autoTable=function(){for(var _=[],w=0;w<arguments.length;w++)_[w]=arguments[w];var P;_.length===1?P=_[0]:(console.error("Use of deprecated autoTable initiation"),P=_[2]||{},P.columns=_[0],P.body=_[1]);var E=(0,h.parseInput)(this,P),D=(0,p.createTable)(this,E);return(0,g.drawTable)(this,D),this},y.API.lastAutoTable=!1,y.API.previousAutoTable=!1,y.API.autoTable.previous=!1,y.API.autoTableText=function(_,w,P,E){(0,d.default)(_,w,P,E,this)},y.API.autoTableSetDefaults=function(_){return m.DocHandler.setDefaults(_,this),this},y.autoTableSetDefaults=function(_,w){m.DocHandler.setDefaults(_,w)},y.API.autoTableHtmlToJson=function(_,w){var P;if(w===void 0&&(w=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var E=new m.DocHandler(this),D=(0,f.parseHtml)(E,_,window,w,!1),N=D.head,k=D.body,F=((P=N[0])===null||P===void 0?void 0:P.map(function(L){return L.content}))||[];return{columns:F,rows:k,data:k}},y.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var _=this.lastAutoTable;return _&&_.finalY?_.finalY:0},y.API.autoTableAddPageContent=function(_){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),y.API.autoTable.globalDefaults||(y.API.autoTable.globalDefaults={}),y.API.autoTable.globalDefaults.addPageContent=_,this},y.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}c.default=x},136:function(o,c){Object.defineProperty(c,"__esModule",{value:!0});function u(f,d,m,h,g){h=h||{};var p=1.15,x=g.internal.scaleFactor,y=g.internal.getFontSize()/x,_=g.getLineHeightFactor?g.getLineHeightFactor():p,w=y*_,P=/\r\n|\r|\n/g,E="",D=1;if((h.valign==="middle"||h.valign==="bottom"||h.halign==="center"||h.halign==="right")&&(E=typeof f=="string"?f.split(P):f,D=E.length||1),m+=y*(2-p),h.valign==="middle"?m-=D/2*w:h.valign==="bottom"&&(m-=D*w),h.halign==="center"||h.halign==="right"){var N=y;if(h.halign==="center"&&(N*=.5),E&&D>=1){for(var k=0;k<E.length;k++)g.text(E[k],d-g.getStringUnitWidth(E[k])*N,m),m+=w;return g}d-=g.getStringUnitWidth(f)*N}return h.halign==="justify"?g.text(f,d,m,{maxWidth:h.maxWidth||100,align:"justify"}):g.text(f,d,m),g}c.default=u},420:function(o,c){Object.defineProperty(c,"__esModule",{value:!0}),c.getPageAvailableWidth=c.parseSpacing=c.getFillStyle=c.addTableBorder=c.getStringWidth=void 0;function u(g,p,x){x.applyStyles(p,!0);var y=Array.isArray(g)?g:[g],_=y.map(function(w){return x.getTextWidth(w)}).reduce(function(w,P){return Math.max(w,P)},0);return _}c.getStringWidth=u;function f(g,p,x,y){var _=p.settings.tableLineWidth,w=p.settings.tableLineColor;g.applyStyles({lineWidth:_,lineColor:w});var P=d(_,!1);P&&g.rect(x.x,x.y,p.getWidth(g.pageSize().width),y.y-x.y,P)}c.addTableBorder=f;function d(g,p){var x=g>0,y=p||p===0;return x&&y?"DF":x?"S":y?"F":null}c.getFillStyle=d;function m(g,p){var x,y,_,w;if(g=g||p,Array.isArray(g)){if(g.length>=4)return{top:g[0],right:g[1],bottom:g[2],left:g[3]};if(g.length===3)return{top:g[0],right:g[1],bottom:g[2],left:g[1]};if(g.length===2)return{top:g[0],right:g[1],bottom:g[0],left:g[1]};g.length===1?g=g[0]:g=p}return typeof g=="object"?(typeof g.vertical=="number"&&(g.top=g.vertical,g.bottom=g.vertical),typeof g.horizontal=="number"&&(g.right=g.horizontal,g.left=g.horizontal),{left:(x=g.left)!==null&&x!==void 0?x:p,top:(y=g.top)!==null&&y!==void 0?y:p,right:(_=g.right)!==null&&_!==void 0?_:p,bottom:(w=g.bottom)!==null&&w!==void 0?w:p}):(typeof g!="number"&&(g=p),{top:g,right:g,bottom:g,left:g})}c.parseSpacing=m;function h(g,p){var x=m(p.settings.margin,0);return g.pageSize().width-(x.left+x.right)}c.getPageAvailableWidth=h},796:function(o,c){var u=this&&this.__extends||function(){var h=function(g,p){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,y){x.__proto__=y}||function(x,y){for(var _ in y)Object.prototype.hasOwnProperty.call(y,_)&&(x[_]=y[_])},h(g,p)};return function(g,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");h(g,p);function x(){this.constructor=g}g.prototype=p===null?Object.create(p):(x.prototype=p.prototype,new x)}}();Object.defineProperty(c,"__esModule",{value:!0}),c.getTheme=c.defaultStyles=c.HtmlRowInput=void 0;var f=function(h){u(g,h);function g(p){var x=h.call(this)||this;return x._element=p,x}return g}(Array);c.HtmlRowInput=f;function d(h){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/h,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}c.defaultStyles=d;function m(h){var g={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return g[h]}c.getTheme=m},903:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseCss=void 0;var f=u(420);function d(x,y,_,w,P){var E={},D=1.3333333333333333,N=h(y,function(W){return P.getComputedStyle(W).backgroundColor});N!=null&&(E.fillColor=N);var k=h(y,function(W){return P.getComputedStyle(W).color});k!=null&&(E.textColor=k);var F=p(w,_);F&&(E.cellPadding=F);var L="borderTopColor",A=D*_,S=w.borderTopWidth;if(w.borderBottomWidth===S&&w.borderRightWidth===S&&w.borderLeftWidth===S){var M=(parseFloat(S)||0)/A;M&&(E.lineWidth=M)}else E.lineWidth={top:(parseFloat(w.borderTopWidth)||0)/A,right:(parseFloat(w.borderRightWidth)||0)/A,bottom:(parseFloat(w.borderBottomWidth)||0)/A,left:(parseFloat(w.borderLeftWidth)||0)/A},E.lineWidth.top||(E.lineWidth.right?L="borderRightColor":E.lineWidth.bottom?L="borderBottomColor":E.lineWidth.left&&(L="borderLeftColor"));var U=h(y,function(W){return P.getComputedStyle(W)[L]});U!=null&&(E.lineColor=U);var G=["left","right","center","justify"];G.indexOf(w.textAlign)!==-1&&(E.halign=w.textAlign),G=["middle","bottom","top"],G.indexOf(w.verticalAlign)!==-1&&(E.valign=w.verticalAlign);var H=parseInt(w.fontSize||"");isNaN(H)||(E.fontSize=H/D);var q=m(w);q&&(E.fontStyle=q);var V=(w.fontFamily||"").toLowerCase();return x.indexOf(V)!==-1&&(E.font=V),E}c.parseCss=d;function m(x){var y="";return(x.fontWeight==="bold"||x.fontWeight==="bolder"||parseInt(x.fontWeight)>=700)&&(y="bold"),(x.fontStyle==="italic"||x.fontStyle==="oblique")&&(y+="italic"),y}function h(x,y){var _=g(x,y);if(!_)return null;var w=_.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!w||!Array.isArray(w))return null;var P=[parseInt(w[1]),parseInt(w[2]),parseInt(w[3])],E=parseInt(w[4]);return E===0||isNaN(P[0])||isNaN(P[1])||isNaN(P[2])?null:P}function g(x,y){var _=y(x);return _==="rgba(0, 0, 0, 0)"||_==="transparent"||_==="initial"||_==="inherit"?x.parentElement==null?null:g(x.parentElement,y):_}function p(x,y){var _=[x.paddingTop,x.paddingRight,x.paddingBottom,x.paddingLeft],w=96/(72/y),P=(parseInt(x.lineHeight)-parseInt(x.fontSize))/y/2,E=_.map(function(N){return parseInt(N||"0")/w}),D=(0,f.parseSpacing)(E,0);return P>D.top&&(D.top=P),P>D.bottom&&(D.bottom=P),D}},744:function(o,c){Object.defineProperty(c,"__esModule",{value:!0}),c.DocHandler=void 0;var u={},f=function(){function d(m){this.jsPDFDocument=m,this.userStyles={textColor:m.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:m.internal.getFontSize(),fontStyle:m.internal.getFont().fontStyle,font:m.internal.getFont().fontName,lineWidth:m.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:m.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return d.setDefaults=function(m,h){h===void 0&&(h=null),h?h.__autoTableDocumentDefaults=m:u=m},d.unifyColor=function(m){return Array.isArray(m)?m:typeof m=="number"?[m,m,m]:typeof m=="string"?[m]:null},d.prototype.applyStyles=function(m,h){var g,p,x;h===void 0&&(h=!1),m.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(m.fontStyle);var y=this.jsPDFDocument.internal.getFont(),_=y.fontStyle,w=y.fontName;if(m.font&&(w=m.font),m.fontStyle){_=m.fontStyle;var P=this.getFontList()[w];P&&P.indexOf(_)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(P[0]),_=P[0])}if(this.jsPDFDocument.setFont(w,_),m.fontSize&&this.jsPDFDocument.setFontSize(m.fontSize),!h){var E=d.unifyColor(m.fillColor);E&&(g=this.jsPDFDocument).setFillColor.apply(g,E),E=d.unifyColor(m.textColor),E&&(p=this.jsPDFDocument).setTextColor.apply(p,E),E=d.unifyColor(m.lineColor),E&&(x=this.jsPDFDocument).setDrawColor.apply(x,E),typeof m.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(m.lineWidth)}},d.prototype.splitTextToSize=function(m,h,g){return this.jsPDFDocument.splitTextToSize(m,h,g)},d.prototype.rect=function(m,h,g,p,x){return this.jsPDFDocument.rect(m,h,g,p,x)},d.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},d.prototype.getTextWidth=function(m){return this.jsPDFDocument.getTextWidth(m)},d.prototype.getDocument=function(){return this.jsPDFDocument},d.prototype.setPage=function(m){this.jsPDFDocument.setPage(m)},d.prototype.addPage=function(){return this.jsPDFDocument.addPage()},d.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},d.prototype.getGlobalOptions=function(){return u||{}},d.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},d.prototype.pageSize=function(){var m=this.jsPDFDocument.internal.pageSize;return m.width==null&&(m={width:m.getWidth(),height:m.getHeight()}),m},d.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},d.prototype.getLineHeightFactor=function(){var m=this.jsPDFDocument;return m.getLineHeightFactor?m.getLineHeightFactor():1.15},d.prototype.getLineHeight=function(m){return m/this.scaleFactor()*this.getLineHeightFactor()},d.prototype.pageNumber=function(){var m=this.jsPDFDocument.internal.getCurrentPageInfo();return m?m.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},d}();c.DocHandler=f},4:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseHtml=void 0;var f=u(903),d=u(796);function m(p,x,y,_,w){var P,E;_===void 0&&(_=!1),w===void 0&&(w=!1);var D;typeof x=="string"?D=y.document.querySelector(x):D=x;var N=Object.keys(p.getFontList()),k=p.scaleFactor(),F=[],L=[],A=[];if(!D)return console.error("Html table could not be found with input: ",x),{head:F,body:L,foot:A};for(var S=0;S<D.rows.length;S++){var M=D.rows[S],U=(E=(P=M==null?void 0:M.parentElement)===null||P===void 0?void 0:P.tagName)===null||E===void 0?void 0:E.toLowerCase(),G=h(N,k,y,M,_,w);G&&(U==="thead"?F.push(G):U==="tfoot"?A.push(G):L.push(G))}return{head:F,body:L,foot:A}}c.parseHtml=m;function h(p,x,y,_,w,P){for(var E=new d.HtmlRowInput(_),D=0;D<_.cells.length;D++){var N=_.cells[D],k=y.getComputedStyle(N);if(w||k.display!=="none"){var F=void 0;P&&(F=(0,f.parseCss)(p,N,x,k,y)),E.push({rowSpan:N.rowSpan,colSpan:N.colSpan,styles:F,_element:N,content:g(N)})}}var L=y.getComputedStyle(_);if(E.length>0&&(w||L.display!=="none"))return E}function g(p){var x=p.cloneNode(!0);return x.innerHTML=x.innerHTML.replace(/\n/g,"").replace(/ +/g," "),x.innerHTML=x.innerHTML.split(/<br.*?>/).map(function(y){return y.trim()}).join(`
`),x.innerText||x.textContent||""}},776:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.parseInput=void 0;var f=u(4),d=u(356),m=u(420),h=u(744),g=u(792);function p(D,N){var k=new h.DocHandler(D),F=k.getDocumentOptions(),L=k.getGlobalOptions();(0,g.default)(k,L,F,N);var A=(0,d.assign)({},L,F,N),S;typeof window<"u"&&(S=window);var M=x(L,F,N),U=y(L,F,N),G=_(k,A),H=P(k,A,S);return{id:N.tableId,content:H,hooks:U,styles:M,settings:G}}c.parseInput=p;function x(D,N,k){for(var F={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},L=function(U){if(U==="columnStyles"){var G=D[U],H=N[U],q=k[U];F.columnStyles=(0,d.assign)({},G,H,q)}else{var V=[D,N,k],W=V.map(function(ne){return ne[U]||{}});F[U]=(0,d.assign)({},W[0],W[1],W[2])}},A=0,S=Object.keys(F);A<S.length;A++){var M=S[A];L(M)}return F}function y(D,N,k){for(var F=[D,N,k],L={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},A=0,S=F;A<S.length;A++){var M=S[A];M.didParseCell&&L.didParseCell.push(M.didParseCell),M.willDrawCell&&L.willDrawCell.push(M.willDrawCell),M.didDrawCell&&L.didDrawCell.push(M.didDrawCell),M.willDrawPage&&L.willDrawPage.push(M.willDrawPage),M.didDrawPage&&L.didDrawPage.push(M.didDrawPage)}return L}function _(D,N){var k,F,L,A,S,M,U,G,H,q,V,W,ne=(0,m.parseSpacing)(N.margin,40/D.scaleFactor()),ce=(k=w(D,N.startY))!==null&&k!==void 0?k:ne.top,C;N.showFoot===!0?C="everyPage":N.showFoot===!1?C="never":C=(F=N.showFoot)!==null&&F!==void 0?F:"everyPage";var I;N.showHead===!0?I="everyPage":N.showHead===!1?I="never":I=(L=N.showHead)!==null&&L!==void 0?L:"everyPage";var B=(A=N.useCss)!==null&&A!==void 0?A:!1,z=N.theme||(B?"plain":"striped"),Z=!!N.horizontalPageBreak,ge=(S=N.horizontalPageBreakRepeat)!==null&&S!==void 0?S:null;return{includeHiddenHtml:(M=N.includeHiddenHtml)!==null&&M!==void 0?M:!1,useCss:B,theme:z,startY:ce,margin:ne,pageBreak:(U=N.pageBreak)!==null&&U!==void 0?U:"auto",rowPageBreak:(G=N.rowPageBreak)!==null&&G!==void 0?G:"auto",tableWidth:(H=N.tableWidth)!==null&&H!==void 0?H:"auto",showHead:I,showFoot:C,tableLineWidth:(q=N.tableLineWidth)!==null&&q!==void 0?q:0,tableLineColor:(V=N.tableLineColor)!==null&&V!==void 0?V:200,horizontalPageBreak:Z,horizontalPageBreakRepeat:ge,horizontalPageBreakBehaviour:(W=N.horizontalPageBreakBehaviour)!==null&&W!==void 0?W:"afterAllRows"}}function w(D,N){var k=D.getLastAutoTable(),F=D.scaleFactor(),L=D.pageNumber(),A=!1;if(k&&k.startPageNumber){var S=k.startPageNumber+k.pageNumber-1;A=S===L}return typeof N=="number"?N:(N==null||N===!1)&&A&&(k==null?void 0:k.finalY)!=null?k.finalY+20/F:null}function P(D,N,k){var F=N.head||[],L=N.body||[],A=N.foot||[];if(N.html){var S=N.includeHiddenHtml;if(k){var M=(0,f.parseHtml)(D,N.html,k,S,N.useCss)||{};F=M.head||F,L=M.body||F,A=M.foot||F}else console.error("Cannot parse html in non browser environment")}var U=N.columns||E(F,L,A);return{columns:U,head:F,body:L,foot:A}}function E(D,N,k){var F=D[0]||N[0]||k[0]||[],L=[];return Object.keys(F).filter(function(A){return A!=="_element"}).forEach(function(A){var S=1,M;Array.isArray(F)?M=F[parseInt(A)]:M=F[A],typeof M=="object"&&!Array.isArray(M)&&(S=(M==null?void 0:M.colSpan)||1);for(var U=0;U<S;U++){var G=void 0;Array.isArray(F)?G=L.length:G=A+(U>0?"_".concat(U):"");var H={dataKey:G};L.push(H)}}),L}},792:function(o,c){Object.defineProperty(c,"__esModule",{value:!0});function u(d,m,h,g){for(var p=function(w){w&&typeof w!="object"&&console.error("The options parameter should be of type object, is: "+typeof w),typeof w.extendWidth<"u"&&(w.tableWidth=w.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof w.margins<"u"&&(typeof w.margin>"u"&&(w.margin=w.margins),console.error("Use of deprecated option: margins, use margin instead.")),w.startY&&typeof w.startY!="number"&&(console.error("Invalid value for startY option",w.startY),delete w.startY),!w.didDrawPage&&(w.afterPageContent||w.beforePageContent||w.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),w.didDrawPage=function(A){d.applyStyles(d.userStyles),w.beforePageContent&&w.beforePageContent(A),d.applyStyles(d.userStyles),w.afterPageContent&&w.afterPageContent(A),d.applyStyles(d.userStyles),w.afterPageAdd&&A.pageNumber>1&&A.afterPageAdd(A),d.applyStyles(d.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(A){w[A]&&console.error('The "'.concat(A,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(A){var S=A[0],M=A[1];w[M]&&(console.error("Use of deprecated option ".concat(M,". Use ").concat(S," instead")),w[S]=w[M])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(A){var S=typeof A=="string"?A:A[0],M=typeof A=="string"?A:A[1];typeof w[S]<"u"&&(typeof w.styles[M]>"u"&&(w.styles[M]=w[S]),console.error("Use of deprecated option: "+S+", use the style "+M+" instead."))});for(var P=0,E=["styles","bodyStyles","headStyles","footStyles"];P<E.length;P++){var D=E[P];f(w[D]||{})}for(var N=w.columnStyles||{},k=0,F=Object.keys(N);k<F.length;k++){var L=F[k];f(N[L]||{})}},x=0,y=[m,h,g];x<y.length;x++){var _=y[x];p(_)}}c.default=u;function f(d){d.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),d.minCellHeight||(d.minCellHeight=d.rowHeight)):d.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),d.cellWidth||(d.cellWidth=d.columnWidth))}},260:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.Column=c.Cell=c.Row=c.Table=void 0;var f=u(796),d=u(172),m=u(420),h=function(){function y(_,w){this.pageNumber=1,this.pageCount=1,this.id=_.id,this.settings=_.settings,this.styles=_.styles,this.hooks=_.hooks,this.columns=w.columns,this.head=w.head,this.body=w.body,this.foot=w.foot}return y.prototype.getHeadHeight=function(_){return this.head.reduce(function(w,P){return w+P.getMaxCellHeight(_)},0)},y.prototype.getFootHeight=function(_){return this.foot.reduce(function(w,P){return w+P.getMaxCellHeight(_)},0)},y.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},y.prototype.callCellHooks=function(_,w,P,E,D,N){for(var k=0,F=w;k<F.length;k++){var L=F[k],A=new d.CellHookData(_,this,P,E,D,N),S=L(A)===!1;if(P.text=Array.isArray(P.text)?P.text:[P.text],S)return!1}return!0},y.prototype.callEndPageHooks=function(_,w){_.applyStyles(_.userStyles);for(var P=0,E=this.hooks.didDrawPage;P<E.length;P++){var D=E[P];D(new d.HookData(_,this,w))}},y.prototype.callWillDrawPageHooks=function(_,w){for(var P=0,E=this.hooks.willDrawPage;P<E.length;P++){var D=E[P];D(new d.HookData(_,this,w))}},y.prototype.getWidth=function(_){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var w=this.columns.reduce(function(E,D){return E+D.wrappedWidth},0);return w}else{var P=this.settings.margin;return _-P.left-P.right}},y}();c.Table=h;var g=function(){function y(_,w,P,E,D){D===void 0&&(D=!1),this.height=0,this.raw=_,_ instanceof f.HtmlRowInput&&(this.raw=_._element,this.element=_._element),this.index=w,this.section=P,this.cells=E,this.spansMultiplePages=D}return y.prototype.getMaxCellHeight=function(_){var w=this;return _.reduce(function(P,E){var D;return Math.max(P,((D=w.cells[E.index])===null||D===void 0?void 0:D.height)||0)},0)},y.prototype.hasRowSpan=function(_){var w=this;return _.filter(function(P){var E=w.cells[P.index];return E?E.rowSpan>1:!1}).length>0},y.prototype.canEntireRowFit=function(_,w){return this.getMaxCellHeight(w)<=_},y.prototype.getMinimumRowHeight=function(_,w){var P=this;return _.reduce(function(E,D){var N=P.cells[D.index];if(!N)return 0;var k=w.getLineHeight(N.styles.fontSize),F=N.padding("vertical"),L=F+k;return L>E?L:E},0)},y}();c.Row=g;var p=function(){function y(_,w,P){var E,D;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=w,this.section=P,this.raw=_;var N=_;_!=null&&typeof _=="object"&&!Array.isArray(_)?(this.rowSpan=_.rowSpan||1,this.colSpan=_.colSpan||1,N=(D=(E=_.content)!==null&&E!==void 0?E:_.title)!==null&&D!==void 0?D:_,_._element&&(this.raw=_._element)):(this.rowSpan=1,this.colSpan=1);var k=N!=null?""+N:"",F=/\r\n|\r|\n/g;this.text=k.split(F)}return y.prototype.getTextPos=function(){var _;if(this.styles.valign==="top")_=this.y+this.padding("top");else if(this.styles.valign==="bottom")_=this.y+this.height-this.padding("bottom");else{var w=this.height-this.padding("vertical");_=this.y+w/2+this.padding("top")}var P;if(this.styles.halign==="right")P=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var E=this.width-this.padding("horizontal");P=this.x+E/2+this.padding("left")}else P=this.x+this.padding("left");return{x:P,y:_}},y.prototype.getContentHeight=function(_,w){w===void 0&&(w=1.15);var P=Array.isArray(this.text)?this.text.length:1,E=this.styles.fontSize/_*w,D=P*E+this.padding("vertical");return Math.max(D,this.styles.minCellHeight)},y.prototype.padding=function(_){var w=(0,m.parseSpacing)(this.styles.cellPadding,0);return _==="vertical"?w.top+w.bottom:_==="horizontal"?w.left+w.right:w[_]},y}();c.Cell=p;var x=function(){function y(_,w,P){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=_,this.raw=w,this.index=P}return y.prototype.getMaxCustomCellWidth=function(_){for(var w=0,P=0,E=_.allRows();P<E.length;P++){var D=E[P],N=D.cells[this.index];N&&typeof N.styles.cellWidth=="number"&&(w=Math.max(w,N.styles.cellWidth))}return w},y}();c.Column=x},356:function(o,c){Object.defineProperty(c,"__esModule",{value:!0}),c.assign=void 0;function u(f,d,m,h,g){if(f==null)throw new TypeError("Cannot convert undefined or null to object");for(var p=Object(f),x=1;x<arguments.length;x++){var y=arguments[x];if(y!=null)for(var _ in y)Object.prototype.hasOwnProperty.call(y,_)&&(p[_]=y[_])}return p}c.assign=u},972:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.createTable=void 0;var f=u(744),d=u(260),m=u(324),h=u(796),g=u(356);function p(D,N){var k=new f.DocHandler(D),F=x(N,k.scaleFactor()),L=new d.Table(N,F);return(0,m.calculateWidths)(k,L),k.applyStyles(k.userStyles),L}c.createTable=p;function x(D,N){var k=D.content,F=P(k.columns);if(k.head.length===0){var L=_(F,"head");L&&k.head.push(L)}if(k.foot.length===0){var L=_(F,"foot");L&&k.foot.push(L)}var A=D.settings.theme,S=D.styles;return{columns:F,head:y("head",k.head,F,S,A,N),body:y("body",k.body,F,S,A,N),foot:y("foot",k.foot,F,S,A,N)}}function y(D,N,k,F,L,A){var S={},M=N.map(function(U,G){for(var H=0,q={},V=0,W=0,ne=0,ce=k;ne<ce.length;ne++){var C=ce[ne];if(S[C.index]==null||S[C.index].left===0)if(W===0){var I=void 0;Array.isArray(U)?I=U[C.index-V-H]:I=U[C.dataKey];var B={};typeof I=="object"&&!Array.isArray(I)&&(B=(I==null?void 0:I.styles)||{});var z=E(D,C,G,L,F,A,B),Z=new d.Cell(I,z,D);q[C.dataKey]=Z,q[C.index]=Z,W=Z.colSpan-1,S[C.index]={left:Z.rowSpan-1,times:W}}else W--,V++;else S[C.index].left--,W=S[C.index].times,H++}return new d.Row(U,G,D,q)});return M}function _(D,N){var k={};return D.forEach(function(F){if(F.raw!=null){var L=w(N,F.raw);L!=null&&(k[F.dataKey]=L)}}),Object.keys(k).length>0?k:null}function w(D,N){if(D==="head"){if(typeof N=="object")return N.header||N.title||null;if(typeof N=="string"||typeof N=="number")return N}else if(D==="foot"&&typeof N=="object")return N.footer;return null}function P(D){return D.map(function(N,k){var F,L,A;return typeof N=="object"?A=(L=(F=N.dataKey)!==null&&F!==void 0?F:N.key)!==null&&L!==void 0?L:k:A=k,new d.Column(A,N,k)})}function E(D,N,k,F,L,A,S){var M=(0,h.getTheme)(F),U;D==="head"?U=L.headStyles:D==="body"?U=L.bodyStyles:D==="foot"&&(U=L.footStyles);var G=(0,g.assign)({},M.table,M[D],L.styles,U),H=L.columnStyles[N.dataKey]||L.columnStyles[N.index]||{},q=D==="body"?H:{},V=D==="body"&&k%2===0?(0,g.assign)({},M.alternateRow,L.alternateRowStyles):{},W=(0,h.defaultStyles)(A),ne=(0,g.assign)({},W,G,V,q);return(0,g.assign)(ne,S)}},664:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.addPage=c.drawTable=void 0;var f=u(420),d=u(260),m=u(744),h=u(356),g=u(136),p=u(224);function x(H,q){var V=q.settings,W=V.startY,ne=V.margin,ce={x:ne.left,y:W},C=q.getHeadHeight(q.columns)+q.getFootHeight(q.columns),I=W+ne.bottom+C;if(V.pageBreak==="avoid"){var B=q.body,z=B.reduce(function(pe,te){return pe+te.height},0);I+=z}var Z=new m.DocHandler(H);(V.pageBreak==="always"||V.startY!=null&&I>Z.pageSize().height)&&(G(Z),ce.y=ne.top),q.callWillDrawPageHooks(Z,ce);var ge=(0,h.assign)({},ce);q.startPageNumber=Z.pageNumber(),V.horizontalPageBreak?y(Z,q,ge,ce):(Z.applyStyles(Z.userStyles),(V.showHead==="firstPage"||V.showHead==="everyPage")&&q.head.forEach(function(pe){return L(Z,q,pe,ce,q.columns)}),Z.applyStyles(Z.userStyles),q.body.forEach(function(pe,te){var be=te===q.body.length-1;F(Z,q,pe,be,ge,ce,q.columns)}),Z.applyStyles(Z.userStyles),(V.showFoot==="lastPage"||V.showFoot==="everyPage")&&q.foot.forEach(function(pe){return L(Z,q,pe,ce,q.columns)})),(0,f.addTableBorder)(Z,q,ge,ce),q.callEndPageHooks(Z,ce),q.finalY=ce.y,H.lastAutoTable=q,H.previousAutoTable=q,H.autoTable&&(H.autoTable.previous=q),Z.applyStyles(Z.userStyles)}c.drawTable=x;function y(H,q,V,W){var ne=(0,p.calculateAllColumnsCanFitInPage)(H,q),ce=q.settings;if(ce.horizontalPageBreakBehaviour==="afterAllRows")ne.forEach(function(z,Z){H.applyStyles(H.userStyles),Z>0?U(H,q,V,W,z.columns,!0):_(H,q,W,z.columns),w(H,q,V,W,z.columns),E(H,q,W,z.columns)});else for(var C=-1,I=ne[0],B=function(){var z=C;if(I){H.applyStyles(H.userStyles);var Z=I.columns;C>=0?U(H,q,V,W,Z,!0):_(H,q,W,Z),z=P(H,q,C+1,W,Z),E(H,q,W,Z)}var ge=z-C;ne.slice(1).forEach(function(pe){H.applyStyles(H.userStyles),U(H,q,V,W,pe.columns,!0),P(H,q,C+1,W,pe.columns,ge),E(H,q,W,pe.columns)}),C=z};C<q.body.length-1;)B()}function _(H,q,V,W){var ne=q.settings;H.applyStyles(H.userStyles),(ne.showHead==="firstPage"||ne.showHead==="everyPage")&&q.head.forEach(function(ce){return L(H,q,ce,V,W)})}function w(H,q,V,W,ne){H.applyStyles(H.userStyles),q.body.forEach(function(ce,C){var I=C===q.body.length-1;F(H,q,ce,I,V,W,ne)})}function P(H,q,V,W,ne,ce){H.applyStyles(H.userStyles),ce=ce??q.body.length;var C=Math.min(V+ce,q.body.length),I=-1;return q.body.slice(V,C).forEach(function(B,z){var Z=V+z===q.body.length-1,ge=M(H,q,Z,W);B.canEntireRowFit(ge,ne)&&(L(H,q,B,W,ne),I=V+z)}),I}function E(H,q,V,W){var ne=q.settings;H.applyStyles(H.userStyles),(ne.showFoot==="lastPage"||ne.showFoot==="everyPage")&&q.foot.forEach(function(ce){return L(H,q,ce,V,W)})}function D(H,q,V){var W=V.getLineHeight(H.styles.fontSize),ne=H.padding("vertical"),ce=Math.floor((q-ne)/W);return Math.max(0,ce)}function N(H,q,V,W){var ne={};H.spansMultiplePages=!0,H.height=0;for(var ce=0,C=0,I=V.columns;C<I.length;C++){var B=I[C],z=H.cells[B.index];if(z){Array.isArray(z.text)||(z.text=[z.text]);var Z=new d.Cell(z.raw,z.styles,z.section);Z=(0,h.assign)(Z,z),Z.text=[];var ge=D(z,q,W);z.text.length>ge&&(Z.text=z.text.splice(ge,z.text.length));var pe=W.scaleFactor(),te=W.getLineHeightFactor();z.contentHeight=z.getContentHeight(pe,te),z.contentHeight>=q&&(z.contentHeight=q,Z.styles.minCellHeight-=q),z.contentHeight>H.height&&(H.height=z.contentHeight),Z.contentHeight=Z.getContentHeight(pe,te),Z.contentHeight>ce&&(ce=Z.contentHeight),ne[B.index]=Z}}var be=new d.Row(H.raw,-1,H.section,ne,!0);be.height=ce;for(var Te=0,ye=V.columns;Te<ye.length;Te++){var B=ye[Te],Z=be.cells[B.index];Z&&(Z.height=be.height);var z=H.cells[B.index];z&&(z.height=H.height)}return be}function k(H,q,V,W){var ne=H.pageSize().height,ce=W.settings.margin,C=ce.top+ce.bottom,I=ne-C;q.section==="body"&&(I-=W.getHeadHeight(W.columns)+W.getFootHeight(W.columns));var B=q.getMinimumRowHeight(W.columns,H),z=B<V;if(B>I)return console.error("Will not be able to print row ".concat(q.index," correctly since it's minimum height is larger than page height")),!0;if(!z)return!1;var Z=q.hasRowSpan(W.columns),ge=q.getMaxCellHeight(W.columns)>I;return ge?(Z&&console.error("The content of row ".concat(q.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(Z||W.settings.rowPageBreak==="avoid")}function F(H,q,V,W,ne,ce,C){var I=M(H,q,W,ce);if(V.canEntireRowFit(I,C))L(H,q,V,ce,C);else if(k(H,V,I,q)){var B=N(V,I,q,H);L(H,q,V,ce,C),U(H,q,ne,ce,C),F(H,q,B,W,ne,ce,C)}else U(H,q,ne,ce,C),F(H,q,V,W,ne,ce,C)}function L(H,q,V,W,ne){W.x=q.settings.margin.left;for(var ce=0,C=ne;ce<C.length;ce++){var I=C[ce],B=V.cells[I.index];if(!B){W.x+=I.width;continue}H.applyStyles(B.styles),B.x=W.x,B.y=W.y;var z=q.callCellHooks(H,q.hooks.willDrawCell,B,V,I,W);if(z===!1){W.x+=I.width;continue}A(H,B,W);var Z=B.getTextPos();(0,g.default)(B.text,Z.x,Z.y,{halign:B.styles.halign,valign:B.styles.valign,maxWidth:Math.ceil(B.width-B.padding("left")-B.padding("right"))},H.getDocument()),q.callCellHooks(H,q.hooks.didDrawCell,B,V,I,W),W.x+=I.width}W.y+=V.height}function A(H,q,V){var W=q.styles;if(H.getDocument().setFillColor(H.getDocument().getFillColor()),typeof W.lineWidth=="number"){var ne=(0,f.getFillStyle)(W.lineWidth,W.fillColor);ne&&H.rect(q.x,V.y,q.width,q.height,ne)}else typeof W.lineWidth=="object"&&(W.fillColor&&H.rect(q.x,V.y,q.width,q.height,"F"),S(H,q,V,W.lineWidth))}function S(H,q,V,W){var ne,ce,C,I;W.top&&(ne=V.x,ce=V.y,C=V.x+q.width,I=V.y,W.right&&(C+=.5*W.right),W.left&&(ne-=.5*W.left),B(W.top,ne,ce,C,I)),W.bottom&&(ne=V.x,ce=V.y+q.height,C=V.x+q.width,I=V.y+q.height,W.right&&(C+=.5*W.right),W.left&&(ne-=.5*W.left),B(W.bottom,ne,ce,C,I)),W.left&&(ne=V.x,ce=V.y,C=V.x,I=V.y+q.height,W.top&&(ce-=.5*W.top),W.bottom&&(I+=.5*W.bottom),B(W.left,ne,ce,C,I)),W.right&&(ne=V.x+q.width,ce=V.y,C=V.x+q.width,I=V.y+q.height,W.top&&(ce-=.5*W.top),W.bottom&&(I+=.5*W.bottom),B(W.right,ne,ce,C,I));function B(z,Z,ge,pe,te){H.getDocument().setLineWidth(z),H.getDocument().line(Z,ge,pe,te,"S")}}function M(H,q,V,W){var ne=q.settings.margin.bottom,ce=q.settings.showFoot;return(ce==="everyPage"||ce==="lastPage"&&V)&&(ne+=q.getFootHeight(q.columns)),H.pageSize().height-W.y-ne}function U(H,q,V,W,ne,ce){ne===void 0&&(ne=[]),ce===void 0&&(ce=!1),H.applyStyles(H.userStyles),q.settings.showFoot==="everyPage"&&!ce&&q.foot.forEach(function(I){return L(H,q,I,W,ne)}),q.callEndPageHooks(H,W);var C=q.settings.margin;(0,f.addTableBorder)(H,q,V,W),G(H),q.pageNumber++,q.pageCount++,W.x=C.left,W.y=C.top,V.y=C.top,q.callWillDrawPageHooks(H,W),q.settings.showHead==="everyPage"&&(q.head.forEach(function(I){return L(H,q,I,W,ne)}),H.applyStyles(H.userStyles))}c.addPage=U;function G(H){var q=H.pageNumber();H.setPage(q+1);var V=H.pageNumber();return V===q?(H.addPage(),!0):!1}},224:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.calculateAllColumnsCanFitInPage=void 0;var f=u(420);function d(h,g,p){var x;p===void 0&&(p={});var y=(0,f.getPageAvailableWidth)(h,g),_=new Map,w=[],P=[],E=[];g.settings.horizontalPageBreakRepeat,Array.isArray(g.settings.horizontalPageBreakRepeat)?E=g.settings.horizontalPageBreakRepeat:(typeof g.settings.horizontalPageBreakRepeat=="string"||typeof g.settings.horizontalPageBreakRepeat=="number")&&(E=[g.settings.horizontalPageBreakRepeat]),E.forEach(function(F){var L=g.columns.find(function(A){return A.dataKey===F||A.index===F});L&&!_.has(L.index)&&(_.set(L.index,!0),w.push(L.index),P.push(g.columns[L.index]),y-=L.wrappedWidth)});for(var D=!0,N=(x=p==null?void 0:p.start)!==null&&x!==void 0?x:0;N<g.columns.length;){if(_.has(N)){N++;continue}var k=g.columns[N].wrappedWidth;if(D||y>=k)D=!1,w.push(N),P.push(g.columns[N]),y-=k;else break;N++}return{colIndexes:w,columns:P,lastIndex:N-1}}function m(h,g){for(var p=[],x=0;x<g.columns.length;x++){var y=d(h,g,{start:x});y.columns.length&&(p.push(y),x=y.lastIndex)}return p}c.calculateAllColumnsCanFitInPage=m},324:function(o,c,u){Object.defineProperty(c,"__esModule",{value:!0}),c.ellipsize=c.resizeColumns=c.calculateWidths=void 0;var f=u(420);function d(w,P){m(w,P);var E=[],D=0;P.columns.forEach(function(k){var F=k.getMaxCustomCellWidth(P);F?k.width=F:(k.width=k.wrappedWidth,E.push(k)),D+=k.width});var N=P.getWidth(w.pageSize().width)-D;N&&(N=h(E,N,function(k){return Math.max(k.minReadableWidth,k.minWidth)})),N&&(N=h(E,N,function(k){return k.minWidth})),N=Math.abs(N),!P.settings.horizontalPageBreak&&N>.1/w.scaleFactor()&&(N=N<1?N:Math.round(N),console.warn("Of the table content, ".concat(N," units width could not fit page"))),p(P),x(P,w),g(P)}c.calculateWidths=d;function m(w,P){var E=w.scaleFactor(),D=P.settings.horizontalPageBreak,N=(0,f.getPageAvailableWidth)(w,P);P.allRows().forEach(function(k){for(var F=0,L=P.columns;F<L.length;F++){var A=L[F],S=k.cells[A.index];if(S){var M=P.hooks.didParseCell;P.callCellHooks(w,M,S,k,A,null);var U=S.padding("horizontal");S.contentWidth=(0,f.getStringWidth)(S.text,S.styles,w)+U;var G=(0,f.getStringWidth)(S.text.join(" ").split(/[^\S\u00A0]+/),S.styles,w);if(S.minReadableWidth=G+S.padding("horizontal"),typeof S.styles.cellWidth=="number")S.minWidth=S.styles.cellWidth,S.wrappedWidth=S.styles.cellWidth;else if(S.styles.cellWidth==="wrap"||D===!0)S.contentWidth>N?(S.minWidth=N,S.wrappedWidth=N):(S.minWidth=S.contentWidth,S.wrappedWidth=S.contentWidth);else{var H=10/E;S.minWidth=S.styles.minCellWidth||H,S.wrappedWidth=S.contentWidth,S.minWidth>S.wrappedWidth&&(S.wrappedWidth=S.minWidth)}}}}),P.allRows().forEach(function(k){for(var F=0,L=P.columns;F<L.length;F++){var A=L[F],S=k.cells[A.index];if(S&&S.colSpan===1)A.wrappedWidth=Math.max(A.wrappedWidth,S.wrappedWidth),A.minWidth=Math.max(A.minWidth,S.minWidth),A.minReadableWidth=Math.max(A.minReadableWidth,S.minReadableWidth);else{var M=P.styles.columnStyles[A.dataKey]||P.styles.columnStyles[A.index]||{},U=M.cellWidth||M.minCellWidth;U&&typeof U=="number"&&(A.minWidth=U,A.wrappedWidth=U)}S&&(S.colSpan>1&&!A.minWidth&&(A.minWidth=S.minWidth),S.colSpan>1&&!A.wrappedWidth&&(A.wrappedWidth=S.minWidth))}})}function h(w,P,E){for(var D=P,N=w.reduce(function(H,q){return H+q.wrappedWidth},0),k=0;k<w.length;k++){var F=w[k],L=F.wrappedWidth/N,A=D*L,S=F.width+A,M=E(F),U=S<M?M:S;P-=U-F.width,F.width=U}if(P=Math.round(P*1e10)/1e10,P){var G=w.filter(function(H){return P<0?H.width>E(H):!0});G.length&&(P=h(G,P,E))}return P}c.resizeColumns=h;function g(w){for(var P={},E=1,D=w.allRows(),N=0;N<D.length;N++)for(var k=D[N],F=0,L=w.columns;F<L.length;F++){var A=L[F],S=P[A.index];if(E>1)E--,delete k.cells[A.index];else if(S)S.cell.height+=k.height,E=S.cell.colSpan,delete k.cells[A.index],S.left--,S.left<=1&&delete P[A.index];else{var M=k.cells[A.index];if(!M)continue;if(M.height=k.height,M.rowSpan>1){var U=D.length-N,G=M.rowSpan>U?U:M.rowSpan;P[A.index]={cell:M,left:G,row:k}}}}}function p(w){for(var P=w.allRows(),E=0;E<P.length;E++)for(var D=P[E],N=null,k=0,F=0,L=0;L<w.columns.length;L++){var A=w.columns[L];if(F-=1,F>1&&w.columns[L+1])k+=A.width,delete D.cells[A.index];else if(N){var S=N;delete D.cells[A.index],N=null,S.width=A.width+k}else{var S=D.cells[A.index];if(!S)continue;if(F=S.colSpan,k=0,S.colSpan>1){N=S,k+=A.width;continue}S.width=A.width+k}}}function x(w,P){for(var E={count:0,height:0},D=0,N=w.allRows();D<N.length;D++){for(var k=N[D],F=0,L=w.columns;F<L.length;F++){var A=L[F],S=k.cells[A.index];if(S){P.applyStyles(S.styles,!0);var M=S.width-S.padding("horizontal");if(S.styles.overflow==="linebreak")S.text=P.splitTextToSize(S.text,M+1/P.scaleFactor(),{fontSize:S.styles.fontSize});else if(S.styles.overflow==="ellipsize")S.text=y(S.text,M,S.styles,P,"...");else if(S.styles.overflow==="hidden")S.text=y(S.text,M,S.styles,P,"");else if(typeof S.styles.overflow=="function"){var U=S.styles.overflow(S.text,M);typeof U=="string"?S.text=[U]:S.text=U}S.contentHeight=S.getContentHeight(P.scaleFactor(),P.getLineHeightFactor());var G=S.contentHeight/S.rowSpan;S.rowSpan>1&&E.count*E.height<G*S.rowSpan?E={height:G,count:S.rowSpan}:E&&E.count>0&&E.height>G&&(G=E.height),G>k.height&&(k.height=G)}}E.count--}}function y(w,P,E,D,N){return w.map(function(k){return _(k,P,E,D,N)})}c.ellipsize=y;function _(w,P,E,D,N){var k=1e4*D.scaleFactor();if(P=Math.ceil(P*k)/k,P>=(0,f.getStringWidth)(w,E,D))return w;for(;P<(0,f.getStringWidth)(w+N,E,D)&&!(w.length<=1);)w=w.substring(0,w.length-1);return w.trim()+N}},964:function(o){if(typeof r>"u"){var c=new Error("Cannot find module 'undefined'");throw c.code="MODULE_NOT_FOUND",c}o.exports=r}},a={};function i(o){var c=a[o];if(c!==void 0)return c.exports;var u=a[o]={exports:{}};return n[o].call(u.exports,u,u.exports,i),u.exports}var s={};return function(){var o=s;Object.defineProperty(o,"__esModule",{value:!0}),o.Cell=o.Column=o.Row=o.Table=o.CellHookData=o.__drawTable=o.__createTable=o.applyPlugin=void 0;var c=i(340),u=i(776),f=i(664),d=i(972),m=i(260);Object.defineProperty(o,"Table",{enumerable:!0,get:function(){return m.Table}});var h=i(172);Object.defineProperty(o,"CellHookData",{enumerable:!0,get:function(){return h.CellHookData}});var g=i(260);Object.defineProperty(o,"Cell",{enumerable:!0,get:function(){return g.Cell}}),Object.defineProperty(o,"Column",{enumerable:!0,get:function(){return g.Column}}),Object.defineProperty(o,"Row",{enumerable:!0,get:function(){return g.Row}});function p(P){(0,c.default)(P)}o.applyPlugin=p;function x(P,E){var D=(0,u.parseInput)(P,E),N=(0,d.createTable)(P,D);(0,f.drawTable)(P,N)}function y(P,E){var D=(0,u.parseInput)(P,E);return(0,d.createTable)(P,D)}o.__createTable=y;function _(P,E){(0,f.drawTable)(P,E)}o.__drawTable=_;try{var w=i(964);w.jsPDF&&(w=w.jsPDF),p(w)}catch{}o.default=x}(),s}()})})(lq);const uq=()=>{const[e,t]=T.useState(!1),[r,n]=T.useState(0),a=T.useCallback(async(c,u={})=>{t(!0),n(0);try{const{includeDetails:f=!0,selectedColumns:d=null,filename:m=`imports_${new Date().toISOString().split("T")[0]}.xlsx`}=u,h=c.map((x,y)=>{var w,P;n(y/c.length*50);const _={ID:x.id,Date:Mr(x.imp_date),Staff:((w=x.staff)==null?void 0:w.full_name)||`Staff ${x.staff_id}`,Supplier:((P=x.supplier)==null?void 0:P.supplier)||x.supplier||"N/A","Total Amount":parseFloat(x.total||0).toFixed(2),"Total Qty":x.total_quantity||0,"Products Count":x.products_count||0,Status:L1(x)};if(d&&Array.isArray(d)){const E={};return d.forEach(D=>{_[D]!==void 0&&(E[D]=_[D])}),E}return _}),g=As.book_new(),p=As.json_to_sheet(h);if(As.book_append_sheet(g,p,"Imports Summary"),f){const x=[];if(c.forEach((y,_)=>{n(50+_/c.length*50),(y.import_details||y.importDetails||[]).forEach(P=>{x.push({"Import ID":y.id,"Import Date":Mr(y.imp_date),"Product Name":P.pro_name,Quantity:P.qty,"Unit Price":parseFloat(P.price||0).toFixed(2),Amount:parseFloat(P.amount||0).toFixed(2),"Batch Number":P.batch_number||"N/A","Expiration Date":P.expiration_date?new Date(P.expiration_date).toLocaleDateString():"N/A"})})}),x.length>0){const y=As.json_to_sheet(x);As.book_append_sheet(g,y,"Import Details")}}return N3(g,m),n(100),!0}catch(f){throw console.error("Excel export failed:",f),f}finally{t(!1),n(0)}},[]),i=T.useCallback(async(c,u={})=>{t(!0),n(0);try{const{selectedColumns:f=null,filename:d=`imports_${new Date().toISOString().split("T")[0]}.csv`}=u,m=c.map((_,w)=>{var E,D;n(w/c.length*100);const P={ID:_.id,Date:Mr(_.imp_date),Staff:((E=_.staff)==null?void 0:E.full_name)||`Staff ${_.staff_id}`,Supplier:((D=_.supplier)==null?void 0:D.supplier)||_.supplier||"N/A","Total Amount":parseFloat(_.total||0).toFixed(2),"Total Qty":_.total_quantity||0,"Products Count":_.products_count||0,Status:L1(_)};if(f&&Array.isArray(f)){const N={};return f.forEach(k=>{P[k]!==void 0&&(N[k]=P[k])}),N}return P}),h=As.json_to_sheet(m),g=As.sheet_to_csv(h),p=new Blob([g],{type:"text/csv;charset=utf-8;"}),x=document.createElement("a"),y=URL.createObjectURL(p);return x.setAttribute("href",y),x.setAttribute("download",d),x.style.visibility="hidden",document.body.appendChild(x),x.click(),document.body.removeChild(x),n(100),!0}catch(f){throw console.error("CSV export failed:",f),f}finally{t(!1),n(0)}},[]),s=T.useCallback(async(c,u={})=>{t(!0),n(0);try{const{filename:f=`imports_${new Date().toISOString().split("T")[0]}.pdf`,includeDetails:d=!1}=u,m=new Et;m.setFontSize(20),m.text("Imports Report",14,22),m.setFontSize(12),m.text(`Generated on: ${new Date().toLocaleDateString()}`,14,32);const h=c.length,g=c.reduce((x,y)=>x+parseFloat(y.total||0),0);m.text(`Total Imports: ${h}`,14,42),m.text(`Total Value: ${Vr(g)}`,14,52);const p=c.map((x,y)=>{var _,w;return n(y/c.length*(d?50:100)),[x.id,Mr(x.imp_date),((_=x.staff)==null?void 0:_.full_name)||`Staff ${x.staff_id}`,((w=x.supplier)==null?void 0:w.supplier)||x.supplier||"N/A",Vr(x.total),L1(x)]});if(m.autoTable({head:[["ID","Date","Staff","Supplier","Total","Status"]],body:p,startY:62,styles:{fontSize:8},headStyles:{fillColor:[66,139,202]}}),d){let x=m.lastAutoTable.finalY+20;c.forEach((y,_)=>{n(50+_/c.length*50);const w=y.import_details||y.importDetails||[];if(w.length>0){x>250&&(m.addPage(),x=20),m.setFontSize(14),m.text(`Import #${y.id} Details`,14,x),x+=10;const P=w.map(E=>[E.pro_name,E.qty,Vr(E.price),Vr(E.amount),E.batch_number||"N/A"]);m.autoTable({head:[["Product","Qty","Price","Amount","Batch"]],body:P,startY:x,styles:{fontSize:7},headStyles:{fillColor:[92,184,92]}}),x=m.lastAutoTable.finalY+15}})}return m.save(f),n(100),!0}catch(f){throw console.error("PDF export failed:",f),f}finally{t(!1),n(0)}},[]),o=T.useCallback(()=>["ID","Date","Staff","Supplier","Total Amount","Total Qty","Products Count","Status"],[]);return{exportToExcel:a,exportToCSV:i,exportToPDF:s,getAvailableColumns:o,isExporting:e,exportProgress:r}},L1=e=>{const t=e.import_details||e.importDetails||[];return t.length===0?"Draft":t.some(n=>n.expiration_date?new Date(n.expiration_date)<new Date:!1)?"Expired":"Completed"},fq=({importItem:e,mode:t,onClose:r})=>{var S,M,U;const n=t==="view",a=t==="edit",i=vF(),s=xF(),{data:o}=kd(),{data:c}=Hx(),{data:u}=sp(),f=((S=o==null?void 0:o.data)==null?void 0:S.data)||(o==null?void 0:o.data)||o||[],d=((M=c==null?void 0:c.data)==null?void 0:M.data)||(c==null?void 0:c.data)||c||[],m=((U=u==null?void 0:u.data)==null?void 0:U.data)||(u==null?void 0:u.data)||u||[],[h,g]=T.useState([]),[p,x]=T.useState(!1),{register:y,handleSubmit:_,formState:{errors:w},reset:P,watch:E,setValue:D}=Ta({defaultValues:{imp_date:"",staff_id:"",sup_id:"",supplier:"",total:"",...e}}),N=E("sup_id");T.useEffect(()=>{if(e){const H={imp_date:e.imp_date?new Date(e.imp_date).toISOString().split("T")[0]:"",staff_id:e.staff_id||"",sup_id:e.sup_id||"",supplier:e.supplier||""};P(H),e.importDetails&&e.importDetails.length>0?g(e.importDetails.map(q=>({pro_code:parseInt(q.pro_code),pro_name:q.pro_name,qty:parseInt(q.qty),price:parseFloat(q.price),amount:parseFloat(q.amount),batch_number:q.batch_number,expiration_date:q.expiration_date?new Date(q.expiration_date).toISOString().split("T")[0]:""}))):e.import_details&&e.import_details.length>0&&g(e.import_details.map(q=>({pro_code:parseInt(q.pro_code),pro_name:q.pro_name,qty:parseInt(q.qty),price:parseFloat(q.price),amount:parseFloat(q.amount),batch_number:q.batch_number,expiration_date:q.expiration_date?new Date(q.expiration_date).toISOString().split("T")[0]:""})))}else P({imp_date:"",staff_id:"",sup_id:"",supplier:"",total:""}),g([])},[e,P]),T.useEffect(()=>{const G=h.reduce((H,q)=>H+parseFloat(q.amount||0),0);D("total",G.toFixed(2))},[h,D]),T.useEffect(()=>{if(N&&d.length>0){const G=d.find(H=>H.id===parseInt(N));G&&D("supplier",G.supplier)}},[N,d,D]);const k=G=>{if(console.log("addProduct called with:",G),!G.pro_code){Xe.error("Please select a product");return}const H=m.find(ne=>ne.id===parseInt(G.pro_code));if(!H){Xe.error("Product not found");return}if(h.find(ne=>ne.pro_code===parseInt(G.pro_code))){Xe.error("Product already added to this import");return}const V=parseFloat(G.qty||0)*parseFloat(G.price||0),W={pro_code:parseInt(G.pro_code),pro_name:H.pro_name,qty:parseInt(G.qty||0),price:parseFloat(G.price||0),amount:V,batch_number:G.batch_number||"",expiration_date:G.expiration_date||""};console.log("Adding new detail:",W),g(ne=>{const ce=[...ne,W];return console.log("Updated import details:",ce),ce}),x(!1),setTimeout(()=>{const ne=document.querySelector('[data-testid="add-product-button"]');ne&&ne.focus()},100)},F=G=>{g(H=>H.filter((q,V)=>V!==G))},L=async G=>{var H,q;try{if(console.log("Import details:",h),h.length===0){Xe.error("Please add at least one product to the import");return}const V={imp_date:G.imp_date,staff_id:parseInt(G.staff_id),sup_id:parseInt(G.sup_id),supplier:G.supplier,total:parseFloat(G.total),items:h.map(W=>({product_id:W.pro_code,qty:W.qty,price:W.price,amount:W.amount,batch_number:W.batch_number||null,expiration_date:W.expiration_date||null}))};a?(await s.mutateAsync({id:e.id,data:V}),Xe.success("Import updated successfully")):(await i.mutateAsync(V),Xe.success("Import created successfully")),r()}catch(V){console.error("Submit failed:",V),Xe.error(((q=(H=V.response)==null?void 0:H.data)==null?void 0:q.message)||"Failed to save import")}},A=({products:G,onAdd:H,onCancel:q})=>{const{register:V,formState:{errors:W},watch:ne,reset:ce,setValue:C}=Ta({defaultValues:{pro_code:"",qty:"",price:"",batch_number:"",expiration_date:""}}),I=ne("pro_code"),B=ne("qty"),z=ne("price");T.useEffect(()=>{if(I&&G.length>0){const pe=G.find(te=>te.id===parseInt(I));pe&&pe.upis&&C("price",pe.upis)}},[I,G,C]);const Z=B&&z?(parseFloat(B)*parseFloat(z)).toFixed(2):"0.00",ge=pe=>{if(console.log("ProductForm onSubmit called with:",pe),!pe.pro_code){Xe.error("Please select a product");return}if(!pe.qty||parseFloat(pe.qty)<=0){Xe.error("Please enter a valid quantity");return}if(!pe.price||parseFloat(pe.price)<=0){Xe.error("Please enter a valid price");return}H(pe),ce()};return l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 modal-form",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add Product"}),l.jsx("button",{type:"button",onClick:pe=>{console.log("Cancel clicked"),q()},className:"text-gray-400 hover:text-gray-600",children:l.jsx(Kr,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"space-y-3",style:{position:"relative",zIndex:20},children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product *"}),l.jsxs("select",{...V("pro_code",{required:"Product is required"}),className:"w-full input",style:{position:"relative",zIndex:1e3,pointerEvents:"auto",backgroundColor:"white"},onClick:pe=>{pe.stopPropagation()},onChange:pe=>{const te=G.find(be=>be.id===parseInt(pe.target.value));te&&te.upis&&C("price",te.upis)},children:[l.jsx("option",{value:"",children:"Select Product"}),Array.isArray(G)&&G.length>0?G.map(pe=>l.jsx("option",{value:pe.id,children:pe.pro_name},pe.id)):l.jsx("option",{disabled:!0,children:"Loading products..."})]}),W.pro_code&&l.jsx("p",{className:"mt-1 text-xs text-red-600",children:W.pro_code.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity *"}),l.jsx("input",{...V("qty",{required:"Quantity is required",min:{value:1,message:"Quantity must be at least 1"}}),type:"number",min:"1",className:"w-full input",placeholder:"Enter quantity"}),W.qty&&l.jsx("p",{className:"mt-1 text-xs text-red-600",children:W.qty.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Price *"}),l.jsx("input",{...V("price",{required:"Price is required",min:{value:.01,message:"Price must be greater than 0"}}),type:"number",step:"0.01",min:"0.01",className:"w-full input",placeholder:"0.00"}),W.price&&l.jsx("p",{className:"mt-1 text-xs text-red-600",children:W.price.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),l.jsxs("div",{className:"w-full input bg-gray-100",children:["$",Z]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Batch Number"}),l.jsx("input",{...V("batch_number"),type:"text",className:"w-full input",placeholder:"Enter batch number"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiration Date"}),l.jsx("input",{...V("expiration_date"),type:"date",className:"w-full input"})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[l.jsx("button",{type:"button",onClick:q,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),l.jsxs("button",{type:"button",onClick:()=>{const pe=ne();ge(pe)},className:"px-3 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700","data-testid":"add-product-button",children:[l.jsx(za,{className:"w-4 h-4 inline mr-1"}),"Add Product"]})]})]})]})};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t==="create"?"Create New Import":t==="edit"?"Edit Import":"Import Details"}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Kr,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"p-6",children:l.jsxs("form",{onSubmit:_(L),className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Import Date *"}),l.jsx("input",{...y("imp_date",{required:"Import date is required"}),type:"date",className:"w-full input",disabled:n}),w.imp_date&&l.jsx("p",{className:"mt-1 text-xs text-red-600",children:w.imp_date.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Staff Member *"}),l.jsxs("select",{...y("staff_id",{required:"Staff member is required"}),className:"w-full input",disabled:n,children:[l.jsx("option",{value:"",children:"Select Staff Member"}),f.map(G=>l.jsx("option",{value:G.id,children:G.full_name},G.id))]}),w.staff_id&&l.jsx("p",{className:"mt-1 text-xs text-red-600",children:w.staff_id.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier *"}),l.jsxs("select",{...y("sup_id",{required:"Supplier is required"}),className:"w-full input",disabled:n,children:[l.jsx("option",{value:"",children:"Select Supplier"}),d.map(G=>l.jsx("option",{value:G.id,children:G.supplier},G.id))]}),w.sup_id&&l.jsx("p",{className:"mt-1 text-xs text-red-600",children:w.sup_id.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Supplier Name"}),l.jsx("input",{...y("supplier"),type:"text",className:"w-full input bg-gray-100",disabled:!0,placeholder:"Auto-filled from supplier selection"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount *"}),l.jsx("input",{...y("total",{required:"Total amount is required",min:{value:0,message:"Total must be positive"}}),type:"number",step:"0.01",className:"w-full input bg-gray-100",disabled:!0,placeholder:"0.00"}),l.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center",children:[l.jsx(SO,{className:"w-3 h-3 mr-1"}),"Total will update automatically when you add products"]}),w.total&&l.jsx("p",{className:"mt-1 text-xs text-red-600",children:w.total.message})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Import Products"}),!n&&l.jsxs("button",{type:"button",onClick:()=>x(!0),className:"flex items-center px-3 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:[l.jsx(za,{className:"w-4 h-4 mr-1"}),"Add Product"]})]}),p&&!n&&l.jsx(A,{products:m,onAdd:k,onCancel:()=>x(!1)}),h.length>0?l.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Batch"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expiration"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),!n&&l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map((G,H)=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:G.pro_name}),l.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:G.qty}),l.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:["$",parseFloat(G.price||0).toFixed(2)]}),l.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:G.batch_number||"-"}),l.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:G.expiration_date?new Date(G.expiration_date).toLocaleDateString():"-"}),l.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-semibold text-gray-900",children:["$",parseFloat(G.amount||0).toFixed(2)]}),!n&&l.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:l.jsx("button",{type:"button",onClick:()=>F(H),className:"text-red-600 hover:text-red-900",title:"Remove product",children:l.jsx(Ha,{className:"w-4 h-4"})})})]},H))})]}),l.jsx("div",{className:"bg-gray-50 px-4 py-3 border-t border-gray-200",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total:"}),l.jsxs("span",{className:"text-lg font-bold text-green-600",children:["$",h.reduce((G,H)=>G+parseFloat(H.amount||0),0).toFixed(2)]})]})})]}):l.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border border-gray-200",children:[l.jsx(Sn,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),l.jsx("p",{className:"text-gray-500",children:"No products added to this import yet"}),!n&&l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:'Click "Add Product" to add items to this import'})]})]}),!n&&l.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[l.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:a?"Update Import":"Create Import"})]}),n&&l.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:l.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Close"})})]})})]})})},dq=()=>{var ne,ce,C;const{hasPermission:e}=Rn(),[t,r]=T.useState(null),[n,a]=T.useState(!1),[i,s]=T.useState("create"),[o,c]=T.useState(""),[u,f]=T.useState(new Set),{data:d,isLoading:m,error:h,refetch:g}=VN(),{data:p}=kd(),{data:x}=Hx(),y=yF(),{exportToExcel:_,exportToPDF:w}=uq(),P=((ne=d==null?void 0:d.data)==null?void 0:ne.data)||(d==null?void 0:d.data)||d||[];(ce=p==null?void 0:p.data)!=null&&ce.data||p!=null&&p.data;const E=((C=x==null?void 0:x.data)==null?void 0:C.data)||(x==null?void 0:x.data)||x||[],D=P.length,N=P.reduce((I,B)=>I+parseFloat(B.total||0),0),k=P.reduce((I,B)=>{const z=B.import_details||B.importDetails||[];return I+z.reduce((Z,ge)=>Z+parseInt(ge.qty||0),0)},0),F=P.filter(I=>{const B=new Date(I.imp_date),z=new Date;return B.getMonth()===z.getMonth()&&B.getFullYear()===z.getFullYear()}).length,L=()=>{r(null),s("create"),a(!0)},A=I=>{r(I),s("view"),a(!0)},S=I=>{r(I),s("edit"),a(!0)},M=async I=>{var B,z;if(window.confirm(`Are you sure you want to delete import "#${I.id}"?`))try{await y.mutateAsync(I.id),await g(),Xe.success("Import deleted successfully")}catch(Z){console.error("Delete failed:",Z),Xe.error(((z=(B=Z.response)==null?void 0:B.data)==null?void 0:z.message)||"Failed to delete import")}},U=I=>{const B=new Set(u);B.has(I)?B.delete(I):B.add(I),f(B)},G=async()=>{try{await g(),Xe.success("Data refreshed successfully")}catch(I){console.error("Refresh failed:",I),Xe.error("Failed to refresh data")}},H=()=>{_(P)},q=()=>{w(P)},V=Array.isArray(P)?P.filter(I=>{var ge,pe,te,be,Te;const B=o.toLowerCase(),Z=(I.import_details||I.importDetails||[]).map(ye=>ye.pro_name).filter(ye=>ye);return((ge=I.full_name)==null?void 0:ge.toLowerCase().includes(B))||((te=((pe=I.supplier)==null?void 0:pe.supplier)||I.supplier||"")==null?void 0:te.toLowerCase().includes(B))||((Te=(be=I.staff)==null?void 0:be.full_name)==null?void 0:Te.toLowerCase().includes(B))||Z.some(ye=>ye.toLowerCase().includes(B))}):[];if(m)return l.jsx(pr,{className:"h-64"});if(h)return l.jsxs("div",{className:"text-red-600",children:["Error loading imports: ",h.message]});const W=e(["create","create_import"]);return e(["update","update_import"]),e(["delete","manage_users"]),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Imports"}),l.jsx("p",{className:"text-gray-600",children:"Manage inventory imports and stock receipts"})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsxs("button",{onClick:G,className:"btn-secondary flex items-center",title:"Refresh Data",children:[l.jsx(ca,{className:"w-4 h-4 mr-2"}),"Refresh"]}),l.jsxs("button",{onClick:H,className:"btn-secondary flex items-center",title:"Export to Excel",children:[l.jsx(Jl,{className:"w-4 h-4 mr-2"}),"Excel"]}),l.jsxs("button",{onClick:q,className:"btn-secondary flex items-center",title:"Export to PDF",children:[l.jsx(NO,{className:"w-4 h-4 mr-2"}),"PDF"]}),W&&l.jsxs("button",{onClick:L,className:"btn-primary",children:[l.jsx(za,{className:"w-4 h-4 mr-2"}),"New Import"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(Sn,{className:"h-8 w-8 text-blue-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Imports"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:D})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(lu,{className:"h-8 w-8 text-green-600"})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"This Month"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:F})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"h-8 w-8 text-purple-600 flex items-center justify-center",children:l.jsx("span",{className:"text-lg font-bold",children:"$"})})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Value"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Vr(N)})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx("div",{className:"h-8 w-8 text-orange-600 flex items-center justify-center",children:l.jsx("span",{className:"text-lg font-bold",children:"#"})})}),l.jsxs("div",{className:"ml-4",children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Items"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:k})]})]})})]}),l.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:l.jsxs("div",{className:"relative",children:[l.jsx(os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Search imports by product name, supplier, or staff...",value:o,onChange:I=>c(I.target.value),className:"input pl-10"})]})}),l.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table min-w-full",children:[l.jsx("thead",{className:"table-header bg-gray-100",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-head w-12 text-center",children:""}),l.jsx("th",{className:"table-head font-semibold",children:"ID"}),l.jsx("th",{className:"table-head font-semibold",children:"Date"}),l.jsx("th",{className:"table-head font-semibold",children:"Staff"}),l.jsx("th",{className:"table-head font-semibold",children:"Supplier"}),l.jsx("th",{className:"table-head font-semibold",children:"Summary"}),l.jsx("th",{className:"table-head font-semibold",children:"Actions"})]})}),l.jsx("tbody",{children:V.map(I=>{var ge,pe,te;const B=I.import_details||I.importDetails||[],z=B.reduce((be,Te)=>be+parseInt(Te.qty||0),0),Z=u.has(I.id);return l.jsxs("tr",{className:"table-row hover:bg-gray-50",children:[l.jsx("td",{className:"table-cell w-16",children:l.jsx("button",{onClick:()=>U(I.id),className:"p-2 hover:bg-gray-200 rounded-full transition-colors",title:Z?"Collapse details":"Expand details",children:Z?l.jsx(lu,{className:"w-4 h-4 text-gray-600"}):l.jsx(lu,{className:"w-4 h-4 text-gray-600"})})}),l.jsx("td",{className:"table-cell",children:l.jsxs("span",{className:"font-bold text-blue-600 text-lg",children:["#",I.id]})}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:"text-gray-600",children:Mr(I.imp_date)})}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:"text-gray-600",children:((ge=I.staff)==null?void 0:ge.full_name)||`Staff ${I.staff_id}`})}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:"text-gray-600",children:((pe=I.supplier)==null?void 0:pe.supplier)||((te=E.find(be=>be.id===I.sup_id))==null?void 0:te.supplier)||"Unknown Supplier"})}),l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("span",{className:"text-sm text-gray-600",children:[l.jsx("span",{className:"font-medium",children:z})," ","items"]}),l.jsx("span",{className:"font-semibold text-green-600",children:Vr(I.total)})]}),l.jsxs("div",{className:"text-xs text-gray-500",children:[B.length," product",B.length!==1?"s":""]})]})}),l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>A(I),className:"p-2 text-blue-600 hover:text-blue-900 hover:bg-blue-50 rounded-full",title:"View",children:l.jsx(Wa,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>S(I),className:"p-2 text-green-600 hover:text-green-900 hover:bg-green-50 rounded-full",title:"Edit",children:l.jsx(Li,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>M(I),className:"p-2 text-red-600 hover:text-red-900 hover:bg-red-50 rounded-full",title:"Delete",children:l.jsx(Ha,{className:"w-4 h-4"})})]})})]},I.id)})})]})}),V.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Sn,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No imports found"}),l.jsx("p",{className:"text-gray-500 mb-2",children:o?"Try adjusting your search terms":"Get started by creating your first import"})]})]}),n&&l.jsx(fq,{importItem:t,mode:i,onClose:()=>a(!1)})]})},yu={getAll:()=>ut.get("/orders",{_t:Date.now()}),getById:e=>ut.get(`/orders/${e}`,{_t:Date.now()}),create:e=>ut.post("/orders",e),update:(e,t)=>ut.put(`/orders/${e}`,t),delete:e=>ut.delete(`/orders/${e}`),forceDelete:e=>ut.delete(`/orders/${e}/force`)},hq=Object.freeze(Object.defineProperty({__proto__:null,orderService:yu},Symbol.toStringTag,{value:"Module"})),Y3=(e={})=>{const[t,r]=T.useState(null),[n,a]=T.useState(!0),[i,s]=T.useState(null);return T.useEffect(()=>{(async()=>{try{a(!0);const u=await yu.getAll(e);r(u),s(null)}catch(u){s(u),console.error("Orders fetch failed:",u)}finally{a(!1)}})()},[JSON.stringify(e)]),{data:t,isLoading:n,error:i,refetch:()=>{(async()=>{try{a(!0);const u=await yu.getAll(e);r(u),s(null)}catch(u){s(u),console.error("Orders refetch failed:",u)}finally{a(!1)}})()}}},X3=()=>{const[e,t]=T.useState(!1),[r,n]=T.useState(null);return{mutateAsync:async i=>{var s,o,c,u;try{t(!0),n(null);const f=await yu.create(i);return Xe.success("Order created successfully"),f}catch(f){n(f),console.error("Order creation failed:",f);const d=((o=(s=f.response)==null?void 0:s.data)==null?void 0:o.message)||((u=(c=f.response)==null?void 0:c.data)==null?void 0:u.error)||"Failed to create order";throw Xe.error(d),f}finally{t(!1)}},isLoading:e,error:r}},J3=()=>{const[e,t]=T.useState(!1),[r,n]=T.useState(null);return{mutateAsync:async({id:i,data:s})=>{var o,c,u,f;try{t(!0),n(null);const d=await yu.update(i,s);return Xe.success("Order updated successfully"),d}catch(d){n(d),console.error("Order update failed:",d);const m=((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.message)||((f=(u=d.response)==null?void 0:u.data)==null?void 0:f.error)||"Failed to update order";throw Xe.error(m),d}finally{t(!1)}},isLoading:e,error:r}},mq=()=>{const[e,t]=T.useState(!1),[r,n]=T.useState(null);return{mutateAsync:async i=>{var s,o,c,u;try{t(!0),n(null);const f=await yu.delete(i);return Xe.success("Order deleted successfully"),f}catch(f){n(f),console.error("Order deletion failed:",f);const d=((o=(s=f.response)==null?void 0:s.data)==null?void 0:o.message)||((u=(c=f.response)==null?void 0:c.data)==null?void 0:u.error)||"Failed to delete order";throw Xe.error(d),f}finally{t(!1)}},isLoading:e,error:r}},pq=({order:e,mode:t,onClose:r,onSave:n})=>{var G,H,q;const a=t==="view";X3(),J3();const{data:i}=kd(),{data:s}=HN(),{data:o}=sp(),c=((G=i==null?void 0:i.data)==null?void 0:G.data)||(i==null?void 0:i.data)||i||[],u=((H=s==null?void 0:s.data)==null?void 0:H.data)||(s==null?void 0:s.data)||s||[],f=((q=o==null?void 0:o.data)==null?void 0:q.data)||(o==null?void 0:o.data)||o||[],[d,m]=T.useState([]),[h,g]=T.useState(!1),{register:p,handleSubmit:x,formState:{errors:y},reset:_,watch:w,setValue:P}=Ta({defaultValues:{ord_date:"",staff_id:"",cus_id:"",cus_name:"",total:"",subtotal:"",tax:"",tax_percent:"",discount:"",discount_percent:"",...e}}),E=w("cus_id");w("tax_percent"),w("discount_percent");const D=w("subtotal")||0,N=w("tax")||0,k=w("discount")||0,F=w("total")||0;T.useEffect(()=>{if(e){const W={ord_date:e.ord_date?new Date(e.ord_date).toISOString().split("T")[0]:"",staff_id:e.staff_id||"",cus_id:e.cus_id||"",cus_name:e.cus_name||"",total:e.total||"",subtotal:e.subtotal||"",tax:e.tax||"",tax_percent:e.tax_percent||"0",discount:e.discount||"",discount_percent:e.discount_percent||"0"};if(_(W),e.orderDetails&&e.orderDetails.length>0){const ne=e.orderDetails.map(ce=>({pro_code:parseInt(ce.pro_code),pro_name:ce.pro_name,qty:parseInt(ce.qty),price:parseFloat(ce.price),amount:parseFloat(ce.amount)}));m(ne)}}else _({ord_date:"",staff_id:"",cus_id:"",cus_name:"",total:"0.00",subtotal:"0.00",tax:"0.00",tax_percent:"0",discount:"0.00",discount_percent:"0"}),m([])},[e,_]),T.useEffect(()=>{if(d.length>0){const V=d.reduce((B,z)=>B+parseFloat(z.amount||0),0);P("subtotal",V.toFixed(2));const W=parseFloat(w("tax_percent"))||0,ne=V*(W/100);P("tax",ne.toFixed(2));const ce=parseFloat(w("discount_percent"))||0,C=V*(ce/100);P("discount",C.toFixed(2));const I=V+ne-C;P("total",I.toFixed(2))}},[d,P,w]),T.useEffect(()=>{if(E&&u.length>0){const V=u.find(W=>W.id===parseInt(E));V&&P("cus_name",V.cus_name)}},[E,u,P]);const L=V=>{if(!V.pro_code||!V.qty||!V.price){Xe.error("Please fill all required product fields");return}const W=parseInt(V.pro_code),ne=f.find(z=>z.id===W);if(!ne){Xe.error("Product not found");return}const ce=parseInt(V.qty),C=parseFloat(V.price);if(ce<=0){Xe.error("Quantity must be greater than 0");return}if(C<=0){Xe.error("Price must be greater than 0");return}const I=ce*C,B={pro_code:W,pro_name:ne.pro_name,qty:ce,price:C,amount:I};m(z=>[...z,B]),g(!1),Xe.success(`Added ${ne.pro_name} to order`)},A=V=>{m(W=>W.filter((ne,ce)=>ce!==V))},S=async V=>{var W,ne,ce;try{if(d.length===0){Xe.error("Please add at least one product to the order");return}let C=((W=V.cus_name)==null?void 0:W.trim())||"";if(V.cus_id){const B=u.find(z=>z.id===parseInt(V.cus_id));B&&B.cus_name&&(C=B.cus_name)}C||(C="Walk-in Customer");const I={ord_date:V.ord_date,staff_id:parseInt(V.staff_id),cus_id:V.cus_id?parseInt(V.cus_id):null,cus_name:C,total:parseFloat(V.total)||0,subtotal:parseFloat(V.subtotal)||0,tax:parseFloat(V.tax)||0,tax_percent:parseFloat(V.tax_percent)||0,discount:parseFloat(V.discount)||0,discount_percent:parseFloat(V.discount_percent)||0,items:d.map(B=>({product_id:B.pro_code,qty:B.qty,price:B.price,amount:B.amount}))};if(!I.items||I.items.length===0){Xe.error("Please add at least one product to the order");return}n(I)}catch(C){console.error("Submit failed:",C),Xe.error(((ce=(ne=C.response)==null?void 0:ne.data)==null?void 0:ce.message)||"Failed to save order")}},M=async V=>{var W,ne,ce;try{if(d.length===0){Xe.error("Please add at least one product to the order");return}let C=((W=V.cus_name)==null?void 0:W.trim())||"";if(V.cus_id){const B=u.find(z=>z.id===parseInt(V.cus_id));B&&B.cus_name&&(C=B.cus_name)}C||(C="Walk-in Customer");const I={ord_date:V.ord_date,staff_id:parseInt(V.staff_id),cus_id:V.cus_id?parseInt(V.cus_id):null,cus_name:C,total:parseFloat(V.total)||0,subtotal:parseFloat(V.subtotal)||0,tax:parseFloat(V.tax)||0,tax_percent:parseFloat(V.tax_percent)||0,discount:parseFloat(V.discount)||0,discount_percent:parseFloat(V.discount_percent)||0,items:d.map(B=>({product_id:B.pro_code,qty:B.qty,price:B.price,amount:B.amount}))};if(!I.items||I.items.length===0){Xe.error("Please add at least one product to the order");return}n(I),_({ord_date:V.ord_date,staff_id:V.staff_id,cus_id:"",cus_name:"",total:"0.00",subtotal:"0.00",tax:"0.00",tax_percent:"0",discount:"0.00",discount_percent:"0"}),m([]),g(!1)}catch(C){console.error("Submit failed:",C),Xe.error(((ce=(ne=C.response)==null?void 0:ne.data)==null?void 0:ce.message)||"Failed to save order")}},U=({products:V,onAdd:W,onCancel:ne})=>{const{register:ce,handleSubmit:C,formState:{errors:I},watch:B,reset:z,setValue:Z}=Ta(),ge=B("pro_code"),pe=B("qty"),te=B("price");T.useEffect(()=>{if(ge&&V.length>0){const ye=V.find(Ze=>Ze.id===parseInt(ge));ye&&ye.upis&&Z("price",ye.upis)}},[ge,V,Z]);const be=pe&&te?(parseFloat(pe)*parseFloat(te)).toFixed(2):"0.00",Te=ye=>{if(!ye.pro_code){Xe.error("Please select a product");return}if(!ye.qty||parseFloat(ye.qty)<=0){Xe.error("Please enter a valid quantity");return}if(!ye.price||parseFloat(ye.price)<=0){Xe.error("Please enter a valid price");return}W(ye),z()};return l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Add Product"}),l.jsx("button",{type:"button",onClick:ne,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Kr,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product *"}),l.jsxs("select",{...ce("pro_code",{required:"Product is required"}),className:"w-full input",children:[l.jsx("option",{value:"",children:"Select Product"}),V.map(ye=>l.jsx("option",{value:ye.id,children:ye.pro_name},ye.id))]}),I.pro_code&&l.jsx("p",{className:"mt-1 text-xs text-red-600",children:I.pro_code.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity *"}),l.jsx("input",{...ce("qty",{required:"Quantity is required",min:{value:1,message:"Quantity must be at least 1"}}),type:"number",min:"1",className:"w-full input",placeholder:"Enter quantity"}),I.qty&&l.jsx("p",{className:"mt-1 text-xs text-red-600",children:I.qty.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Price *"}),l.jsx("input",{...ce("price",{required:"Price is required",min:{value:.01,message:"Price must be greater than 0"}}),type:"number",step:"0.01",min:"0.01",className:"w-full input",placeholder:"0.00"}),I.price&&l.jsx("p",{className:"mt-1 text-xs text-red-600",children:I.price.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),l.jsxs("div",{className:"w-full input bg-gray-100",children:["$",be]})]})]}),l.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[l.jsx("button",{type:"button",onClick:ne,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{type:"button",onClick:C(Te),className:"px-3 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:"Add Product"})]})]})]})};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t==="create"?"Create New Order":t==="edit"?"Edit Order":"Order Details"}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Kr,{className:"w-6 h-6"})})]}),l.jsxs("form",{onSubmit:x(S),className:"p-6 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Date *"}),l.jsx("input",{...p("ord_date",{required:"Order date is required"}),type:"date",className:"w-full input",disabled:a}),y.ord_date&&l.jsx("p",{className:"mt-1 text-xs text-red-600",children:y.ord_date.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Staff Member *"}),l.jsxs("select",{...p("staff_id",{required:"Staff member is required"}),className:"w-full input",disabled:a,children:[l.jsx("option",{value:"",children:"Select Staff Member"}),c.map(V=>l.jsx("option",{value:V.id,children:V.full_name},V.id))]}),y.staff_id&&l.jsx("p",{className:"mt-1 text-xs text-red-600",children:y.staff_id.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer"}),l.jsxs("select",{...p("cus_id"),className:"w-full input",disabled:a,children:[l.jsx("option",{value:"",children:"Select Customer (Optional)"}),u.map(V=>l.jsx("option",{value:V.id,children:V.cus_name},V.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Name"}),l.jsx("input",{...p("cus_name"),type:"text",className:"w-full input",placeholder:"Enter customer name",disabled:a})]})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Order Items"}),!a&&l.jsxs("button",{type:"button",onClick:()=>g(!0),className:"btn-primary",children:[l.jsx(za,{className:"w-4 h-4 mr-2"}),"Add Product"]})]}),h&&!a&&l.jsx(U,{products:f,onAdd:L,onCancel:()=>g(!1)}),l.jsx("div",{className:"border rounded-lg overflow-hidden",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),!a&&l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.length>0?d.map((V,W)=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:V.pro_name}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:V.qty}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Vr(V.price)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Vr(V.amount)}),!a&&l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsx("button",{type:"button",onClick:()=>A(W),className:"text-red-600 hover:text-red-900",children:l.jsx(Ha,{className:"w-4 h-4"})})})]},W)):l.jsx("tr",{children:l.jsx("td",{colSpan:a?4:5,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No products added yet"})})})]})})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Financial Summary"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Subtotal"}),l.jsxs("div",{className:"mt-1 text-lg font-medium text-gray-900",children:["$",D]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Tax (%) ",l.jsx("input",{...p("tax_percent"),type:"number",step:"0.01",min:"0",max:"100",className:"w-16 input ml-1 text-xs",disabled:a})]}),l.jsxs("div",{className:"mt-1 text-lg font-medium text-gray-900",children:["$",N]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["Discount (%) ",l.jsx("input",{...p("discount_percent"),type:"number",step:"0.01",min:"0",max:"100",className:"w-16 input ml-1 text-xs",disabled:a})]}),l.jsxs("div",{className:"mt-1 text-lg font-medium text-gray-900",children:["$",k]})]}),l.jsxs("div",{className:"md:col-span-2 lg:col-span-1",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Total"}),l.jsxs("div",{className:"mt-1 text-xl font-bold text-blue-600",children:["$",F]})]})]})]}),!a&&l.jsxs("div",{className:"flex justify-end space-x-3",children:[l.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),t==="create"&&l.jsx("button",{type:"button",onClick:x(M),className:"px-4 py-2 text-sm font-medium text-white bg-green-600 border border-transparent rounded-md hover:bg-green-700",children:"Save and Add Another"}),l.jsx("button",{type:"button",onClick:x(S),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:t==="edit"?"Update Order":"Create Order"})]})]})]})})},gq=()=>{var S;const{user:e,hasPermission:t}=Rn(),[r,n]=T.useState(""),[a,i]=T.useState(null),[s,o]=T.useState(!1),[c,u]=T.useState("create"),{data:f,isLoading:d,error:m,refetch:h}=Y3(),g=mq(),p=X3(),x=J3(),y=((S=f==null?void 0:f.data)==null?void 0:S.data)||(f==null?void 0:f.data)||f||[],_=Array.isArray(y)?Object.values(y.reduce((M,U)=>(!U||!U.id||(M[U.id]=M[U.id]?{...M[U.id],...U}:U),M),{})):[],w=t(["create_order","create"]),P=t(["update_order","update"]),E=t(["delete_order","delete"]),D=()=>{i(null),u("create"),o(!0)},N=M=>{i(M),u("view"),o(!0)},k=M=>{i(M),u("edit"),o(!0)},F=async M=>{if(window.confirm(`Are you sure you want to delete order #${M.id}?`))try{await g.mutateAsync(M.id),await h()}catch(U){console.error("Delete failed:",U)}},L=async M=>{var U,G;try{c==="edit"?(await x.mutateAsync({id:a.id,data:M}),Xe.success("Order updated successfully")):(await p.mutateAsync(M),Xe.success("Order created successfully")),await new Promise(H=>setTimeout(H,250)),await h()}catch(H){console.error("Save failed:",H),Xe.error(((G=(U=H.response)==null?void 0:U.data)==null?void 0:G.message)||"Failed to save order")}finally{o(!1)}},A=Array.isArray(_)?_.filter(M=>{var G,H;const U=r.toLowerCase();return((G=M.full_name)==null?void 0:G.toLowerCase().includes(U))||((H=M.cus_name)==null?void 0:H.toLowerCase().includes(U))||M.id.toString().includes(U)}):[];return d?l.jsx(pr,{className:"h-64"}):m?l.jsxs("div",{className:"text-red-600",children:["Error loading orders: ",m.message]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Orders"}),l.jsx("p",{className:"text-gray-600",children:(e==null?void 0:e.type)==="staff_sale"?"Manage sales orders":"View orders"})]}),w&&l.jsxs("button",{onClick:D,className:"btn-primary",children:[l.jsx(za,{className:"w-4 h-4 mr-2"}),"New Order"]})]}),l.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:l.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",placeholder:"Search orders...",className:"input pl-10 w-full",value:r,onChange:M=>n(M.target.value)})]})})}),l.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Staff"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.length>0?A.map(M=>{var q,V,W,ne;const U=((q=M.payments)==null?void 0:q.reduce((ce,C)=>ce+parseFloat(C.deposit||0),0))||0,H=parseFloat(M.total||0)-U<=.01;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",M.id]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Mr(M.ord_date)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:M.cus_name||"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((V=M.staff)==null?void 0:V.full_name)||"N/A"}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[((W=M.orderDetails)==null?void 0:W.length)||((ne=M.order_details)==null?void 0:ne.length)||0," items"]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Vr(M.total)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${H?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:H?"Paid":"Pending"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>N(M),className:"text-blue-600 hover:text-blue-900",title:"View",children:l.jsx(Wa,{className:"w-4 h-4"})}),P&&l.jsx("button",{onClick:()=>k(M),className:"text-green-600 hover:text-green-900",title:"Edit",children:l.jsx(Li,{className:"w-4 h-4"})}),E&&l.jsx("button",{onClick:()=>F(M),className:"text-red-600 hover:text-red-900",title:"Delete",children:l.jsx(Ha,{className:"w-4 h-4"})})]})})]},M.id)}):l.jsx("tr",{children:l.jsx("td",{colSpan:"8",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No orders found"})})})]})})}),s&&l.jsx(pq,{order:a,mode:c,onClose:()=>o(!1),onSave:L})]})},bu={getAll:()=>ut.get("/payments"),getById:e=>ut.get(`/payments/${e}`),create:e=>ut.post("/payments",e),update:(e,t)=>ut.put(`/payments/${e}`,t),delete:e=>ut.delete(`/payments/${e}`),getPending:()=>ut.get("/payments/pending"),getSummary:()=>ut.get("/payments/summary"),getOrderStatus:e=>ut.get(`/payments/order/${e}/status`)},vq=Object.freeze(Object.defineProperty({__proto__:null,paymentService:bu},Symbol.toStringTag,{value:"Module"})),Z3=(e={})=>{const[t,r]=T.useState(null),[n,a]=T.useState(!0),[i,s]=T.useState(null);return T.useEffect(()=>{(async()=>{try{a(!0);const u=await bu.getAll(e);r(u),s(null)}catch(u){s(u),console.error("Payments fetch failed:",u)}finally{a(!1)}})()},[JSON.stringify(e)]),{data:t,isLoading:n,error:i,refetch:()=>{(async()=>{try{a(!0);const u=await bu.getAll(e);r(u),s(null)}catch(u){s(u),console.error("Payments refetch failed:",u)}finally{a(!1)}})()}}},Q3=()=>{const[e,t]=T.useState(!1),[r,n]=T.useState(null);return{mutateAsync:async i=>{var s,o,c,u,f,d,m,h,g;try{t(!0),n(null);const p=await bu.create(i),x=((s=p==null?void 0:p.data)==null?void 0:s.message)||(p==null?void 0:p.message)||"";return x&&x.toLowerCase().includes("order is already fully paid")?Xe.success("Payment created successfully"):Xe.success("Payment created successfully"),p}catch(p){n(p),console.error("Payment creation failed:",p);const x=((c=(o=p.response)==null?void 0:o.data)==null?void 0:c.message)||((f=(u=p.response)==null?void 0:u.data)==null?void 0:f.error)||"Failed to create payment";if(x&&x.toLowerCase().includes("order is already fully paid")){Xe.success("Payment created successfully");const y=((m=(d=p.response)==null?void 0:d.data)==null?void 0:m.data)||((g=(h=p.response)==null?void 0:h.data)==null?void 0:g.payment)||null;return y?{data:y,success:!0}:{data:i,success:!0}}else throw Xe.error(x),p}finally{t(!1)}},isLoading:e,error:r}},ej=()=>{const[e,t]=T.useState(!1),[r,n]=T.useState(null);return{mutateAsync:async({id:i,data:s})=>{var o,c,u,f;try{t(!0),n(null);const d=await bu.update(i,s);return Xe.success("Payment updated successfully"),d}catch(d){n(d),console.error("Payment update failed:",d);const m=((c=(o=d.response)==null?void 0:o.data)==null?void 0:c.message)||((f=(u=d.response)==null?void 0:u.data)==null?void 0:f.error)||"Failed to update payment";throw Xe.error(m),d}finally{t(!1)}},isLoading:e,error:r}},xq=()=>{const[e,t]=T.useState(!1),[r,n]=T.useState(null);return{mutateAsync:async i=>{var s,o,c,u;try{t(!0),n(null);const f=await bu.delete(i);return Xe.success("Payment deleted successfully"),f}catch(f){n(f),console.error("Payment deletion failed:",f);const d=((o=(s=f.response)==null?void 0:s.data)==null?void 0:o.message)||((u=(c=f.response)==null?void 0:c.data)==null?void 0:u.error)||"Failed to delete payment";throw Xe.error(d),f}finally{t(!1)}},isLoading:e,error:r}},yq=({payment:e,mode:t,onClose:r,onSave:n})=>{var k,F;const a=t==="view",i=t==="edit",s=Q3(),o=ej(),{data:c}=Y3(),{data:u}=kd(),f=((k=c==null?void 0:c.data)==null?void 0:k.data)||(c==null?void 0:c.data)||c||[],d=((F=u==null?void 0:u.data)==null?void 0:F.data)||(u==null?void 0:u.data)||u||[],m=L=>{var U;if(!L)return{isPaid:!1,status:"Pending",colorClass:"bg-yellow-100 text-yellow-800"};const A=((U=L.payments)==null?void 0:U.reduce((G,H)=>G+parseFloat(H.deposit||0),0))||0,M=parseFloat(L.total||0)-A<=.01;return{isPaid:M,status:M?"Paid":"Pending",colorClass:M?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}},{register:h,handleSubmit:g,formState:{errors:p},reset:x,watch:y,setValue:_}=Ta(),w=y("ord_code"),P=y("total"),E=y("deposit");T.useEffect(()=>{if(e&&t!=="create"){const A={pay_date:e.pay_date?new Date(e.pay_date).toISOString().split("T")[0]:"",staff_id:e.staff_id||"",ord_code:e.ord_code||"",total:e.total||"",deposit:e.deposit||"",remain:e.remain||"",payment_method:e.payment_method||""};x(A)}else t==="create"&&x({pay_date:"",staff_id:"",ord_code:"",total:"",deposit:"",remain:"",payment_method:""})},[e,t,x]),T.useEffect(()=>{if(P&&E){const L=parseFloat(P)-parseFloat(E);isNaN(L)||_("remain",L.toFixed(2))}},[P,E,_]),T.useEffect(()=>{if(w&&f.length>0){const L=f.find(A=>A.id===parseInt(w));L&&(_("total",L.total),t==="create"&&!(e!=null&&e.payment_method)&&_("payment_method","cash"))}},[w,f,e,t,_]);const D=async L=>{try{const A={pay_date:L.pay_date,staff_id:parseInt(L.staff_id),ord_code:parseInt(L.ord_code),total:parseFloat(L.total),deposit:parseFloat(L.deposit),remain:parseFloat(L.remain),payment_method:L.payment_method};console.log("Submitting payment data:",A);let S;i?(console.log("Updating existing payment:",e.id),S=await o.mutateAsync({id:e.id,data:A})):(console.log("Creating new payment"),S=await s.mutateAsync(A)),console.log("Payment operation response:",S),S&&S.success===!0?(console.log("Payment operation successful with data:",S.data),n(S.data||A)):S&&S.data?(console.log("Payment operation successful (alternative format):",S.data),n(S.data||A)):(console.log("Payment operation successful without expected data format"),n(A))}catch(A){console.error("Submit failed:",A),console.error("Full error details:",{message:A.message,stack:A.stack,name:A.name});const S=A.message||A.response&&A.response.data&&A.response.data.message||"Failed to save payment";console.error("Displaying error message:",S),Xe.error(S)}},N=L=>{L.preventDefault(),g(D)(L)};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t==="create"?"Create New Payment":t==="edit"?"Edit Payment":"Payment Details"}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Kr,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"p-6",children:l.jsxs("form",{onSubmit:N,className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Date *"}),l.jsx("input",{...h("pay_date",{required:"Payment date is required"}),type:"date",className:"w-full input",disabled:a}),p.pay_date&&l.jsx("p",{className:"mt-1 text-xs text-red-600",children:p.pay_date.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Staff Member *"}),l.jsxs("select",{...h("staff_id",{required:"Staff member is required"}),className:"w-full input",disabled:a,children:[l.jsx("option",{value:"",children:"Select Staff Member"}),d.map(L=>l.jsx("option",{value:L.id,children:L.full_name},L.id))]}),p.staff_id&&l.jsx("p",{className:"mt-1 text-xs text-red-600",children:p.staff_id.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order *"}),l.jsxs("select",{...h("ord_code",{required:"Order is required"}),className:"w-full input",disabled:a,children:[l.jsx("option",{value:"",children:"Select Order"}),f.map(L=>{const{isPaid:A,status:S,colorClass:M}=m(L);return l.jsxs("option",{value:L.id,children:["Order #",L.id," - ",L.cus_name," ($",L.total,") -"," ",S]},L.id)})]}),p.ord_code&&l.jsx("p",{className:"mt-1 text-xs text-red-600",children:p.ord_code.message}),w&&l.jsx("div",{className:"mt-2",children:(()=>{const L=f.find(A=>A.id===parseInt(w));if(L){const{status:A,colorClass:S}=m(L);return l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${S}`,children:A})}return null})()})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Method *"}),l.jsxs("select",{...h("payment_method",{required:"Payment method is required"}),className:"w-full input",disabled:a,children:[l.jsx("option",{value:"",children:"Select Payment Method"}),l.jsx("option",{value:"cash",children:"Cash"}),l.jsx("option",{value:"credit_card",children:"Credit Card"}),l.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),l.jsx("option",{value:"check",children:"Check"})]}),p.payment_method&&l.jsx("p",{className:"mt-1 text-xs text-red-600",children:p.payment_method.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Amount *"}),l.jsx("input",{...h("total",{required:"Total amount is required",min:{value:0,message:"Total must be positive"}}),type:"number",step:"0.01",className:"w-full input",disabled:!0,placeholder:"0.00"}),p.total&&l.jsx("p",{className:"mt-1 text-xs text-red-600",children:p.total.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Deposit Amount *"}),l.jsx("input",{...h("deposit",{required:"Deposit amount is required",min:{value:0,message:"Deposit must be positive"}}),type:"number",step:"0.01",className:"w-full input",disabled:a,placeholder:"0.00"}),p.deposit&&l.jsx("p",{className:"mt-1 text-xs text-red-600",children:p.deposit.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Remaining Amount"}),l.jsx("input",{...h("remain"),type:"number",step:"0.01",className:"w-full input bg-gray-100",disabled:!0,placeholder:"0.00"})]})]}),!a&&l.jsxs("div",{className:"flex justify-end space-x-3 pt-6 border-t border-gray-200",children:[l.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700",children:i?"Update Payment":"Create Payment"})]}),a&&l.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-200",children:l.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50",children:"Close"})})]})})]})})},bq=()=>{var A;const{user:e,hasPermission:t}=Rn(),[r,n]=T.useState(""),[a,i]=T.useState(null),[s,o]=T.useState(!1),[c,u]=T.useState("create"),{data:f,isLoading:d,error:m,refetch:h}=Z3(),g=xq(),p=Q3(),x=ej(),y=((A=f==null?void 0:f.data)==null?void 0:A.data)||(f==null?void 0:f.data)||f||[],_=t(["create_payment","create"]),w=t(["update_payment","update"]),P=t(["delete_payment","delete"]),E=()=>{i(null),u("create"),o(!0)},D=S=>{i(S),u("view"),o(!0)},N=S=>{i(S),u("edit"),o(!0)},k=async S=>{if(window.confirm(`Are you sure you want to delete payment #${S.id}?`))try{await g.mutateAsync(S.id),await h()}catch(M){console.error("Delete failed:",M)}},F=async S=>{try{c==="edit"?await x.mutateAsync({id:a.id,data:S}):await p.mutateAsync(S),await new Promise(M=>setTimeout(M,250)),await h()}catch(M){console.error("Save failed:",M)}finally{o(!1)}},L=Array.isArray(y)?y.filter(S=>{var U,G,H;const M=r.toLowerCase();return((U=S.full_name)==null?void 0:U.toLowerCase().includes(M))||((H=(G=S.order)==null?void 0:G.cus_name)==null?void 0:H.toLowerCase().includes(M))||S.id.toString().includes(M)}):[];return d?l.jsx(pr,{className:"h-64"}):m?l.jsxs("div",{className:"text-red-600",children:["Error loading payments: ",m.message]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payments"}),l.jsx("p",{className:"text-gray-600",children:(e==null?void 0:e.type)==="staff_sale"?"Manage payments":"View payments"})]}),_&&l.jsxs("button",{onClick:E,className:"btn-primary",children:[l.jsx(za,{className:"w-4 h-4 mr-2"}),"New Payment"]})]}),l.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:l.jsx("div",{className:"flex flex-col sm:flex-row gap-4",children:l.jsxs("div",{className:"flex-1 relative",children:[l.jsx(os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx("input",{type:"text",placeholder:"Search payments...",className:"input pl-10 w-full",value:r,onChange:S=>n(S.target.value)})]})})}),l.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment ID"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Staff"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Deposit"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Remaining"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.length>0?L.map(S=>{var M,U;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",S.id]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Mr(S.pay_date)}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["#",S.ord_code]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((M=S.order)==null?void 0:M.cus_name)||"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((U=S.staff)==null?void 0:U.full_name)||"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Vr(S.total)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Vr(S.deposit)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Vr(S.remain)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:l.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.remain<=.01?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:S.remain<=.01?"Paid":"Pending"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:l.jsxs("div",{className:"flex space-x-2",children:[l.jsx("button",{onClick:()=>D(S),className:"text-blue-600 hover:text-blue-900",title:"View",children:l.jsx(Wa,{className:"w-4 h-4"})}),w&&l.jsx("button",{onClick:()=>N(S),className:"text-green-600 hover:text-green-900",title:"Edit",children:l.jsx(Li,{className:"w-4 h-4"})}),P&&l.jsx("button",{onClick:()=>k(S),className:"text-red-600 hover:text-red-900",title:"Delete",children:l.jsx(Ha,{className:"w-4 h-4"})})]})})]},S.id)}):l.jsx("tr",{children:l.jsx("td",{colSpan:"9",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No payments found"})})})]})})}),s&&l.jsx(yq,{payment:a,mode:c,onClose:()=>o(!1),onSave:F})]})},kt={getImportReport:e=>ut.get("/reports/import-report",e),getSalesReport:e=>ut.get("/reports/sales-report",e),getImportSummary:e=>ut.get("/reports/import-summary",e),getSalesSummary:e=>ut.get("/reports/sales-summary",e),getBestSellingProducts:e=>ut.get("/reports/best-selling-products",e),getLowStockProducts:e=>ut.get("/reports/low-stock-products",e),getInventorySummary:e=>ut.get("/reports/inventory-summary",e),exportImportExcel:e=>{const t=new URLSearchParams(e).toString();return`${oa.base_api_url.replace("/api/","")}/api/reports/export-import-excel?${t}`},exportSalesExcel:e=>{const t=new URLSearchParams(e).toString();return`${oa.base_api_url.replace("/api/","")}/api/reports/export-sales-excel?${t}`},exportImportExcelXlsx:e=>{const t=new URLSearchParams(e).toString();return`${oa.base_api_url.replace("/api/","")}/api/reports/export-import-excel-xlsx?${t}`},exportSalesExcelXlsx:e=>{const t=new URLSearchParams(e).toString();return`${oa.base_api_url.replace("/api/","")}/api/reports/export-sales-excel-xlsx?${t}`},exportImportPdf:e=>{const t=new URLSearchParams(e).toString();return`${oa.base_api_url.replace("/api/","")}/api/reports/export-import-pdf?${t}`},exportSalesPdf:e=>{const t=new URLSearchParams(e).toString();return`${oa.base_api_url.replace("/api/","")}/api/reports/export-sales-pdf?${t}`},exportSingleImportWord:e=>{const t=new URLSearchParams(e).toString();return`${oa.base_api_url.replace("/api/","")}/api/reports/export-single-import-word?${t}`},exportSingleSalesWord:e=>{const t=new URLSearchParams(e).toString();return`${oa.base_api_url.replace("/api/","")}/api/reports/export-single-sales-word?${t}`},exportPdf:async(e,t)=>{const r={...t,type:e};let n;switch(e){case"import":n=kt.exportImportPdf(r);break;case"sales":n=kt.exportSalesPdf(r);break;default:throw new Error(`Unsupported PDF export type: ${e}`)}const a=`${e}-report-${new Date().toISOString().split("T")[0]}.pdf`;return await kt.downloadFile(n,a)},exportExcel:async(e,t)=>{const r={...t,type:e};let n;switch(e){case"import":n=kt.exportImportExcelXlsx(r);break;case"sales":n=kt.exportSalesExcelXlsx(r);break;default:throw new Error(`Unsupported Excel export type: ${e}`)}const a=`${e}-report-${new Date().toISOString().split("T")[0]}.xlsx`;return await kt.downloadFile(n,a)},exportCsv:async(e,t)=>await kt.exportExcel(e,t),downloadFile:async(e,t)=>{try{console.log("Downloading file:",{url:e,filename:t});const r=localStorage.getItem("token"),n=await fetch(e,{headers:{Authorization:`Bearer ${r}`,Accept:"application/octet-stream, application/pdf, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"}});if(console.log("Download response:",n.status,n.statusText),!n.ok){const o=await n.text();throw console.error("Download failed:",o),new Error(`Download failed: ${n.status} ${n.statusText}`)}const a=await n.blob();console.log("Blob created:",a.size,"bytes, type:",a.type);const i=window.URL.createObjectURL(a),s=document.createElement("a");s.href=i,s.download=t,s.style.display="none",document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(i),console.log("File downloaded successfully:",t)}catch(r){throw console.error("Download error:",r),r}}},tj=(e={})=>{const[t,r]=T.useState(null),[n,a]=T.useState(!0),[i,s]=T.useState(null);return T.useEffect(()=>{(async()=>{try{a(!0);const c=await kt.getImportReport(e);r(c),s(null)}catch(c){s(c),console.error("Import report fetch failed:",c)}finally{a(!1)}})()},[JSON.stringify(e)]),{data:t,isLoading:n,error:i}},Lv=(e={})=>{const[t,r]=T.useState(null),[n,a]=T.useState(!0),[i,s]=T.useState(null);return T.useEffect(()=>{(async()=>{try{a(!0);const u=await kt.getSalesReport(e);r(u),s(null)}catch(u){s(u),console.error("Sales report fetch failed:",u)}finally{a(!1)}})()},[JSON.stringify(e)]),{data:t,isLoading:n,error:i,refetch:()=>{(async()=>{try{a(!0);const u=await kt.getSalesReport(e);r(u),s(null)}catch(u){s(u),console.error("Sales report refetch failed:",u)}finally{a(!1)}})()}}},wq=(e={})=>{const[t,r]=T.useState(null),[n,a]=T.useState(!0),[i,s]=T.useState(null);return T.useEffect(()=>{(async()=>{try{a(!0);const c=await kt.getBestSellingProducts(e);r(c),s(null)}catch(c){s(c),console.error("Best selling products fetch failed:",c)}finally{a(!1)}})()},[JSON.stringify(e)]),{data:t,isLoading:n,error:i}},rj=async({type:e,format:t,data:r})=>{var n,a,i,s;try{let o;switch(t){case"pdf":o=await kt.exportPdf(e,r);break;case"excel":o=await kt.exportExcel(e,r);break;case"csv":o=await kt.exportCsv(e,r);break;default:throw new Error(`Unsupported export format: ${t}`)}return Xe.success("Report exported successfully"),o}catch(o){console.error("Report export failed:",o);const c=((a=(n=o.response)==null?void 0:n.data)==null?void 0:a.message)||((s=(i=o.response)==null?void 0:i.data)==null?void 0:s.error)||"Failed to export report";throw Xe.error(c),o}},Sp={getAll:()=>ut.get("/users"),getById:e=>ut.get(`/users/${e}`),create:e=>e instanceof FormData?vu("/users",e).then(t=>t.data):ut.post("/users",e),update:(e,t)=>t instanceof FormData?(t.append("_method","PUT"),vu(`/users/${e}`,t).then(r=>r.data)):ut.put(`/users/${e}`,t),delete:e=>ut.delete(`/users/${e}`)},nj=()=>{const[e,t]=T.useState(null),[r,n]=T.useState(!0),[a,i]=T.useState(null),s=T.useCallback(async()=>{try{n(!0);const o=await Sp.getAll();t(o),i(null)}catch(o){i(o)}finally{n(!1)}},[]);return T.useEffect(()=>{s()},[s]),{data:e,isLoading:r,error:a,refetch:s}},_q=()=>{const[e,t]=T.useState(!1),r=async n=>{var a,i;try{t(!0);const s=await Sp.create(n);return Xe.success("User created successfully"),s}catch(s){throw Xe.error(((i=(a=s.response)==null?void 0:a.data)==null?void 0:i.message)||"Failed to create user"),s}finally{t(!1)}};return{mutate:r,mutateAsync:r,isLoading:e}},Sq=()=>{const[e,t]=T.useState(!1),r=async({id:n,data:a})=>{var i,s;try{t(!0);const o=await Sp.update(n,a);return Xe.success("User updated successfully"),o}catch(o){throw Xe.error(((s=(i=o.response)==null?void 0:i.data)==null?void 0:s.message)||"Failed to update user"),o}finally{t(!1)}};return{mutate:r,mutateAsync:r,isLoading:e}},Nq=()=>{const[e,t]=T.useState(!1),r=async n=>{var a,i;try{t(!0);const s=await Sp.delete(n);return Xe.success("User deleted successfully"),s}catch(s){throw Xe.error(((i=(a=s.response)==null?void 0:a.data)==null?void 0:i.message)||"Failed to delete user"),s}finally{t(!1)}};return{mutate:r,mutateAsync:r,isLoading:e}},Aq=({dateRange:e,filters:t})=>{var u;const{data:r,isLoading:n,error:a}=VN(),i=((u=r==null?void 0:r.data)==null?void 0:u.data)||(r==null?void 0:r.data)||r||[],s=Array.isArray(i)?i.filter(f=>{const d=new Date(f.imp_date),m=new Date(e.from),h=new Date(e.to);return d>=m&&d<=h}):[],o=f=>{const d=f.import_details||f.importDetails||[];return console.log("Import Item:",f),console.log("Import Details:",d),d.map((m,h)=>{var g,p,x;return console.log("Detail Item:",m),{id:`${f.id}-${h}`,importId:f.id,date:f.imp_date,staff:((g=f.staff)==null?void 0:g.full_name)||f.full_name||f.staff_name||`Staff ${f.staff_id}`,supplier:((p=f.supplier)==null?void 0:p.supplier)||f.supplier_name||f.supplier||"N/A",productName:m.pro_name||((x=m.product)==null?void 0:x.pro_name)||m.product_name||"Unknown Product",qty:m.qty||m.quantity||0,amount:m.amount||m.price||m.total||0,batchNumber:m.batch_number||m.batchNumber||m.batch||"N/A",expirationDate:m.expiration_date||m.expirationDate||m.expiry||"N/A",status:f.status||"Completed"}})},c=s.flatMap(f=>o(f));return n?l.jsx(pr,{className:"h-64"}):a?l.jsxs("div",{className:"text-red-600",children:["Error loading imports: ",a.message]}):l.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx(Sn,{className:"w-5 h-5 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Import Transactions Report"}),l.jsxs("p",{className:"text-sm text-gray-600",children:["Generated on: ",Mr(new Date)," | Total Imports: ",s.length," | Total Value: ",Vr(c.reduce((f,d)=>f+parseFloat(d.amount||0),0))]})]})]})})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Staff"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Supplier"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Name"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qty"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Batch Number"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expiration Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.length>0?c.map(f=>l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",f.importId]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Mr(f.date)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:f.staff}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:f.supplier}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:f.productName}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:f.qty}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Vr(f.amount)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.batchNumber}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.expirationDate!=="N/A"?Mr(f.expirationDate):"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:f.status})})]},f.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:"10",className:"px-6 py-12 text-center",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx(Sn,{className:"w-12 h-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Import Data"}),l.jsxs("p",{className:"text-gray-500",children:["No imports found for the selected date range (",Mr(e.from)," to ",Mr(e.to),")"]})]})})})})]})}),c.length>0&&l.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Total Items:"}),l.jsx("span",{className:"ml-2 text-gray-900",children:c.length})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Total Value:"}),l.jsx("span",{className:"ml-2 text-gray-900 font-semibold",children:Vr(c.reduce((f,d)=>f+parseFloat(d.amount||0),0))})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Total Quantity:"}),l.jsx("span",{className:"ml-2 text-gray-900",children:c.reduce((f,d)=>f+parseInt(d.qty||0),0)})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Total Imports:"}),l.jsx("span",{className:"ml-2 text-gray-900",children:s.length})]})]})})]})},jq=()=>{var y,_;const[e,t]=T.useState("import"),[r,n]=T.useState({from:"2024-01-01",to:new Date().toISOString().split("T")[0]}),[a,i]=T.useState({}),[s,o]=T.useState(!1);T.useState({key:null,direction:"asc"}),T.useEffect(()=>{const w=()=>{const P=window.location.hash.substring(1);t(P==="sales"?"sales":"import")};return w(),window.addEventListener("hashchange",w),()=>window.removeEventListener("hashchange",w)},[]);const c={...a,date_from:r.from,date_to:r.to},{data:u,isLoading:f}=tj(c),{data:d,isLoading:m,error:h}=Lv(c);T.useEffect(()=>{var w,P;console.log("=== REPORTS PAGE DEBUG ==="),console.log("Active Tab:",e),console.log("Date Range:",r),console.log("Filters:",a),u&&(console.log(" Import Report Data:",u),console.log("Import Data Type:",typeof(u==null?void 0:u.data)),console.log("Import Is Array:",Array.isArray(u==null?void 0:u.data)),console.log("Import Records:",(w=u==null?void 0:u.data)==null?void 0:w.length)),d&&(console.log(" Sales Report Data:",d),console.log("Sales Data Type:",typeof(d==null?void 0:d.data)),console.log("Sales Is Array:",Array.isArray(d==null?void 0:d.data)),console.log("Sales Records:",(P=d==null?void 0:d.data)==null?void 0:P.length),d!=null&&d.data&&d.data.length>0&&console.log("First Sales Item:",d.data[0])),h&&console.log(" Sales Error:",h)},[u,d,h,r,a,e]);const g=async(w,P)=>{o(!0);try{const E=`${w}_report_${r.from}_to_${r.to}.${P}`;let D=[];w==="import"?D=(u==null?void 0:u.data)||[]:w==="sales"&&(D=(d==null?void 0:d.data)||[]),console.log(` Exporting ${w} report:`,{format:P,filename:E,records:D.length}),await rj({type:w,format:P,params:c,filename:E,fallbackData:D})}catch(E){console.error("Export error:",E)}finally{o(!1)}},p=({type:w,format:P,icon:E,label:D,color:N="blue"})=>l.jsxs("button",{onClick:()=>g(w,P),disabled:s,className:`flex items-center space-x-2 px-3 py-2 bg-${N}-50 text-${N}-700 rounded-lg hover:bg-${N}-100 transition-colors text-sm font-medium disabled:opacity-50`,children:[l.jsx(E,{className:"w-4 h-4"}),l.jsx("span",{children:D})]}),x=({dateRange:w,filters:P})=>{const{data:E,isLoading:D,error:N,refetch:k}=Lv({date_from:w.from,date_to:w.to,...P});if(T.useEffect(()=>{var U;console.log(" Sales Report Table Debug:"),console.log("Date Range:",w),console.log("Filters:",P),console.log("Loading:",D),console.log("Error:",N),console.log("Sales Report Data:",E),console.log("Data Type:",typeof(E==null?void 0:E.data)),console.log("Is Array:",Array.isArray(E==null?void 0:E.data)),console.log("Data Length:",(U=E==null?void 0:E.data)==null?void 0:U.length),E!=null&&E.data&&(console.log("First item sample:",E.data[0]),console.log("Data structure keys:",Object.keys(E)))},[E,D,N,w,P]),D)return l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsxs("div",{className:"text-center",children:[l.jsx(ca,{className:"w-8 h-8 animate-spin mx-auto mb-2 text-blue-600"}),l.jsx("p",{className:"text-gray-600",children:"Loading sales data..."})]})});if(N)return l.jsxs("div",{className:"text-center py-12 text-red-500",children:[l.jsx(pu,{className:"w-16 h-16 mx-auto text-red-300 mb-4"}),l.jsx("p",{className:"text-lg font-medium",children:"Error loading sales data"}),l.jsx("p",{className:"text-sm mt-2",children:N.message}),l.jsxs("button",{onClick:()=>k(),className:"mt-4 px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors",children:[l.jsx(ca,{className:"w-4 h-4 inline mr-2"}),"Retry"]})]});if(!(E&&(Array.isArray(E.data)&&E.data.length>0||Array.isArray(E)&&E.length>0||E.orders&&Array.isArray(E.orders)&&E.orders.length>0||E.sales&&Array.isArray(E.sales)&&E.sales.length>0)))return l.jsxs("div",{className:"text-center py-12 text-gray-500",children:[l.jsx(ss,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),l.jsx("p",{className:"text-lg font-medium",children:"No sales data available"}),l.jsx("p",{className:"text-sm mb-4",children:"Try adjusting your date range or filters"}),l.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg text-left max-w-md mx-auto",children:[l.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:"Debug Information:"}),l.jsxs("p",{className:"text-sm text-yellow-700",children:["Date Range: ",w.from," to ",w.to]}),l.jsxs("p",{className:"text-sm text-yellow-700",children:["API Response: ",E?"Received":"No response"]}),l.jsxs("p",{className:"text-sm text-yellow-700",children:["Data Type: ",typeof(E==null?void 0:E.data)]}),l.jsxs("p",{className:"text-sm text-yellow-700",children:["Records Found: ",Array.isArray(E==null?void 0:E.data)?E.data.length:"N/A"]}),l.jsxs("p",{className:"text-sm text-yellow-700",children:["Response Keys: ",E?Object.keys(E).join(", "):"N/A"]})]}),l.jsxs("div",{className:"mt-4 flex gap-2 justify-center",children:[l.jsx("button",{onClick:()=>n({from:"2024-01-01",to:new Date().toISOString().split("T")[0]}),className:"px-3 py-1 bg-blue-100 text-blue-700 rounded text-sm hover:bg-blue-200",children:"Full Year"}),l.jsx("button",{onClick:()=>n({from:"2024-10-01",to:new Date().toISOString().split("T")[0]}),className:"px-3 py-1 bg-green-100 text-green-700 rounded text-sm hover:bg-green-200",children:"This Month"}),l.jsxs("button",{onClick:()=>k(),className:"px-3 py-1 bg-gray-100 text-gray-700 rounded text-sm hover:bg-gray-200",children:[l.jsx(ca,{className:"w-3 h-3 inline mr-1"}),"Refetch"]})]})]});let L=[];Array.isArray(E.data)?L=E.data:Array.isArray(E)?L=E:E.orders&&Array.isArray(E.orders)?L=E.orders:E.sales&&Array.isArray(E.sales)?L=E.sales:E.data&&typeof E.data=="object"&&(L=E.data.orders||E.data.data||E.data.sales||[]),console.log(" Processed Orders:",L);const A=U=>{switch(U==null?void 0:U.toLowerCase()){case"paid":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";case"unpaid":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},S=U=>{if(U.payment_status)return U.payment_status;const H=(U.payments||[]).reduce((V,W)=>V+(parseFloat(W.deposit)||0),0),q=parseFloat(U.total)||0;return H>=q?"Paid":H>0?"Partial":"Unpaid"},M=U=>(U.order_details||U.orderDetails||[]).reduce((H,q)=>H+(parseInt(q.qty)||0),0);return l.jsxs("div",{className:"bg-white rounded-lg shadow-sm border",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Sales Orders (",L.length,")"]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"text-sm text-gray-500",children:[w.from," to ",w.to]}),l.jsxs("button",{onClick:()=>k(),className:"flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-700 rounded text-sm hover:bg-gray-200",children:[l.jsx(ca,{className:"w-3 h-3"}),"Refresh"]})]})]})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Staff"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product Name"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Qty"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Amount"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map((U,G)=>{var V,W,ne;const H=S(U),q=M(U);return l.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["#",U.id||U.order_id||"N/A"]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Mr(U.ord_date||U.order_date||U.date||U.created_at||new Date)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:U.cus_name||((V=U.customer)==null?void 0:V.name)||U.customer_name||U.customer||"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.staff_name||((W=U.staff)==null?void 0:W.name)||U.full_name||U.staff||"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:U.product_name||((ne=U.product)==null?void 0:ne.name)||U.pro_name||U.product||"N/A"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:q||U.qty||0}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Vr(U.total||U.amount||U.total_amount||0)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${A(H)}`,children:H})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${(U.status||"completed").toLowerCase()==="completed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:U.status||"Completed"})})]},U.id||G)})}),l.jsxs("tfoot",{className:"bg-gray-50 text-white",children:[l.jsxs("tr",{className:"bg-blue-200",children:[l.jsx("td",{colSpan:"5",className:"px-6 py-3 text-sm font-medium text-black text-right",children:"Total Sales:"}),l.jsx("td",{className:"px-6 py-3 text-sm font-bold text-black",children:Vr(L.reduce((U,G)=>U+(parseFloat(G.total||G.amount||G.total_amount)||0),0))}),l.jsx("td",{colSpan:"2",className:"px-6 py-3"})]}),l.jsxs("tr",{className:"bg-yellow-200",children:[l.jsx("td",{colSpan:"5",className:"px-6 py-2 text-sm font-medium text-gray-900 text-right",children:"Total Orders:"}),l.jsx("td",{className:"px-6 py-2 text-sm font-bold text-gray-900",children:L.length}),l.jsx("td",{colSpan:"2",className:"px-6 py-2"})]})]})]})})]})};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:" Reports"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive import and sales reports"})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-3 sm:space-y-0 sm:space-x-3",children:[l.jsxs("div",{className:"flex items-center space-x-2 bg-white rounded-lg border px-3 py-2",children:[l.jsx(lu,{className:"w-4 h-4 text-gray-500"}),l.jsx("input",{type:"date",value:r.from,onChange:w=>n(P=>({...P,from:w.target.value})),className:"text-sm border-none outline-none"}),l.jsx("span",{className:"text-gray-400",children:"to"}),l.jsx("input",{type:"date",value:r.to,onChange:w=>n(P=>({...P,to:w.target.value})),className:"text-sm border-none outline-none"})]}),l.jsxs("button",{onClick:()=>window.location.reload(),className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:[l.jsx(ca,{className:"w-4 h-4"}),l.jsx("span",{children:"Refresh All"})]})]})]}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border-b",children:l.jsx("div",{className:"flex space-x-8 px-6 overflow-x-auto",children:[{id:"import",label:"Import Reports",icon:Sn},{id:"sales",label:"Sales Reports",icon:ss}].map(w=>l.jsxs("button",{onClick:()=>{t(w.id),window.location.hash=w.id==="sales"?"sales":""},className:`flex items-center space-x-2 py-4 border-b-2 font-medium text-sm transition-colors whitespace-nowrap ${e===w.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[l.jsx(w.icon,{className:"w-4 h-4"}),l.jsx("span",{children:w.label})]},w.id))})}),e==="import"&&l.jsxs("div",{className:"space-y-6 ",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 ",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Export Import Reports"}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 ",children:[l.jsx(p,{type:"import",format:"xlsx",icon:Mh,label:"EXCEL",color:"green"}),l.jsx(p,{type:"import",format:"pdf",icon:Rh,label:"PDF",color:"red"})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Import Reports"}),l.jsxs("div",{className:"text-sm text-gray-500",children:[((y=u==null?void 0:u.data)==null?void 0:y.length)||0," records"]})]}),l.jsx(Aq,{dateRange:r,filters:a})]})]}),e==="sales"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Export Sales Reports"}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 ",children:[l.jsx(p,{type:"sales",format:"xlsx",icon:Mh,label:"EXCEL",color:"green"}),l.jsx(p,{type:"sales",format:"pdf",icon:Rh,label:"PDF",color:"red"})]})]}),h&&l.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(pu,{className:"w-5 h-5 text-red-500 mr-2"}),l.jsx("h4",{className:"font-medium text-red-800",children:"API Error"})]}),l.jsx("p",{className:"text-red-600 text-sm mt-1",children:h.message})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Sales Reports"}),l.jsxs("div",{className:"text-sm text-gray-500",children:[((_=d==null?void 0:d.data)==null?void 0:_.length)||0," orders"]})]}),l.jsx(x,{dateRange:r,filters:a})]})]})]})};function aj(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=aj(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Jt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=aj(e))&&(n&&(n+=" "),n+=t);return n}var Eq=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function gy(e){if(typeof e!="string")return!1;var t=Eq;return t.includes(e)}var Pq=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function ij(e){if(typeof e!="string")return!1;var t=Pq;return t.includes(e)}function sj(e){return typeof e=="string"&&e.startsWith("data-")}function hi(e){var t=Object.entries(e).filter(r=>{var[n]=r;return ij(n)||sj(n)});return Object.fromEntries(t)}function rc(e){if(e==null)return null;if(T.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return hi(t)}return typeof e=="object"&&!Array.isArray(e)?hi(e):null}function Ca(e){var t=Object.entries(e).filter(r=>{var[n]=r;return ij(n)||sj(n)||gy(n)});return Object.fromEntries(t)}function Tq(e){return e==null?null:T.isValidElement(e)?Ca(e.props):typeof e=="object"&&!Array.isArray(e)?Ca(e):null}var Cq=["children","width","height","viewBox","className","style","title","desc"];function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dv.apply(null,arguments)}function Oq(e,t){if(e==null)return{};var r,n,a=kq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function kq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vy=T.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:s,style:o,title:c,desc:u}=e,f=Oq(e,Cq),d=i||{width:n,height:a,x:0,y:0},m=Jt("recharts-surface",s);return T.createElement("svg",Dv({},Ca(f),{className:m,width:n,height:a,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height),ref:t}),T.createElement("title",null,c),T.createElement("desc",null,u),r)}),Lq=["children","className"];function Fv(){return Fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fv.apply(null,arguments)}function Dq(e,t){if(e==null)return{};var r,n,a=Fq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Fq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Zn=T.forwardRef((e,t)=>{var{children:r,className:n}=e,a=Dq(e,Lq),i=Jt("recharts-layer",n);return T.createElement("g",Fv({className:i},Ca(a),{ref:t}),r)}),oj=T.createContext(null),Iq=()=>T.useContext(oj);function Sr(e){return function(){return e}}const lj=Math.cos,om=Math.sin,hs=Math.sqrt,lm=Math.PI,Np=2*lm,Iv=Math.PI,Mv=2*Iv,Tl=1e-6,Mq=Mv-Tl;function cj(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Rq(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return cj;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class Bq{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?cj:Rq(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,c=n-t,u=a-r,f=s-t,d=o-r,m=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(m>Tl)if(!(Math.abs(d*c-u*f)>Tl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-s,g=a-o,p=c*c+u*u,x=h*h+g*g,y=Math.sqrt(p),_=Math.sqrt(m),w=i*Math.tan((Iv-Math.acos((p+m-x)/(2*y*_)))/2),P=w/_,E=w/y;Math.abs(P-1)>Tl&&this._append`L${t+P*f},${r+P*d}`,this._append`A${i},${i},0,0,${+(d*h>f*g)},${this._x1=t+E*c},${this._y1=r+E*u}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),c=n*Math.sin(a),u=t+o,f=r+c,d=1^s,m=s?a-i:i-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Tl||Math.abs(this._y1-f)>Tl)&&this._append`L${u},${f}`,n&&(m<0&&(m=m%Mv+Mv),m>Mq?this._append`A${n},${n},0,1,${d},${t-o},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=f}`:m>Tl&&this._append`A${n},${n},0,${+(m>=Iv)},${d},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function xy(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Bq(t)}function yy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function uj(e){this._context=e}uj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ap(e){return new uj(e)}function fj(e){return e[0]}function dj(e){return e[1]}function hj(e,t){var r=Sr(!0),n=null,a=Ap,i=null,s=xy(o);e=typeof e=="function"?e:e===void 0?fj:Sr(e),t=typeof t=="function"?t:t===void 0?dj:Sr(t);function o(c){var u,f=(c=yy(c)).length,d,m=!1,h;for(n==null&&(i=a(h=s())),u=0;u<=f;++u)!(u<f&&r(d=c[u],u,c))===m&&((m=!m)?i.lineStart():i.lineEnd()),m&&i.point(+e(d,u,c),+t(d,u,c));if(h)return i=null,h+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Sr(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Sr(+c),o):t},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Sr(!!c),o):r},o.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),o):a},o.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),o):n},o}function oh(e,t,r){var n=null,a=Sr(!0),i=null,s=Ap,o=null,c=xy(u);e=typeof e=="function"?e:e===void 0?fj:Sr(+e),t=typeof t=="function"?t:Sr(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?dj:Sr(+r);function u(d){var m,h,g,p=(d=yy(d)).length,x,y=!1,_,w=new Array(p),P=new Array(p);for(i==null&&(o=s(_=c())),m=0;m<=p;++m){if(!(m<p&&a(x=d[m],m,d))===y)if(y=!y)h=m,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=m-1;g>=h;--g)o.point(w[g],P[g]);o.lineEnd(),o.areaEnd()}y&&(w[m]=+e(x,m,d),P[m]=+t(x,m,d),o.point(n?+n(x,m,d):w[m],r?+r(x,m,d):P[m]))}if(_)return o=null,_+""||null}function f(){return hj().defined(a).curve(s).context(i)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:Sr(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:Sr(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Sr(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:Sr(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:Sr(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Sr(+d),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(d){return arguments.length?(a=typeof d=="function"?d:Sr(!!d),u):a},u.curve=function(d){return arguments.length?(s=d,i!=null&&(o=s(i)),u):s},u.context=function(d){return arguments.length?(d==null?i=o=null:o=s(i=d),u):i},u}class mj{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Uq(e){return new mj(e,!0)}function $q(e){return new mj(e,!1)}const by={draw(e,t){const r=hs(t/lm);e.moveTo(r,0),e.arc(0,0,r,0,Np)}},qq={draw(e,t){const r=hs(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},pj=hs(1/3),Wq=pj*2,zq={draw(e,t){const r=hs(t/Wq),n=r*pj;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Hq={draw(e,t){const r=hs(t),n=-r/2;e.rect(n,n,r,r)}},Vq=.8908130915292852,gj=om(lm/10)/om(7*lm/10),Gq=om(Np/10)*gj,Kq=-lj(Np/10)*gj,Yq={draw(e,t){const r=hs(t*Vq),n=Gq*r,a=Kq*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=Np*i/5,o=lj(s),c=om(s);e.lineTo(c*r,-o*r),e.lineTo(o*n-c*a,c*n+o*a)}e.closePath()}},D1=hs(3),Xq={draw(e,t){const r=-hs(t/(D1*3));e.moveTo(0,r*2),e.lineTo(-D1*r,-r),e.lineTo(D1*r,-r),e.closePath()}},Ai=-.5,ji=hs(3)/2,Rv=1/hs(12),Jq=(Rv/2+1)*3,Zq={draw(e,t){const r=hs(t/Jq),n=r/2,a=r*Rv,i=n,s=r*Rv+r,o=-i,c=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,c),e.lineTo(Ai*n-ji*a,ji*n+Ai*a),e.lineTo(Ai*i-ji*s,ji*i+Ai*s),e.lineTo(Ai*o-ji*c,ji*o+Ai*c),e.lineTo(Ai*n+ji*a,Ai*a-ji*n),e.lineTo(Ai*i+ji*s,Ai*s-ji*i),e.lineTo(Ai*o+ji*c,Ai*c-ji*o),e.closePath()}};function Qq(e,t){let r=null,n=xy(a);e=typeof e=="function"?e:Sr(e||by),t=typeof t=="function"?t:Sr(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Sr(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Sr(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function cm(){}function um(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function vj(e){this._context=e}vj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:um(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:um(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eW(e){return new vj(e)}function xj(e){this._context=e}xj.prototype={areaStart:cm,areaEnd:cm,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:um(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tW(e){return new xj(e)}function yj(e){this._context=e}yj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:um(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rW(e){return new yj(e)}function bj(e){this._context=e}bj.prototype={areaStart:cm,areaEnd:cm,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function nW(e){return new bj(e)}function e_(e){return e<0?-1:1}function t_(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(e_(i)+e_(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function r_(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function F1(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function fm(e){this._context=e}fm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:F1(this,this._t0,r_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,F1(this,r_(this,r=t_(this,e,t)),r);break;default:F1(this,this._t0,r=t_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function wj(e){this._context=new _j(e)}(wj.prototype=Object.create(fm.prototype)).point=function(e,t){fm.prototype.point.call(this,t,e)};function _j(e){this._context=e}_j.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function aW(e){return new fm(e)}function iW(e){return new wj(e)}function Sj(e){this._context=e}Sj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=n_(e),a=n_(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function n_(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function sW(e){return new Sj(e)}function jp(e,t){this._context=e,this._t=t}jp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function oW(e){return new jp(e,.5)}function lW(e){return new jp(e,0)}function cW(e){return new jp(e,1)}function wu(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Bv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function uW(e,t){return e[t]}function fW(e){const t=[];return t.key=e,t}function dW(){var e=Sr([]),t=Bv,r=wu,n=uW;function a(i){var s=Array.from(e.apply(this,arguments),fW),o,c=s.length,u=-1,f;for(const d of i)for(o=0,++u;o<c;++o)(s[o][u]=[0,+n(d,s[o].key,u,i)]).data=d;for(o=0,f=yy(t(s));o<c;++o)s[f[o]].index=o;return r(s,f),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Sr(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Sr(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Bv:typeof i=="function"?i:Sr(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??wu,a):r},a}function hW(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}wu(e,t)}}function mW(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}wu(e,t)}}function pW(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,c=0,u=0;o<s;++o){for(var f=e[t[o]],d=f[n][1]||0,m=f[n-1][1]||0,h=(d-m)/2,g=0;g<o;++g){var p=e[t[g]],x=p[n][1]||0,y=p[n-1][1]||0;h+=x-y}c+=d,u+=h*d}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,wu(e,t)}}var Ep={},Nj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Nj);var wy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(wy);var Pp={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Pp);var Tp={},Aj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(Aj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Aj,r=Pp;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],s=a.length;if(s===0)return i;let o=0,c="",u="",f=!1;for(a.charCodeAt(0)===46&&(i.push(""),o++);o<s;){const d=a[o];u?d==="\\"&&o+1<s?(o++,c+=a[o]):d===u?u="":c+=d:f?d==='"'||d==="'"?u=d:d==="]"?(f=!1,i.push(c),c=""):c+=d:d==="["?(f=!0,c&&(i.push(c),c="")):d==="."?c&&(i.push(c),c=""):c+=d,o++}return c&&i.push(c),i}e.toPath=n})(Tp);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nj,r=wy,n=Pp,a=Tp;function i(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const f=o[c];return f===void 0?r.isDeepKey(c)?i(o,a.toPath(c),u):u:f}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const f=o[c];return f===void 0?u:f}default:{if(Array.isArray(c))return s(o,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const f=o[c];return f===void 0?u:f}}}function s(o,c,u){if(c.length===0)return u;let f=o;for(let d=0;d<c.length;d++){if(f==null||t.isUnsafeProperty(c[d]))return u;f=f[c[d]]}return f===void 0?u:f}e.get=i})(Ep);var gW=Ep.get;const nc=ul(gW);var Mn=e=>e===0?0:e>0?1:-1,Di=e=>typeof e=="number"&&e!=+e,io=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,At=e=>(typeof e=="number"||e instanceof Number)&&!Di(e),Os=e=>At(e)||typeof e=="string",vW=0,gd=e=>{var t=++vW;return"".concat(e||"").concat(t)},ma=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!At(t)&&typeof t!="string")return n;var i;if(io(t)){if(r==null)return n;var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Di(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},jj=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function Hr(e,t,r){return At(e)&&At(t)?e+r*(t-e):t}function Ej(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):nc(n,t))===r)}var kr=e=>e===null||typeof e>"u",Bd=e=>kr(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),xW=["type","size","sizeType"];function Uv(){return Uv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uv.apply(null,arguments)}function a_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function i_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a_(Object(r),!0).forEach(function(n){yW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yW(e,t,r){return(t=bW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bW(e){var t=wW(e,"string");return typeof t=="symbol"?t:t+""}function wW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _W(e,t){if(e==null)return{};var r,n,a=SW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function SW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Pj={symbolCircle:by,symbolCross:qq,symbolDiamond:zq,symbolSquare:Hq,symbolStar:Yq,symbolTriangle:Xq,symbolWye:Zq},NW=Math.PI/180,AW=e=>{var t="symbol".concat(Bd(e));return Pj[t]||by},jW=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*NW;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},EW=(e,t)=>{Pj["symbol".concat(Bd(e))]=t},_y=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=_W(e,xW),i=i_(i_({},a),{},{type:t,size:r,sizeType:n}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var m=AW(s),h=Qq().type(m).size(jW(r,n,s)),g=h();if(g!==null)return g},{className:c,cx:u,cy:f}=i,d=Ca(i);return u===+u&&f===+f&&r===+r?T.createElement("path",Uv({},d,{className:Jt("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(f,")"),d:o()})):null};_y.registerSymbol=EW;var Sy=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(T.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{gy(a)&&(n[a]=t||(i=>r[a](r,i)))}),n},PW=(e,t,r)=>n=>(e(t,r,n),null),Ud=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];gy(a)&&typeof i=="function"&&(n||(n={}),n[a]=PW(i,t,r))}),n};function $v(){return $v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$v.apply(null,arguments)}function s_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s_(Object(r),!0).forEach(function(n){Ny(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ny(e,t,r){return(t=CW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CW(e){var t=OW(e,"string");return typeof t=="symbol"?t:t+""}function OW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ei=32;class Ay extends T.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,a=Ei/2,i=Ei/6,s=Ei/3,o=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return T.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:a,x2:Ei,y2:a,className:"recharts-legend-icon"});if(c==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Ei,"M").concat(2*s,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(c==="rect")return T.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Ei/8,"h").concat(Ei,"v").concat(Ei*3/4,"h").concat(-Ei,"z"),className:"recharts-legend-icon"});if(T.isValidElement(t.legendIcon)){var u=TW({},t);return delete u.legendIcon,T.cloneElement(t.legendIcon,u)}return T.createElement(_y,{fill:o,cx:a,cy:a,size:Ei,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:a,inactiveColor:i,iconType:s}=this.props,o={x:0,y:0,width:Ei,height:Ei},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((f,d)=>{var m=f.formatter||a,h=Jt({"recharts-legend-item":!0,["legend-item-".concat(d)]:!0,inactive:f.inactive});if(f.type==="none")return null;var g=f.inactive?i:f.color,p=m?m(f.value,f,d):f.value;return T.createElement("li",$v({className:h,style:c,key:"legend-item-".concat(d)},Ud(this.props,f,d)),T.createElement(vy,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(p," legend icon")},this.renderIcon(f,s)),T.createElement("span",{className:"recharts-legend-item-text",style:{color:g}},p))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}Ny(Ay,"displayName","Legend");Ny(Ay,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var Tj={},Cj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const s=r[i],o=n(s);a.has(o)||a.set(o,s)}return Array.from(a.values())}e.uniqBy=t})(Cj);var jy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(jy);var Oj={},Cp={},kj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(kj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kj;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Cp);var Lj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Lj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cp,r=Lj;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(Oj);var Dj={},Fj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ep;function r(n){return function(a){return t.get(a,n)}}e.property=r})(Fj);var Ij={},Ey={},Mj={},Py={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Py);var Ty={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Ty);var Cy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Cy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Py,r=Ty,n=Cy;function a(f,d,m){return typeof m!="function"?a(f,d,()=>{}):i(f,d,function h(g,p,x,y,_,w){const P=m(g,p,x,y,_,w);return P!==void 0?!!P:i(g,p,h,w)},new Map)}function i(f,d,m,h){if(d===f)return!0;switch(typeof d){case"object":return s(f,d,m,h);case"function":return Object.keys(d).length>0?i(f,{...d},m,h):n.eq(f,d);default:return t.isObject(f)?typeof d=="string"?d==="":!0:n.eq(f,d)}}function s(f,d,m,h){if(d==null)return!0;if(Array.isArray(d))return c(f,d,m,h);if(d instanceof Map)return o(f,d,m,h);if(d instanceof Set)return u(f,d,m,h);const g=Object.keys(d);if(f==null)return g.length===0;if(g.length===0)return!0;if(h!=null&&h.has(d))return h.get(d)===f;h==null||h.set(d,f);try{for(let p=0;p<g.length;p++){const x=g[p];if(!r.isPrimitive(f)&&!(x in f)||d[x]===void 0&&f[x]!==void 0||d[x]===null&&f[x]!==null||!m(f[x],d[x],x,f,d,h))return!1}return!0}finally{h==null||h.delete(d)}}function o(f,d,m,h){if(d.size===0)return!0;if(!(f instanceof Map))return!1;for(const[g,p]of d.entries()){const x=f.get(g);if(m(x,p,g,f,d,h)===!1)return!1}return!0}function c(f,d,m,h){if(d.length===0)return!0;if(!Array.isArray(f))return!1;const g=new Set;for(let p=0;p<d.length;p++){const x=d[p];let y=!1;for(let _=0;_<f.length;_++){if(g.has(_))continue;const w=f[_];let P=!1;if(m(w,x,p,f,d,h)&&(P=!0),P){g.add(_),y=!0;break}}if(!y)return!1}return!0}function u(f,d,m,h){return d.size===0?!0:f instanceof Set?c([...f],[...d],m,h):!1}e.isMatchWith=a,e.isSetMatch=u})(Mj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mj;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Ey);var Rj={},Oy={},Bj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Bj);var ky={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(ky);var Ly={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",s="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",f="[object Array]",d="[object Function]",m="[object ArrayBuffer]",h="[object Object]",g="[object Error]",p="[object DataView]",x="[object Uint8Array]",y="[object Uint8ClampedArray]",_="[object Uint16Array]",w="[object Uint32Array]",P="[object BigUint64Array]",E="[object Int8Array]",D="[object Int16Array]",N="[object Int32Array]",k="[object BigInt64Array]",F="[object Float32Array]",L="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=m,e.arrayTag=f,e.bigInt64ArrayTag=k,e.bigUint64ArrayTag=P,e.booleanTag=a,e.dataViewTag=p,e.dateTag=o,e.errorTag=g,e.float32ArrayTag=F,e.float64ArrayTag=L,e.functionTag=d,e.int16ArrayTag=D,e.int32ArrayTag=N,e.int8ArrayTag=E,e.mapTag=c,e.numberTag=n,e.objectTag=h,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=s,e.uint16ArrayTag=_,e.uint32ArrayTag=w,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=y})(Ly);var Uj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(Uj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bj,r=ky,n=Ly,a=Ty,i=Uj;function s(f,d){return o(f,void 0,f,new Map,d)}function o(f,d,m,h=new Map,g=void 0){const p=g==null?void 0:g(f,d,m,h);if(p!==void 0)return p;if(a.isPrimitive(f))return f;if(h.has(f))return h.get(f);if(Array.isArray(f)){const x=new Array(f.length);h.set(f,x);for(let y=0;y<f.length;y++)x[y]=o(f[y],y,m,h,g);return Object.hasOwn(f,"index")&&(x.index=f.index),Object.hasOwn(f,"input")&&(x.input=f.input),x}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const x=new RegExp(f.source,f.flags);return x.lastIndex=f.lastIndex,x}if(f instanceof Map){const x=new Map;h.set(f,x);for(const[y,_]of f)x.set(y,o(_,y,m,h,g));return x}if(f instanceof Set){const x=new Set;h.set(f,x);for(const y of f)x.add(o(y,void 0,m,h,g));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(i.isTypedArray(f)){const x=new(Object.getPrototypeOf(f)).constructor(f.length);h.set(f,x);for(let y=0;y<f.length;y++)x[y]=o(f[y],y,m,h,g);return x}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const x=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return h.set(f,x),c(x,f,m,h,g),x}if(typeof File<"u"&&f instanceof File){const x=new File([f],f.name,{type:f.type});return h.set(f,x),c(x,f,m,h,g),x}if(typeof Blob<"u"&&f instanceof Blob){const x=new Blob([f],{type:f.type});return h.set(f,x),c(x,f,m,h,g),x}if(f instanceof Error){const x=new f.constructor;return h.set(f,x),x.message=f.message,x.name=f.name,x.stack=f.stack,x.cause=f.cause,c(x,f,m,h,g),x}if(f instanceof Boolean){const x=new Boolean(f.valueOf());return h.set(f,x),c(x,f,m,h,g),x}if(f instanceof Number){const x=new Number(f.valueOf());return h.set(f,x),c(x,f,m,h,g),x}if(f instanceof String){const x=new String(f.valueOf());return h.set(f,x),c(x,f,m,h,g),x}if(typeof f=="object"&&u(f)){const x=Object.create(Object.getPrototypeOf(f));return h.set(f,x),c(x,f,m,h,g),x}return f}function c(f,d,m=f,h,g){const p=[...Object.keys(d),...t.getSymbols(d)];for(let x=0;x<p.length;x++){const y=p[x],_=Object.getOwnPropertyDescriptor(f,y);(_==null||_.writable)&&(f[y]=o(d[y],y,m,h,g))}}function u(f){switch(r.getTag(f)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=c})(Oy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Oy;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(Rj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ey,r=Rj;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(Ij);var $j={},qj={},Wj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Oy,r=Ly;function n(a,i){return t.cloneDeepWith(a,(s,o,c,u)=>{const f=i==null?void 0:i(s,o,c,u);if(f!==void 0)return f;if(typeof a=="object")switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const d=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(d,a),d}case r.argumentsTag:{const d={};return t.copyProperties(d,a),d.length=a.length,d[Symbol.iterator]=a[Symbol.iterator],d}default:return}})}e.cloneDeepWith=n})(Wj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wj;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(qj);var zj={},Dy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Dy);var Hj={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ky;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(Hj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wy,r=Dy,n=Hj,a=Tp;function i(s,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?c=a.toPath(o):c=[o],c.length===0)return!1;let u=s;for(let f=0;f<c.length;f++){const d=c[f];if((u==null||!Object.hasOwn(u,d))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(d)&&d<u.length))return!1;u=u[d]}return!0}e.has=i})(zj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ey,r=Pp,n=qj,a=Ep,i=zj;function s(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(u){const f=a.get(u,o);return f===void 0?i.has(u,o):c===void 0?f===void 0:t.isMatch(f,c)}}e.matchesProperty=s})($j);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jy,r=Fj,n=Ij,a=$j;function i(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?a.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}e.iteratee=i})(Dj);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Cj,r=jy,n=Oj,a=Dj;function i(s,o=r.identity){return n.isArrayLikeObject(s)?t.uniqBy(Array.from(s),a.iteratee(o)):[]}e.uniqBy=i})(Tj);var kW=Tj.uniqBy;const o_=ul(kW);function Vj(e,t,r){return t===!0?o_(e,r):typeof t=="function"?o_(e,t):e}var Gj={exports:{}},Kj={},Yj={exports:{}},Xj={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _u=T;function LW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var DW=typeof Object.is=="function"?Object.is:LW,FW=_u.useState,IW=_u.useEffect,MW=_u.useLayoutEffect,RW=_u.useDebugValue;function BW(e,t){var r=t(),n=FW({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return MW(function(){a.value=r,a.getSnapshot=t,I1(a)&&i({inst:a})},[e,r,t]),IW(function(){return I1(a)&&i({inst:a}),e(function(){I1(a)&&i({inst:a})})},[e]),RW(r),r}function I1(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!DW(e,r)}catch{return!0}}function UW(e,t){return t()}var $W=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?UW:BW;Xj.useSyncExternalStore=_u.useSyncExternalStore!==void 0?_u.useSyncExternalStore:$W;Yj.exports=Xj;var qW=Yj.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op=T,WW=qW;function zW(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var HW=typeof Object.is=="function"?Object.is:zW,VW=WW.useSyncExternalStore,GW=Op.useRef,KW=Op.useEffect,YW=Op.useMemo,XW=Op.useDebugValue;Kj.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=GW(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=YW(function(){function c(h){if(!u){if(u=!0,f=h,h=n(h),a!==void 0&&s.hasValue){var g=s.value;if(a(g,h))return d=g}return d=h}if(g=d,HW(f,h))return g;var p=n(h);return a!==void 0&&a(g,p)?(f=h,g):(f=h,d=p)}var u=!1,f,d,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var o=VW(e,i[0],i[1]);return KW(function(){s.hasValue=!0,s.value=o},[o]),XW(o),o};Gj.exports=Kj;var JW=Gj.exports,Fy=T.createContext(null),ZW=e=>e,Lr=()=>{var e=T.useContext(Fy);return e?e.store.dispatch:ZW},Ch=()=>{},QW=()=>Ch,ez=(e,t)=>e===t;function _t(e){var t=T.useContext(Fy);return JW.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:QW,t?t.store.getState:Ch,t?t.store.getState:Ch,t?e:Ch,ez)}function tz(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function rz(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function nz(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var l_=e=>Array.isArray(e)?e:[e];function az(e){const t=Array.isArray(e[0])?e[0]:e;return nz(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function iz(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var sz=class{constructor(e){this.value=e}deref(){return this.value}},oz=typeof WeakRef<"u"?WeakRef:sz,lz=0,c_=1;function lh(){return{s:lz,v:void 0,o:null,p:null}}function Jj(e,t={}){let r=lh();const{resultEqualityCheck:n}=t;let a,i=0;function s(){var d;let o=r;const{length:c}=arguments;for(let m=0,h=c;m<h;m++){const g=arguments[m];if(typeof g=="function"||typeof g=="object"&&g!==null){let p=o.o;p===null&&(o.o=p=new WeakMap);const x=p.get(g);x===void 0?(o=lh(),p.set(g,o)):o=x}else{let p=o.p;p===null&&(o.p=p=new Map);const x=p.get(g);x===void 0?(o=lh(),p.set(g,o)):o=x}}const u=o;let f;if(o.s===c_)f=o.v;else if(f=e.apply(null,arguments),i++,n){const m=((d=a==null?void 0:a.deref)==null?void 0:d.call(a))??a;m!=null&&n(m,f)&&(f=m,i!==0&&i--),a=typeof f=="object"&&f!==null||typeof f=="function"?new oz(f):f}return u.s=c_,u.v=f,f}return s.clearCache=()=>{r=lh(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function cz(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,s=0,o,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),tz(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const f={...r,...c},{memoize:d,memoizeOptions:m=[],argsMemoize:h=Jj,argsMemoizeOptions:g=[],devModeChecks:p={}}=f,x=l_(m),y=l_(g),_=az(a),w=d(function(){return i++,u.apply(null,arguments)},...x),P=h(function(){s++;const D=iz(_,arguments);return o=w.apply(null,D),o},...y);return Object.assign(P,{resultFunc:u,memoizedResultFunc:w,dependencies:_,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:d,argsMemoize:h})};return Object.assign(n,{withTypes:()=>n}),n}var Fe=cz(Jj),uz=Object.assign((e,t=Fe)=>{rz(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((s,o,c)=>(s[r[c]]=o,s),{}))},{withTypes:()=>uz}),Zj={},Qj={},eE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const s=t(n),o=t(a);if(s===o&&s===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?o-s:s-o}return 0};e.compareValues=r})(eE);var tE={},Iy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Iy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iy,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||s!=null&&Object.hasOwn(s,i)}e.isKey=a})(tE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eE,r=tE,n=Tp;function a(i,s,o,c){if(i==null)return[];o=c?void 0:o,Array.isArray(i)||(i=Object.values(i)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(h=>String(h));const u=(h,g)=>{let p=h;for(let x=0;x<g.length&&p!=null;++x)p=p[g[x]];return p},f=(h,g)=>g==null||h==null?g:typeof h=="object"&&"key"in h?Object.hasOwn(g,h.key)?g[h.key]:u(g,h.path):typeof h=="function"?h(g):Array.isArray(h)?u(g,h):typeof g=="object"?g[h]:g,d=s.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||r.isKey(h)?h:{key:h,path:n.toPath(h)}));return i.map(h=>({original:h,criteria:d.map(g=>f(g,h))})).slice().sort((h,g)=>{for(let p=0;p<d.length;p++){const x=t.compareValues(h.criteria[p],g.criteria[p],o[p]);if(x!==0)return x}return 0}).map(h=>h.original)}e.orderBy=a})(Qj);var rE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),s=(o,c)=>{for(let u=0;u<o.length;u++){const f=o[u];Array.isArray(f)&&c<i?s(f,c+1):a.push(f)}};return s(r,0),a}e.flatten=t})(rE);var My={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dy,r=Cp,n=Py,a=Cy;function i(s,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?a.eq(c[o],s):!1}e.isIterateeCall=i})(My);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qj,r=rE,n=My;function a(i,...s){const o=s.length;return o>1&&n.isIterateeCall(i,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(i,r.flatten(s),["asc"])}e.sortBy=a})(Zj);var fz=Zj.sortBy;const kp=ul(fz);var nE=e=>e.legend.settings,dz=e=>e.legend.size,hz=e=>e.legend.payload,mz=Fe([hz,nE],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?kp(n,r):n});function pz(){return _t(mz)}var ch=1;function aE(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=T.useState({height:0,left:0,top:0,width:0}),n=T.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),s={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(s.height-t.height)>ch||Math.abs(s.left-t.left)>ch||Math.abs(s.top-t.top)>ch||Math.abs(s.width-t.width)>ch)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Hn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var gz=(()=>typeof Symbol=="function"&&Symbol.observable||"@@observable")(),u_=gz,M1=()=>Math.random().toString(36).substring(7).split("").join("."),vz={INIT:`@@redux/INIT${M1()}`,REPLACE:`@@redux/REPLACE${M1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${M1()}`},dm=vz;function Ry(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function iE(e,t,r){if(typeof e!="function")throw new Error(Hn(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Hn(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Hn(1));return r(iE)(e,t)}let n=e,a=t,i=new Map,s=i,o=0,c=!1;function u(){s===i&&(s=new Map,i.forEach((x,y)=>{s.set(y,x)}))}function f(){if(c)throw new Error(Hn(3));return a}function d(x){if(typeof x!="function")throw new Error(Hn(4));if(c)throw new Error(Hn(5));let y=!0;u();const _=o++;return s.set(_,x),function(){if(y){if(c)throw new Error(Hn(6));y=!1,u(),s.delete(_),i=null}}}function m(x){if(!Ry(x))throw new Error(Hn(7));if(typeof x.type>"u")throw new Error(Hn(8));if(typeof x.type!="string")throw new Error(Hn(17));if(c)throw new Error(Hn(9));try{c=!0,a=n(a,x)}finally{c=!1}return(i=s).forEach(_=>{_()}),x}function h(x){if(typeof x!="function")throw new Error(Hn(10));n=x,m({type:dm.REPLACE})}function g(){const x=d;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Hn(11));function _(){const P=y;P.next&&P.next(f())}return _(),{unsubscribe:x(_)}},[u_](){return this}}}return m({type:dm.INIT}),{dispatch:m,subscribe:d,getState:f,replaceReducer:h,[u_]:g}}function xz(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:dm.INIT})>"u")throw new Error(Hn(12));if(typeof r(void 0,{type:dm.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Hn(13))})}function sE(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const s=t[i];typeof e[s]=="function"&&(r[s]=e[s])}const n=Object.keys(r);let a;try{xz(r)}catch(i){a=i}return function(s={},o){if(a)throw a;let c=!1;const u={};for(let f=0;f<n.length;f++){const d=n[f],m=r[d],h=s[d],g=m(h,o);if(typeof g>"u")throw o&&o.type,new Error(Hn(14));u[d]=g,c=c||g!==h}return c=c||n.length!==Object.keys(s).length,c?u:s}}function hm(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function yz(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Hn(15))};const s={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},o=e.map(c=>c(s));return i=hm(...o)(a.dispatch),{...a,dispatch:i}}}function oE(e){return Ry(e)&&"type"in e&&typeof e.type=="string"}var lE=Symbol.for("immer-nothing"),f_=Symbol.for("immer-draftable"),mi=Symbol.for("immer-state");function ns(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var vd=Object.getPrototypeOf;function ac(e){return!!e&&!!e[mi]}function so(e){var t;return e?cE(e)||Array.isArray(e)||!!e[f_]||!!((t=e.constructor)!=null&&t[f_])||$d(e)||Dp(e):!1}var bz=Object.prototype.constructor.toString(),d_=new WeakMap;function cE(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=d_.get(r);return n===void 0&&(n=Function.toString.call(r),d_.set(r,n)),n===bz}function mm(e,t,r=!0){Lp(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function Lp(e){const t=e[mi];return t?t.type_:Array.isArray(e)?1:$d(e)?2:Dp(e)?3:0}function qv(e,t){return Lp(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function uE(e,t,r){const n=Lp(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function wz(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function $d(e){return e instanceof Map}function Dp(e){return e instanceof Set}function Cl(e){return e.copy_||e.base_}function Wv(e,t){if($d(e))return new Map(e);if(Dp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=cE(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[mi];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const s=a[i],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(vd(e),n)}else{const n=vd(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function By(e,t=!1){return Fp(e)||ac(e)||!so(e)||(Lp(e)>1&&Object.defineProperties(e,{set:uh,add:uh,clear:uh,delete:uh}),Object.freeze(e),t&&Object.values(e).forEach(r=>By(r,!0))),e}function _z(){ns(2)}var uh={value:_z};function Fp(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var Sz={};function ic(e){const t=Sz[e];return t||ns(0,e),t}var xd;function fE(){return xd}function Nz(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function h_(e,t){t&&(ic("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function zv(e){Hv(e),e.drafts_.forEach(Az),e.drafts_=null}function Hv(e){e===xd&&(xd=e.parent_)}function m_(e){return xd=Nz(xd,e)}function Az(e){const t=e[mi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function p_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[mi].modified_&&(zv(t),ns(4)),so(e)&&(e=pm(t,e),t.parent_||gm(t,e)),t.patches_&&ic("Patches").generateReplacementPatches_(r[mi].base_,e,t.patches_,t.inversePatches_)):e=pm(t,r,[]),zv(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==lE?e:void 0}function pm(e,t,r){if(Fp(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[mi];if(!a)return mm(t,(i,s)=>g_(e,a,t,i,s,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return gm(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let s=i,o=!1;a.type_===3&&(s=new Set(i),i.clear(),o=!0),mm(s,(c,u)=>g_(e,a,i,c,u,r,o),n),gm(e,i,!1),r&&e.patches_&&ic("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function g_(e,t,r,n,a,i,s){if(a==null||typeof a!="object"&&!s)return;const o=Fp(a);if(!(o&&!s)){if(ac(a)){const c=i&&t&&t.type_!==3&&!qv(t.assigned_,n)?i.concat(n):void 0,u=pm(e,a,c);if(uE(r,n,u),ac(u))e.canAutoFreeze_=!1;else return}else s&&r.add(a);if(so(a)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&o)return;pm(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&($d(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&gm(e,a)}}}function gm(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&By(t,r)}function jz(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:fE(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Uy;r&&(a=[n],i=yd);const{revoke:s,proxy:o}=Proxy.revocable(a,i);return n.draft_=o,n.revoke_=s,o}var Uy={get(e,t){if(t===mi)return e;const r=Cl(e);if(!qv(r,t))return Ez(e,r,t);const n=r[t];return e.finalized_||!so(n)?n:n===R1(e.base_,t)?(B1(e),e.copy_[t]=Gv(n,e)):n},has(e,t){return t in Cl(e)},ownKeys(e){return Reflect.ownKeys(Cl(e))},set(e,t,r){const n=dE(Cl(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=R1(Cl(e),t),i=a==null?void 0:a[mi];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(wz(r,a)&&(r!==void 0||qv(e.base_,t)))return!0;B1(e),Vv(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return R1(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,B1(e),Vv(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Cl(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){ns(11)},getPrototypeOf(e){return vd(e.base_)},setPrototypeOf(){ns(12)}},yd={};mm(Uy,(e,t)=>{yd[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});yd.deleteProperty=function(e,t){return yd.set.call(this,e,t,void 0)};yd.set=function(e,t,r){return Uy.set.call(this,e[0],t,r,e[0])};function R1(e,t){const r=e[mi];return(r?Cl(r):e)[t]}function Ez(e,t,r){var a;const n=dE(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function dE(e,t){if(!(t in e))return;let r=vd(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=vd(r)}}function Vv(e){e.modified_||(e.modified_=!0,e.parent_&&Vv(e.parent_))}function B1(e){e.copy_||(e.copy_=Wv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Pz=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const s=this;return function(c=i,...u){return s.produce(c,f=>r.call(this,f,...u))}}typeof r!="function"&&ns(6),n!==void 0&&typeof n!="function"&&ns(7);let a;if(so(t)){const i=m_(this),s=Gv(t,void 0);let o=!0;try{a=r(s),o=!1}finally{o?zv(i):Hv(i)}return h_(i,n),p_(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===lE&&(a=void 0),this.autoFreeze_&&By(a,!0),n){const i=[],s=[];ic("Patches").generateReplacementPatches_(t,a,i,s),n(i,s)}return a}else ns(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,c=>t(c,...o));let n,a;return[this.produce(t,r,(s,o)=>{n=s,a=o}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){so(e)||ns(8),ac(e)&&(e=to(e));const t=m_(this),r=Gv(e,void 0);return r[mi].isManual_=!0,Hv(t),r}finishDraft(e,t){const r=e&&e[mi];(!r||!r.isManual_)&&ns(9);const{scope_:n}=r;return h_(n,t),p_(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=ic("Patches").applyPatches_;return ac(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Gv(e,t){const r=$d(e)?ic("MapSet").proxyMap_(e,t):Dp(e)?ic("MapSet").proxySet_(e,t):jz(e,t);return(t?t.scope_:fE()).drafts_.push(r),r}function to(e){return ac(e)||ns(10,e),hE(e)}function hE(e){if(!so(e)||Fp(e))return e;const t=e[mi];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Wv(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Wv(e,!0);return mm(r,(a,i)=>{uE(r,a,hE(i))},n),t&&(t.finalized_=!1),r}var Tz=new Pz,mE=Tz.produce;function pE(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var Cz=pE(),Oz=pE,kz=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?hm:hm.apply(null,arguments)};function Fi(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(fi(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>oE(n)&&n.type===e,r}var gE=class qf extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,qf.prototype)}static get[Symbol.species](){return qf}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new qf(...t[0].concat(this)):new qf(...t.concat(this))}};function v_(e){return so(e)?mE(e,()=>{}):e}function fh(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Lz(e){return typeof e=="boolean"}var Dz=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let s=new gE;return r&&(Lz(r)?s.push(Cz):s.push(Oz(r.extraArgument))),s},vE="RTK_autoBatch",Aa=()=>e=>({payload:e,meta:{[vE]:!0}}),x_=e=>t=>{setTimeout(t,e)},xE=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,s=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:x_(10):e.type==="callback"?e.queueNotification:x_(e.timeout),u=()=>{s=!1,i&&(i=!1,o.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const d=()=>a&&f(),m=n.subscribe(d);return o.add(f),()=>{m(),o.delete(f)}},dispatch(f){var d;try{return a=!((d=f==null?void 0:f.meta)!=null&&d[vE]),i=!a,i&&(s||(s=!0,c(u))),n.dispatch(f)}finally{a=!0}}})},Fz=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new gE(e);return n&&a.push(xE(typeof n=="object"?n:void 0)),a};function Iz(e){const t=Dz(),{reducer:r=void 0,middleware:n,devTools:a=!0,duplicateMiddlewareCheck:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(Ry(r))c=sE(r);else throw new Error(fi(1));let u;typeof n=="function"?u=n(t):u=t();let f=hm;a&&(f=kz({trace:!1,...typeof a=="object"&&a}));const d=yz(...u),m=Fz(d);let h=typeof o=="function"?o(m):m();const g=f(...h);return iE(c,s,g)}function yE(e){const t={},r=[];let n;const a={addCase(i,s){const o=typeof i=="string"?i:i.type;if(!o)throw new Error(fi(28));if(o in t)throw new Error(fi(29));return t[o]=s,a},addAsyncThunk(i,s){return s.pending&&(t[i.pending.type]=s.pending),s.rejected&&(t[i.rejected.type]=s.rejected),s.fulfilled&&(t[i.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:i.settled,reducer:s.settled}),a},addMatcher(i,s){return r.push({matcher:i,reducer:s}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function Mz(e){return typeof e=="function"}function Rz(e,t){let[r,n,a]=yE(t),i;if(Mz(e))i=()=>v_(e());else{const o=v_(e);i=()=>o}function s(o=i(),c){let u=[r[c.type],...n.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return u.filter(f=>!!f).length===0&&(u=[a]),u.reduce((f,d)=>{if(d)if(ac(f)){const h=d(f,c);return h===void 0?f:h}else{if(so(f))return mE(f,m=>d(m,c));{const m=d(f,c);if(m===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return m}}return f},o)}return s.getInitialState=i,s}var Bz="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Uz=(e=21)=>{let t="",r=e;for(;r--;)t+=Bz[Math.random()*64|0];return t},$z=Symbol.for("rtk-slice-createasyncthunk");function qz(e,t){return`${e}/${t}`}function Wz({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[$z];return function(a){const{name:i,reducerPath:s=i}=a;if(!i)throw new Error(fi(11));typeof process<"u";const o=(typeof a.reducers=="function"?a.reducers(Hz()):a.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(P,E){const D=typeof P=="string"?P:P.type;if(!D)throw new Error(fi(12));if(D in u.sliceCaseReducersByType)throw new Error(fi(13));return u.sliceCaseReducersByType[D]=E,f},addMatcher(P,E){return u.sliceMatchers.push({matcher:P,reducer:E}),f},exposeAction(P,E){return u.actionCreators[P]=E,f},exposeCaseReducer(P,E){return u.sliceCaseReducersByName[P]=E,f}};c.forEach(P=>{const E=o[P],D={reducerName:P,type:qz(i,P),createNotation:typeof a.reducers=="function"};Gz(E)?Yz(D,E,f,t):Vz(D,E,f)});function d(){const[P={},E=[],D=void 0]=typeof a.extraReducers=="function"?yE(a.extraReducers):[a.extraReducers],N={...P,...u.sliceCaseReducersByType};return Rz(a.initialState,k=>{for(let F in N)k.addCase(F,N[F]);for(let F of u.sliceMatchers)k.addMatcher(F.matcher,F.reducer);for(let F of E)k.addMatcher(F.matcher,F.reducer);D&&k.addDefaultCase(D)})}const m=P=>P,h=new Map,g=new WeakMap;let p;function x(P,E){return p||(p=d()),p(P,E)}function y(){return p||(p=d()),p.getInitialState()}function _(P,E=!1){function D(k){let F=k[P];return typeof F>"u"&&E&&(F=fh(g,D,y)),F}function N(k=m){const F=fh(h,E,()=>new WeakMap);return fh(F,k,()=>{const L={};for(const[A,S]of Object.entries(a.selectors??{}))L[A]=zz(S,k,()=>fh(g,k,y),E);return L})}return{reducerPath:P,getSelectors:N,get selectors(){return N(D)},selectSlice:D}}const w={name:i,reducer:x,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,..._(s),injectInto(P,{reducerPath:E,...D}={}){const N=E??s;return P.inject({reducerPath:N,reducer:x},D),{...w,..._(N,!0)}}};return w}}function zz(e,t,r,n){function a(i,...s){let o=t(i);return typeof o>"u"&&n&&(o=r()),e(o,...s)}return a.unwrapped=e,a}var pi=Wz();function Hz(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Vz({type:e,reducerName:t,createNotation:r},n,a){let i,s;if("reducer"in n){if(r&&!Kz(n))throw new Error(fi(17));i=n.reducer,s=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,s?Fi(e,s):Fi(e))}function Gz(e){return e._reducerDefinitionType==="asyncThunk"}function Kz(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Yz({type:e,reducerName:t},r,n,a){if(!a)throw new Error(fi(18));const{payloadCreator:i,fulfilled:s,pending:o,rejected:c,settled:u,options:f}=r,d=a(e,i,f);n.exposeAction(t,d),s&&n.addCase(d.fulfilled,s),o&&n.addCase(d.pending,o),c&&n.addCase(d.rejected,c),u&&n.addMatcher(d.settled,u),n.exposeCaseReducer(t,{fulfilled:s||dh,pending:o||dh,rejected:c||dh,settled:u||dh})}function dh(){}var Xz="task",bE="listener",wE="completed",$y="cancelled",Jz=`task-${$y}`,Zz=`task-${wE}`,Kv=`${bE}-${$y}`,Qz=`${bE}-${wE}`,Ip=class{constructor(e){i1(this,"name","TaskAbortError");i1(this,"message");this.code=e,this.message=`${Xz} ${$y} (reason: ${e})`}},qy=(e,t)=>{if(typeof e!="function")throw new TypeError(fi(32))},vm=()=>{},_E=(e,t=vm)=>(e.catch(t),e),SE=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Vl=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Gl=e=>{if(e.aborted){const{reason:t}=e;throw new Ip(t)}};function NE(e,t){let r=vm;return new Promise((n,a)=>{const i=()=>a(new Ip(e.reason));if(e.aborted){i();return}r=SE(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=vm})}var eH=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Ip?"cancelled":"rejected",error:r}}finally{t==null||t()}},xm=e=>t=>_E(NE(e,t).then(r=>(Gl(e),r))),AE=e=>{const t=xm(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:hu}=Object,y_={},Mp="listenerMiddleware",tH=(e,t)=>{const r=n=>SE(e,()=>Vl(n,e.reason));return(n,a)=>{qy(n);const i=new AbortController;r(i);const s=eH(async()=>{Gl(e),Gl(i.signal);const o=await n({pause:xm(i.signal),delay:AE(i.signal),signal:i.signal});return Gl(i.signal),o},()=>Vl(i,Zz));return a!=null&&a.autoJoin&&t.push(s.catch(vm)),{result:xm(e)(s),cancel(){Vl(i,Jz)}}}},rH=(e,t)=>{const r=async(n,a)=>{Gl(t);let i=()=>{};const o=[new Promise((c,u)=>{let f=e({predicate:n,effect:(d,m)=>{m.unsubscribe(),c([d,m.getState(),m.getOriginalState()])}});i=()=>{f(),u()}})];a!=null&&o.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await NE(t,Promise.race(o));return Gl(t),c}finally{i()}};return(n,a)=>_E(r(n,a))},jE=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Fi(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(fi(21));return qy(i),{predicate:a,type:t,effect:i}},EE=hu(e=>{const{type:t,predicate:r,effect:n}=jE(e);return{id:Uz(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(fi(22))}}},{withTypes:()=>EE}),b_=(e,t)=>{const{type:r,effect:n,predicate:a}=jE(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Yv=e=>{e.pending.forEach(t=>{Vl(t,Kv)})},nH=(e,t)=>()=>{for(const r of t.keys())Yv(r);e.clear()},w_=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},PE=hu(Fi(`${Mp}/add`),{withTypes:()=>PE}),aH=Fi(`${Mp}/removeAll`),TE=hu(Fi(`${Mp}/remove`),{withTypes:()=>TE}),iH=(...e)=>{console.error(`${Mp}/error`,...e)},qd=(e={})=>{const t=new Map,r=new Map,n=h=>{const g=r.get(h)??0;r.set(h,g+1)},a=h=>{const g=r.get(h)??1;g===1?r.delete(h):r.set(h,g-1)},{extra:i,onError:s=iH}=e;qy(s);const o=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),g=>{h.unsubscribe(),g!=null&&g.cancelActive&&Yv(h)}),c=h=>{const g=b_(t,h)??EE(h);return o(g)};hu(c,{withTypes:()=>c});const u=h=>{const g=b_(t,h);return g&&(g.unsubscribe(),h.cancelActive&&Yv(g)),!!g};hu(u,{withTypes:()=>u});const f=async(h,g,p,x)=>{const y=new AbortController,_=rH(c,y.signal),w=[];try{h.pending.add(y),n(h),await Promise.resolve(h.effect(g,hu({},p,{getOriginalState:x,condition:(P,E)=>_(P,E).then(Boolean),take:_,delay:AE(y.signal),pause:xm(y.signal),extra:i,signal:y.signal,fork:tH(y.signal,w),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((P,E,D)=>{P!==y&&(Vl(P,Kv),D.delete(P))})},cancel:()=>{Vl(y,Kv),h.pending.delete(y)},throwIfCancelled:()=>{Gl(y.signal)}})))}catch(P){P instanceof Ip||w_(s,P,{raisedBy:"effect"})}finally{await Promise.all(w),Vl(y,Qz),a(h),h.pending.delete(y)}},d=nH(t,r);return{middleware:h=>g=>p=>{if(!oE(p))return g(p);if(PE.match(p))return c(p.payload);if(aH.match(p)){d();return}if(TE.match(p))return u(p.payload);let x=h.getState();const y=()=>{if(x===y_)throw new Error(fi(23));return x};let _;try{if(_=g(p),t.size>0){const w=h.getState(),P=Array.from(t.values());for(const E of P){let D=!1;try{D=E.predicate(p,w,x)}catch(N){D=!1,w_(s,N,{raisedBy:"predicate"})}D&&f(E,p,h,y)}}}finally{x=y_}return _},startListening:c,stopListening:u,clearListeners:d}};function fi(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var sH={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},CE=pi({name:"chartLayout",initialState:sH,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:oH,setLayout:lH,setChartSize:cH,setScale:uH}=CE.actions,fH=CE.reducer;function __(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function S_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?__(Object(r),!0).forEach(function(n){dH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):__(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dH(e,t,r){return(t=hH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hH(e){var t=mH(e,"string");return typeof t=="symbol"?t:t+""}function mH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ym=Math.PI/180,pH=e=>e*180/Math.PI,fn=(e,t,r,n)=>({x:e+Math.cos(-ym*n)*r,y:t+Math.sin(-ym*n)*r}),OE=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},gH=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},vH=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,s=gH({x:r,y:n},{x:a,y:i});if(s<=0)return{radius:s,angle:0};var o=(r-a)/s,c=Math.acos(o);return n>i&&(c=2*Math.PI-c),{radius:s,angle:pH(c),angleInRadian:c}},xH=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},yH=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return e+s*360},bH=(e,t)=>{var{x:r,y:n}=e,{radius:a,angle:i}=vH({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(a<s||a>o||a===0)return null;var{startAngle:c,endAngle:u}=xH(t),f=i,d;if(c<=u){for(;f>u;)f-=360;for(;f<c;)f+=360;d=f>=c&&f<=u}else{for(;f>c;)f-=360;for(;f<u;)f+=360;d=f>=u&&f<=c}return d?S_(S_({},t),{},{radius:a,angle:yH(f,t)}):null};function kE(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function N_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(r),!0).forEach(function(n){wH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wH(e,t,r){return(t=_H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _H(e){var t=SH(e,"string");return typeof t=="symbol"?t:t+""}function SH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nr(e,t,r){return kr(e)||kr(t)?r:Os(t)?nc(e,t,r):typeof t=="function"?t(e):r}var NH=(e,t,r,n,a)=>{var i,s=-1,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var c=0;c<o;c++){var u=c>0?r[c-1].coordinate:r[o-1].coordinate,f=r[c].coordinate,d=c>=o-1?r[0].coordinate:r[c+1].coordinate,m=void 0;if(Mn(f-u)!==Mn(d-f)){var h=[];if(Mn(d-f)===Mn(a[1]-a[0])){m=d;var g=f+a[1]-a[0];h[0]=Math.min(g,(g+u)/2),h[1]=Math.max(g,(g+u)/2)}else{m=u;var p=d+a[1]-a[0];h[0]=Math.min(f,(p+f)/2),h[1]=Math.max(f,(p+f)/2)}var x=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>x[0]&&e<=x[1]||e>=h[0]&&e<=h[1]){({index:s}=r[c]);break}}else{var y=Math.min(u,d),_=Math.max(u,d);if(e>(y+f)/2&&e<=(_+f)/2){({index:s}=r[c]);break}}}else if(t){for(var w=0;w<o;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<o-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===o-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:s}=t[w]);break}}return s},AH=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&i!=="center"&&At(e[i]))return Oi(Oi({},e),{},{[i]:e[i]+(n||0)});if((o==="horizontal"||o==="vertical"&&i==="center")&&s!=="middle"&&At(e[s]))return Oi(Oi({},e),{},{[s]:e[s]+(a||0)})}return e},dl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",LE=(e,t,r,n)=>{if(n)return e.map(o=>o.coordinate);var a,i,s=e.map(o=>(o.coordinate===t&&(a=!0),o.coordinate===r&&(i=!0),o.coordinate));return a||s.push(t),i||s.push(r),s},DE=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:s,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:f,ticks:d,niceTicks:m,axisType:h}=e;if(!s)return null;var g=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,p=(t||r)&&a==="category"&&s.bandwidth?s.bandwidth()/g:0;if(p=h==="angleAxis"&&i&&i.length>=2?Mn(i[0]-i[1])*2*p:p,t&&(d||m)){var x=(d||m||[]).map((y,_)=>{var w=n?n.indexOf(y):y;return{coordinate:s(w)+p,value:y,offset:p,index:_}});return x.filter(y=>!Di(y.coordinate))}return c&&u?u.map((y,_)=>({coordinate:s(y)+p,value:y,index:_,offset:p})):s.ticks&&!r&&f!=null?s.ticks(f).map((y,_)=>({coordinate:s(y)+p,value:y,offset:p,index:_})):s.domain().map((y,_)=>({coordinate:s(y)+p,value:n?n[y]:y,index:_,offset:p}))},A_=1e-4,jH=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-A_,i=Math.max(n[0],n[1])+A_,s=e(t[0]),o=e(t[r-1]);(s<a||s>i||o<a||o>i)&&e.domain([t[0],t[r-1]])}},EH=(e,t)=>{if(!t||t.length!==2||!At(t[0])||!At(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!At(e[0])||e[0]<r)&&(a[0]=r),(!At(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},PH=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0,s=0;s<t;++s){var o=Di(e[s][r][1])?e[s][r][0]:e[s][r][1];o>=0?(e[s][r][0]=a,e[s][r][1]=a+o,a=e[s][r][1]):(e[s][r][0]=i,e[s][r][1]=i+o,i=e[s][r][1])}},TH=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var a=0,i=0;i<t;++i){var s=Di(e[i][r][1])?e[i][r][0]:e[i][r][1];s>=0?(e[i][r][0]=a,e[i][r][1]=a+s,a=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},CH={sign:PH,expand:hW,none:wu,silhouette:mW,wiggle:pW,positive:TH},OH=(e,t,r)=>{var n=CH[r],a=dW().keys(t).value((i,s)=>+Nr(i,s,0)).order(Bv).offset(n);return a(e)};function kH(e){return e==null?void 0:String(e)}function j_(e){var{axis:t,ticks:r,bandSize:n,entry:a,index:i,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!kr(a[t.dataKey])){var o=Ej(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Nr(a,kr(s)?t.dataKey:s);return kr(c)?null:t.scale(c)}var E_=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:s}=e;if(t.type==="category")return r[s]?r[s].coordinate+n:null;var o=Nr(i,t.dataKey,t.scale.domain()[s]);return kr(o)?null:t.scale(o)-a/2+n},LH=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},DH=e=>{var t=e.flat(2).filter(At);return[Math.min(...t),Math.max(...t)]},FH=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],IH=(e,t,r)=>{if(e!=null)return FH(Object.keys(e).reduce((n,a)=>{var i=e[a],{stackedData:s}=i,o=s.reduce((c,u)=>{var f=kE(u,t,r),d=DH(f);return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},P_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,T_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bd=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=kp(t,f=>f.coordinate),i=1/0,s=1,o=a.length;s<o;s++){var c=a[s],u=a[s-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function C_(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Oi(Oi({},t),{},{dataKey:r,payload:n,value:a,name:i})}function Fu(e,t){if(e)return String(e);if(typeof t=="string")return t}function MH(e,t,r,n,a){if(r==="horizontal"||r==="vertical"){var i=e>=a.left&&e<=a.left+a.width&&t>=a.top&&t<=a.top+a.height;return i?{x:e,y:t}:null}return n?bH({x:e,y:t},n):null}var RH=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:a.coordinate};if(e==="centric"){var i=a.coordinate,{radius:s}=n;return Oi(Oi(Oi({},n),fn(n.cx,n.cy,s,i)),{},{angle:i,radius:s})}var o=a.coordinate,{angle:c}=n;return Oi(Oi(Oi({},n),fn(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{x:0,y:0}},BH=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,fo=e=>e.layout.width,ho=e=>e.layout.height,UH=e=>e.layout.scale,FE=e=>e.layout.margin,Rp=Fe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Bp=Fe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),IE="data-recharts-item-index",ME="data-recharts-item-data-key",Wd=60;function O_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(r),!0).forEach(function(n){$H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $H(e,t,r){return(t=qH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=WH(e,"string");return typeof t=="symbol"?t:t+""}function WH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zH=e=>e.brush.height;function HH(e){var t=Bp(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Wd;return r+a}return r},0)}function VH(e){var t=Bp(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:Wd;return r+a}return r},0)}function GH(e){var t=Rp(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function KH(e){var t=Rp(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Nn=Fe([fo,ho,FE,zH,HH,VH,GH,KH,nE,dz],(e,t,r,n,a,i,s,o,c,u)=>{var f={left:(r.left||0)+a,right:(r.right||0)+i},d={top:(r.top||0)+s,bottom:(r.bottom||0)+o},m=hh(hh({},d),f),h=m.bottom;m.bottom+=n,m=AH(m,c,u);var g=e-m.left-m.right,p=t-m.top-m.bottom;return hh(hh({brushBottom:h},m),{},{width:Math.max(g,0),height:Math.max(p,0)})}),YH=Fe(Nn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Wy=Fe(fo,ho,(e,t)=>({x:0,y:0,width:e,height:t})),XH=T.createContext(null),Oa=()=>T.useContext(XH)!=null,Up=e=>e.brush,$p=Fe([Up,Nn,FE],(e,t,r)=>({height:e.height,x:At(e.x)?e.x:t.left,y:At(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:At(e.width)?e.width:t.width})),RE={},BE={},UE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let s,o=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),f=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},d=()=>{u&&f(),p()};let m=null;const h=()=>{m!=null&&clearTimeout(m),m=setTimeout(()=>{m=null,d()},n)},g=()=>{m!==null&&(clearTimeout(m),m=null)},p=()=>{g(),s=void 0,o=null},x=()=>{f()},y=function(..._){if(a!=null&&a.aborted)return;s=this,o=_;const w=m==null;h(),c&&w&&f()};return y.schedule=h,y.cancel=p,y.flush=x,a==null||a.addEventListener("abort",p,{once:!0}),y}e.debounce=t})(UE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UE;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:s=!1,trailing:o=!0,maxWait:c}=i,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let f,d=null;const m=t.debounce(function(...p){f=n.apply(this,p),d=null},a,{edges:u}),h=function(...p){return c!=null&&(d===null&&(d=Date.now()),Date.now()-d>=c)?(f=n.apply(this,p),d=Date.now(),m.cancel(),m.schedule(),f):(m.apply(this,p),f)},g=()=>(m.flush(),f);return h.cancel=m.cancel,h.flush=g,h}e.debounce=r})(BE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BE;function r(n,a=0,i={}){const{leading:s=!0,trailing:o=!0}=i;return t.debounce(n,a,{leading:s,maxWait:a,trailing:o})}e.throttle=r})(RE);var JH=RE.throttle;const ZH=ul(JH);var bm=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},$E=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:s}=r,o=io(n)?e:Number(n),c=io(a)?t:Number(a);return i&&i>0&&(o?c=o/i:c&&(o=c*i),s&&c>s&&(c=s)),{calculatedWidth:o,calculatedHeight:c}},QH={width:0,height:0,overflow:"visible"},eV={width:0,overflowX:"visible"},tV={height:0,overflowY:"visible"},rV={},nV=e=>{var{width:t,height:r}=e,n=io(t),a=io(r);return n&&a?QH:n?eV:a?tV:rV};function aV(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function pa(e){return Number.isFinite(e)}function Su(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xv.apply(null,arguments)}function k_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function L_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(r),!0).forEach(function(n){iV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iV(e,t,r){return(t=sV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sV(e){var t=oV(e,"string");return typeof t=="symbol"?t:t+""}function oV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qE=T.createContext({width:-1,height:-1});function WE(e){var{children:t,width:r,height:n}=e,a=T.useMemo(()=>({width:r,height:n}),[r,n]);return r<=0||n<=0?null:T.createElement(qE.Provider,{value:a},t)}var zy=()=>T.useContext(qE),lV=T.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:s=0,minHeight:o,maxHeight:c,children:u,debounce:f=0,id:d,className:m,onResize:h,style:g={}}=e,p=T.useRef(null),x=T.useRef();x.current=h,T.useImperativeHandle(t,()=>p.current);var[y,_]=T.useState({containerWidth:n.width,containerHeight:n.height}),w=T.useCallback((k,F)=>{_(L=>{var A=Math.round(k),S=Math.round(F);return L.containerWidth===A&&L.containerHeight===S?L:{containerWidth:A,containerHeight:S}})},[]);T.useEffect(()=>{var k=S=>{var M,{width:U,height:G}=S[0].contentRect;w(U,G),(M=x.current)===null||M===void 0||M.call(x,U,G)};f>0&&(k=ZH(k,f,{trailing:!0,leading:!1}));var F=new ResizeObserver(k),{width:L,height:A}=p.current.getBoundingClientRect();return w(L,A),F.observe(p.current),()=>{F.disconnect()}},[w,f]);var{containerWidth:P,containerHeight:E}=y;bm(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:D,calculatedHeight:N}=$E(P,E,{width:a,height:i,aspect:r,maxHeight:c});return bm(D>0||N>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,N,a,i,s,o,r),T.createElement("div",{id:d?"".concat(d):void 0,className:Jt("recharts-responsive-container",m),style:L_(L_({},g),{},{width:a,height:i,minWidth:s,minHeight:o,maxHeight:c}),ref:p},T.createElement("div",{style:nV({width:a,height:i})},T.createElement(WE,{width:D,height:N},u)))}),Yc=T.forwardRef((e,t)=>{var r=zy();if(Su(r.width)&&Su(r.height))return e.children;var{width:n,height:a}=aV({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:s}=$E(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return At(i)&&At(s)?T.createElement(WE,{width:i,height:s},e.children):T.createElement(lV,Xv({},e,{width:n,height:a,ref:t}))}),qp=()=>{var e,t=Oa(),r=_t(YH),n=_t($p),a=(e=_t(Up))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},cV={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},zE=()=>{var e;return(e=_t(Nn))!==null&&e!==void 0?e:cV},Hy=()=>_t(fo),Vy=()=>_t(ho),uV=()=>_t(e=>e.layout.margin),Vt=e=>e.layout.layoutType,Wp=()=>_t(Vt),zp=e=>{var t=Lr(),r=Oa(),{width:n,height:a}=e,i=zy(),s=n,o=a;return i&&(s=i.width>0?i.width:n,o=i.height>0?i.height:a),T.useEffect(()=>{!r&&Su(s)&&Su(o)&&t(cH({width:s,height:o}))},[t,r,s,o]),null},fV={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},HE=pi({name:"legend",initialState:fV,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Aa()},removeLegendPayload:{reducer(e,t){var r=to(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Aa()}}}),{setLegendSize:D_,setLegendSettings:dV,addLegendPayload:VE,removeLegendPayload:GE}=HE.actions,hV=HE.reducer,mV=["contextPayload"];function Jv(){return Jv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jv.apply(null,arguments)}function F_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Nu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F_(Object(r),!0).forEach(function(n){Gy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gy(e,t,r){return(t=pV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pV(e){var t=gV(e,"string");return typeof t=="symbol"?t:t+""}function gV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vV(e,t){if(e==null)return{};var r,n,a=xV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function xV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yV(e){return e.value}function bV(e){var{contextPayload:t}=e,r=vV(e,mV),n=Vj(t,e.payloadUniqBy,yV),a=Nu(Nu({},r),{},{payload:n});return T.isValidElement(e.content)?T.cloneElement(e.content,a):typeof e.content=="function"?T.createElement(e.content,a):T.createElement(Ay,a)}function wV(e,t,r,n,a,i){var{layout:s,align:o,verticalAlign:c}=t,u,f;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((n||0)-i.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?f={top:((a||0)-i.height)/2}:f=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Nu(Nu({},u),f)}function _V(e){var t=Lr();return T.useEffect(()=>{t(dV(e))},[t,e]),null}function SV(e){var t=Lr();return T.useEffect(()=>(t(D_(e)),()=>{t(D_({width:0,height:0}))}),[t,e]),null}function NV(e){var t=pz(),r=Iq(),n=uV(),{width:a,height:i,wrapperStyle:s,portal:o}=e,[c,u]=aE([t]),f=Hy(),d=Vy();if(f==null||d==null)return null;var m=f-(n.left||0)-(n.right||0),h=Ml.getWidthOrHeight(e.layout,i,a,m),g=o?s:Nu(Nu({position:"absolute",width:(h==null?void 0:h.width)||a||"auto",height:(h==null?void 0:h.height)||i||"auto"},wV(s,e,n,f,d,c)),s),p=o??r;if(p==null)return null;var x=T.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:u},T.createElement(_V,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),T.createElement(SV,{width:c.width,height:c.height}),T.createElement(bV,Jv({},e,h,{margin:n,chartWidth:f,chartHeight:d,contextPayload:t})));return Tx.createPortal(x,p)}class Ml extends T.PureComponent{static getWidthOrHeight(t,r,n,a){return t==="vertical"&&At(r)?{height:r}:t==="horizontal"?{width:n||a}:null}render(){return T.createElement(NV,this.props)}}Gy(Ml,"displayName","Legend");Gy(Ml,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function Zv(){return Zv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zv.apply(null,arguments)}function I_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(r),!0).forEach(function(n){AV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AV(e,t,r){return(t=jV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jV(e){var t=EV(e,"string");return typeof t=="symbol"?t:t+""}function EV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PV(e){return Array.isArray(e)&&Os(e[0])&&Os(e[1])?e.join(" ~ "):e}var TV=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:s,itemSorter:o,wrapperClassName:c,labelClassName:u,label:f,labelFormatter:d,accessibilityLayer:m=!1}=e,h=()=>{if(i&&i.length){var E={padding:0,margin:0},D=(o?kp(i,o):i).map((N,k)=>{if(N.type==="none")return null;var F=N.formatter||s||PV,{value:L,name:A}=N,S=L,M=A;if(F){var U=F(L,A,N,k,i);if(Array.isArray(U))[S,M]=U;else if(U!=null)S=U;else return null}var G=U1({display:"block",paddingTop:4,paddingBottom:4,color:N.color||"#000"},n);return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(k),style:G},Os(M)?T.createElement("span",{className:"recharts-tooltip-item-name"},M):null,Os(M)?T.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,T.createElement("span",{className:"recharts-tooltip-item-value"},S),T.createElement("span",{className:"recharts-tooltip-item-unit"},N.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:E},D)}return null},g=U1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),p=U1({margin:0},a),x=!kr(f),y=x?f:"",_=Jt("recharts-default-tooltip",c),w=Jt("recharts-tooltip-label",u);x&&d&&i!==void 0&&i!==null&&(y=d(f,i));var P=m?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",Zv({className:_,style:g},P),T.createElement("p",{className:w,style:p},T.isValidElement(y)?y:"".concat(y)),h())},kf="recharts-tooltip-wrapper",CV={visibility:"hidden"};function OV(e){var{coordinate:t,translateX:r,translateY:n}=e;return Jt(kf,{["".concat(kf,"-right")]:At(r)&&t&&At(t.x)&&r>=t.x,["".concat(kf,"-left")]:At(r)&&t&&At(t.x)&&r<t.x,["".concat(kf,"-bottom")]:At(n)&&t&&At(t.y)&&n>=t.y,["".concat(kf,"-top")]:At(n)&&t&&At(t.y)&&n<t.y})}function M_(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:s,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=e;if(i&&At(i[n]))return i[n];var f=r[n]-o-(a>0?a:0),d=r[n]+a;if(t[n])return s[n]?f:d;var m=c[n];if(m==null)return 0;if(s[n]){var h=f,g=m;return h<g?Math.max(d,m):Math.max(f,m)}if(u==null)return 0;var p=d+o,x=m+u;return p>x?Math.max(f,m):Math.max(d,m)}function kV(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function LV(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:s,useTranslate3d:o,viewBox:c}=e,u,f,d;return s.height>0&&s.width>0&&r?(f=M_({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),d=M_({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=kV({translateX:f,translateY:d,useTranslate3d:o})):u=CV,{cssProperties:u,cssClasses:OV({translateX:f,translateY:d,coordinate:r})}}function R_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R_(Object(r),!0).forEach(function(n){Qv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qv(e,t,r){return(t=DV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DV(e){var t=FV(e,"string");return typeof t=="symbol"?t:t+""}function FV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class IV extends T.PureComponent{constructor(){super(...arguments),Qv(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Qv(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:s,hasPayload:o,isAnimationActive:c,offset:u,position:f,reverseDirection:d,useTranslate3d:m,viewBox:h,wrapperStyle:g,lastBoundingBox:p,innerRef:x,hasPortalFromProps:y}=this.props,{cssClasses:_,cssProperties:w}=LV({allowEscapeViewBox:r,coordinate:s,offsetTopLeft:u,position:f,reverseDirection:d,tooltipBox:{height:p.height,width:p.width},useTranslate3d:m,viewBox:h}),P=y?{}:mh(mh({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),E=mh(mh({},P),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},g);return T.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:E,ref:x},i)}}var MV=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),hl={devToolsEnabled:!1,isSsr:MV()},KE=()=>_t(e=>e.rootProps.accessibilityLayer);function ex(){return ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ex.apply(null,arguments)}function B_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function U_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?B_(Object(r),!0).forEach(function(n){RV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RV(e,t,r){return(t=BV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BV(e){var t=UV(e,"string");return typeof t=="symbol"?t:t+""}function UV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $_={curveBasisClosed:tW,curveBasisOpen:rW,curveBasis:eW,curveBumpX:Uq,curveBumpY:$q,curveLinearClosed:nW,curveLinear:Ap,curveMonotoneX:aW,curveMonotoneY:iW,curveNatural:sW,curveStep:oW,curveStepAfter:cW,curveStepBefore:lW},ph=e=>pa(e.x)&&pa(e.y),Lf=e=>e.x,Df=e=>e.y,$V=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Bd(e));return(r==="curveMonotone"||r==="curveBump")&&t?$_["".concat(r).concat(t==="vertical"?"Y":"X")]:$_[r]||Ap},qV=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,s=$V(t,a),o=i?r.filter(ph):r,c;if(Array.isArray(n)){var u=i?n.filter(d=>ph(d)):n,f=o.map((d,m)=>U_(U_({},d),{},{base:u[m]}));return a==="vertical"?c=oh().y(Df).x1(Lf).x0(d=>d.base.x):c=oh().x(Lf).y1(Df).y0(d=>d.base.y),c.defined(ph).curve(s),c(f)}return a==="vertical"&&At(n)?c=oh().y(Df).x1(Lf).x0(n):At(n)?c=oh().x(Lf).y1(Df).y0(n):c=hj().x(Lf).y(Df),c.defined(ph).curve(s),c(o)},Ky=e=>{var{className:t,points:r,path:n,pathRef:a}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?qV(e):n;return T.createElement("path",ex({},hi(e),Sy(e),{className:Jt("recharts-curve",t),d:i===null?void 0:i,ref:a}))},WV=["x","y","top","left","width","height","className"];function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tx.apply(null,arguments)}function q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(r),!0).forEach(function(n){HV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HV(e,t,r){return(t=VV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VV(e){var t=GV(e,"string");return typeof t=="symbol"?t:t+""}function GV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KV(e,t){if(e==null)return{};var r,n,a=YV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function YV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XV=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),JV=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:s=0,className:o}=e,c=KV(e,WV),u=zV({x:t,y:r,top:n,left:a,width:i,height:s},c);return!At(t)||!At(r)||!At(i)||!At(s)||!At(n)||!At(a)?null:T.createElement("path",tx({},Ca(u),{className:Jt("recharts-cross",o),d:XV(t,r,i,s,n,a)}))};function ZV(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function W_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(r),!0).forEach(function(n){eG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eG(e,t,r){return(t=tG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tG(e){var t=rG(e,"string");return typeof t=="symbol"?t:t+""}function rG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qn(e,t){var r=QV({},e),n=t,a=Object.keys(t),i=a.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return i}function nG(){}function aG(e){return e!=null}function z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function H_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z_(Object(r),!0).forEach(function(n){iG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iG(e,t,r){return(t=sG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sG(e){var t=oG(e,"string");return typeof t=="symbol"?t:t+""}function oG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lG=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),YE=(e,t,r)=>e.map(n=>"".concat(lG(n)," ").concat(t,"ms ").concat(r)).join(","),cG=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),wd=(e,t)=>Object.keys(t).reduce((r,n)=>H_(H_({},r),{},{[n]:e(n,t[n])}),{});function V_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?V_(Object(r),!0).forEach(function(n){uG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uG(e,t,r){return(t=fG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fG(e){var t=dG(e,"string");return typeof t=="symbol"?t:t+""}function dG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wm=(e,t,r)=>e+(t-e)*r,rx=e=>{var{from:t,to:r}=e;return t!==r},XE=(e,t,r)=>{var n=wd((a,i)=>{if(rx(i)){var[s,o]=e(i.from,i.to,i.velocity);return Gn(Gn({},i),{},{from:s,velocity:o})}return i},t);return r<1?wd((a,i)=>rx(i)?Gn(Gn({},i),{},{velocity:wm(i.velocity,n[a].velocity,r),from:wm(i.from,n[a].from,r)}):i,t):XE(e,n,r-1)};function hG(e,t,r,n,a,i){var s,o=n.reduce((m,h)=>Gn(Gn({},m),{},{[h]:{from:e[h],velocity:0,to:t[h]}}),{}),c=()=>wd((m,h)=>h.from,o),u=()=>!Object.values(o).filter(rx).length,f=null,d=m=>{s||(s=m);var h=m-s,g=h/r.dt;o=XE(r,o,g),a(Gn(Gn(Gn({},e),t),c())),s=m,u()||(f=i.setTimeout(d))};return()=>(f=i.setTimeout(d),()=>{f()})}function mG(e,t,r,n,a,i,s){var o=null,c=a.reduce((d,m)=>Gn(Gn({},d),{},{[m]:[e[m],t[m]]}),{}),u,f=d=>{u||(u=d);var m=(d-u)/n,h=wd((p,x)=>wm(...x,r(m)),c);if(i(Gn(Gn(Gn({},e),t),h)),m<1)o=s.setTimeout(f);else{var g=wd((p,x)=>wm(...x,r(1)),c);i(Gn(Gn(Gn({},e),t),g))}};return()=>(o=s.setTimeout(f),()=>{o()})}const pG=(e,t,r,n,a,i)=>{var s=cG(e,t);return r.isStepper===!0?hG(e,t,r,s,a,i):mG(e,t,r,n,s,a,i)};var _m=1e-4,JE=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],ZE=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),G_=(e,t)=>r=>{var n=JE(e,t);return ZE(n,r)},gG=(e,t)=>r=>{var n=JE(e,t),a=[...n.map((i,s)=>i*s).slice(1),0];return ZE(a,r)},K_=function(){for(var t,r,n,a,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(s.length===1)switch(s[0]){case"linear":[t,n,r,a]=[0,0,1,1];break;case"ease":[t,n,r,a]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,a]=[.42,0,1,1];break;case"ease-out":[t,n,r,a]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,a]=[0,0,.58,1];break;default:{var c=s[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,a]=c[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else s.length===4&&([t,n,r,a]=s);var u=G_(t,r),f=G_(n,a),d=gG(t,r),m=g=>g>1?1:g<0?0:g,h=g=>{for(var p=g>1?1:g,x=p,y=0;y<8;++y){var _=u(x)-p,w=d(x);if(Math.abs(_-p)<_m||w<_m)return f(x);x=m(x-_/w)}return f(x)};return h.isStepper=!1,h},vG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(s,o,c)=>{var u=-(s-o)*r,f=c*n,d=c+(u-f)*a/1e3,m=c*a/1e3+s;return Math.abs(m-o)<_m&&Math.abs(d)<_m?[o,0]:[m,d]};return i.isStepper=!0,i.dt=a,i},xG=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return K_(e);case"spring":return vG();default:if(e.split("(")[0]==="cubic-bezier")return K_(e)}return typeof e=="function"?e:null};function yG(e){var t,r=()=>null,n=!1,a=null,i=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[c,...u]=o;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof s=="string"&&(t=s,r(t)),typeof s=="object"&&(t=s,r(t)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,a&&(a(),a=null),i(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>e}}class bG{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=s=>{s-n>=r?t(s):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{cancelAnimationFrame(a)}}}function wG(){return yG(new bG)}var _G=T.createContext(wG);function SG(e,t){var r=T.useContext(_G);return T.useMemo(()=>t??r(e),[e,t,r])}var NG={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Y_={t:0},$1={t:1};function zd(e){var t=Qn(e,NG),{isActive:r,canBegin:n,duration:a,easing:i,begin:s,onAnimationEnd:o,onAnimationStart:c,children:u}=t,f=SG(t.animationId,t.animationManager),[d,m]=T.useState(r?Y_:$1),h=T.useRef(null);return T.useEffect(()=>{r||m($1)},[r]),T.useEffect(()=>{if(!r||!n)return nG;var g=pG(Y_,$1,xG(i),a,m,f.getTimeoutController()),p=()=>{h.current=g()};return f.start([c,s,p,a,o]),()=>{f.stop(),h.current&&h.current(),o()}},[r,n,a,i,s,c,o,f]),u(d.t)}function Hd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=T.useRef(gd(t)),n=T.useRef(e);return n.current!==e&&(r.current=gd(t),n.current=e),r.current}var AG=["radius"],jG=["radius"];function X_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function J_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X_(Object(r),!0).forEach(function(n){EG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EG(e,t,r){return(t=PG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PG(e){var t=TG(e,"string");return typeof t=="symbol"?t:t+""}function TG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sm(){return Sm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sm.apply(null,arguments)}function Z_(e,t){if(e==null)return{};var r,n,a=CG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function CG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Q_=(e,t,r,n,a)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),s=n>=0?1:-1,o=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&a instanceof Array){for(var f=[0,0,0,0],d=0,m=4;d<m;d++)f[d]=a[d]>i?i:a[d];u="M".concat(e,",").concat(t+s*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+o*f[0],",").concat(t)),u+="L ".concat(e+r-o*f[1],",").concat(t),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+s*f[1])),u+="L ".concat(e+r,",").concat(t+n-s*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-o*f[2],",").concat(t+n)),u+="L ".concat(e+o*f[3],",").concat(t+n),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-s*f[3])),u+="Z"}else if(i>0&&a===+a&&a>0){var h=Math.min(i,a);u="M ".concat(e,",").concat(t+s*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+o*h,",").concat(t,`
            L `).concat(e+r-o*h,",").concat(t,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r,",").concat(t+s*h,`
            L `).concat(e+r,",").concat(t+n-s*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+r-o*h,",").concat(t+n,`
            L `).concat(e+o*h,",").concat(t+n,`
            A `).concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+n-s*h," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},OG={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QE=e=>{var t=Qn(e,OG),r=T.useRef(null),[n,a]=T.useState(-1);T.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var H=r.current.getTotalLength();H&&a(H)}catch{}},[]);var{x:i,y:s,width:o,height:c,radius:u,className:f}=t,{animationEasing:d,animationDuration:m,animationBegin:h,isAnimationActive:g,isUpdateAnimationActive:p}=t,x=T.useRef(o),y=T.useRef(c),_=T.useRef(i),w=T.useRef(s),P=T.useMemo(()=>({x:i,y:s,width:o,height:c,radius:u}),[i,s,o,c,u]),E=Hd(P,"rectangle-");if(i!==+i||s!==+s||o!==+o||c!==+c||o===0||c===0)return null;var D=Jt("recharts-rectangle",f);if(!p){var N=Ca(t),k=Z_(N,AG);return T.createElement("path",Sm({},k,{radius:typeof u=="number"?u:void 0,className:D,d:Q_(i,s,o,c,u)}))}var F=x.current,L=y.current,A=_.current,S=w.current,M="0px ".concat(n===-1?1:n,"px"),U="".concat(n,"px 0px"),G=YE(["strokeDasharray"],m,typeof d=="string"?d:void 0);return T.createElement(zd,{animationId:E,key:E,canBegin:n>0,duration:m,easing:d,isActive:p,begin:h},H=>{var q=Hr(F,o,H),V=Hr(L,c,H),W=Hr(A,i,H),ne=Hr(S,s,H);r.current&&(x.current=q,y.current=V,_.current=W,w.current=ne);var ce;g?H>0?ce={transition:G,strokeDasharray:U}:ce={strokeDasharray:M}:ce={strokeDasharray:U};var C=Ca(t),I=Z_(C,jG);return T.createElement("path",Sm({},I,{radius:typeof u=="number"?u:void 0,className:D,d:Q_(W,ne,q,V,u),ref:r,style:J_(J_({},ce),t.style)}))})};function eP(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,s=fn(t,r,n,a),o=fn(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nx.apply(null,arguments)}var kG=(e,t)=>{var r=Mn(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},gh=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:s,cornerRadius:o,cornerIsExternal:c}=e,u=o*(s?1:-1)+n,f=Math.asin(o/u)/ym,d=c?a:a+i*f,m=fn(t,r,u,d),h=fn(t,r,n,d),g=c?a-i*f:a,p=fn(t,r,u*Math.cos(f*ym),g);return{center:m,circleTangency:h,lineTangency:p,theta:f}},tP=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:s}=e,o=kG(i,s),c=i+o,u=fn(t,r,a,i),f=fn(t,r,a,c),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(i>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(n>0){var m=fn(t,r,n,i),h=fn(t,r,n,c);d+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(i<=c),`,
            `).concat(m.x,",").concat(m.y," Z")}else d+="L ".concat(t,",").concat(r," Z");return d},LG=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:s,cornerIsExternal:o,startAngle:c,endAngle:u}=e,f=Mn(u-c),{circleTangency:d,lineTangency:m,theta:h}=gh({cx:t,cy:r,radius:a,angle:c,sign:f,cornerRadius:i,cornerIsExternal:o}),{circleTangency:g,lineTangency:p,theta:x}=gh({cx:t,cy:r,radius:a,angle:u,sign:-f,cornerRadius:i,cornerIsExternal:o}),y=o?Math.abs(c-u):Math.abs(c-u)-h-x;if(y<0)return s?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):tP({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var _="M ".concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(y>180),",").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:P,theta:E}=gh({cx:t,cy:r,radius:n,angle:c,sign:f,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),{circleTangency:D,lineTangency:N,theta:k}=gh({cx:t,cy:r,radius:n,angle:u,sign:-f,isExternal:!0,cornerRadius:i,cornerIsExternal:o}),F=o?Math.abs(c-u):Math.abs(c-u)-E-k;if(F<0&&i===0)return"".concat(_,"L").concat(t,",").concat(r,"Z");_+="L".concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(F>180),",").concat(+(f>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,"Z")}else _+="L".concat(t,",").concat(r,"Z");return _},DG={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},rP=e=>{var t=Qn(e,DG),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:f,className:d}=t;if(i<a||u===f)return null;var m=Jt("recharts-sector",d),h=i-a,g=ma(s,h,0,!0),p;return g>0&&Math.abs(u-f)<360?p=LG({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,h/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:f}):p=tP({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:f}),T.createElement("path",nx({},Ca(t),{className:m,d:p}))};function FG(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:o,cy:c,innerRadius:u,outerRadius:f,angle:d}=t,m=fn(o,c,u,d),h=fn(o,c,f,d);n=m.x,a=m.y,i=h.x,s=h.y}else return eP(t);return[{x:n,y:a},{x:i,y:s}]}var nP={},aP={},iP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iy;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(iP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iP;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(aP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=My,r=aP;function n(a,i,s){s&&typeof s!="number"&&t.isIterateeCall(a,i,s)&&(i=s=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),s=s===void 0?a<i?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((i-a)/(s||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=a,a+=s;return c}e.range=n})(nP);var IG=nP.range;const sP=ul(IG);function Yo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function MG(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Yy(e){let t,r,n;e.length!==2?(t=Yo,r=(o,c)=>Yo(e(o),c),n=(o,c)=>e(o)-c):(t=e===Yo||e===MG?e:RG,r=e,n=e);function a(o,c,u=0,f=o.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(o[d],c)<0?u=d+1:f=d}while(u<f)}return u}function i(o,c,u=0,f=o.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(o[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function s(o,c,u=0,f=o.length){const d=a(o,c,u,f-1);return d>u&&n(o[d-1],c)>-n(o[d],c)?d-1:d}return{left:a,center:s,right:i}}function RG(){return 0}function oP(e){return e===null?NaN:+e}function*BG(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const UG=Yy(Yo),$G=UG.right;Yy(oP).center;const Vd=$G;class eS extends Map{constructor(t,r=zG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(tS(this,t))}has(t){return super.has(tS(this,t))}set(t,r){return super.set(qG(this,t),r)}delete(t){return super.delete(WG(this,t))}}function tS({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function qG({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function WG({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function zG(e){return e!==null&&typeof e=="object"?e.valueOf():e}function HG(e=Yo){if(e===Yo)return lP;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function lP(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const VG=Math.sqrt(50),GG=Math.sqrt(10),KG=Math.sqrt(2);function Nm(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=VG?10:i>=GG?5:i>=KG?2:1;let o,c,u;return a<0?(u=Math.pow(10,-a)/s,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*s,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=r&&r<2?Nm(e,t,r*2):[o,c,u]}function ax(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?Nm(t,e,r):Nm(e,t,r);if(!(i>=a))return[];const o=i-a+1,c=new Array(o);if(n)if(s<0)for(let u=0;u<o;++u)c[u]=(i-u)/-s;else for(let u=0;u<o;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(a+u)/-s;else for(let u=0;u<o;++u)c[u]=(a+u)*s;return c}function ix(e,t,r){return t=+t,e=+e,r=+r,Nm(e,t,r)[2]}function sx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?ix(t,e,r):ix(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function rS(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}function nS(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}function cP(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?lP:HG(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),d=.5*Math.exp(2*f/3),m=.5*Math.sqrt(f*d*(c-d)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(t-u*d/c+m)),g=Math.min(n,Math.floor(t+(c-u)*d/c+m));cP(e,t,h,g,a)}const i=e[t];let s=r,o=n;for(Ff(e,r,t),a(e[n],i)>0&&Ff(e,r,n);s<o;){for(Ff(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?Ff(e,r,o):(++o,Ff(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Ff(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function YG(e,t,r){if(e=Float64Array.from(BG(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return nS(e);if(t>=1)return rS(e);var n,a=(n-1)*t,i=Math.floor(a),s=rS(cP(e,i).subarray(0,i+1)),o=nS(e.subarray(i+1));return s+(o-s)*(a-i)}}function XG(e,t,r=oP){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function JG(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ri(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function mo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const ox=Symbol("implicit");function Xy(){var e=new eS,t=[],r=[],n=ox;function a(i){let s=e.get(i);if(s===void 0){if(n!==ox)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new eS;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Xy(t,r).unknown(n)},Ri.apply(a,arguments),a}function Jy(){var e=Xy().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var m=t().length,h=a<n,g=h?a:n,p=h?n:a;i=(p-g)/Math.max(1,m-c+u*2),o&&(i=Math.floor(i)),g+=(p-g-i*(m-c))*f,s=i*(1-c),o&&(g=Math.round(g),s=Math.round(s));var x=JG(m).map(function(y){return g+i*y});return r(h?x.reverse():x)}return e.domain=function(m){return arguments.length?(t(m),d()):t()},e.range=function(m){return arguments.length?([n,a]=m,n=+n,a=+a,d()):[n,a]},e.rangeRound=function(m){return[n,a]=m,n=+n,a=+a,o=!0,d()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(m){return arguments.length?(o=!!m,d()):o},e.padding=function(m){return arguments.length?(c=Math.min(1,u=+m),d()):c},e.paddingInner=function(m){return arguments.length?(c=Math.min(1,m),d()):c},e.paddingOuter=function(m){return arguments.length?(u=+m,d()):u},e.align=function(m){return arguments.length?(f=Math.max(0,Math.min(1,m)),d()):f},e.copy=function(){return Jy(t(),[n,a]).round(o).paddingInner(c).paddingOuter(u).align(f)},Ri.apply(d(),arguments)}function uP(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return uP(t())},e}function ZG(){return uP(Jy.apply(null,arguments).paddingInner(1))}function Zy(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function fP(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Gd(){}var _d=.7,Am=1/_d,mu="\\s*([+-]?\\d+)\\s*",Sd="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ts="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",QG=/^#([0-9a-f]{3,8})$/,eK=new RegExp(`^rgb\\(${mu},${mu},${mu}\\)$`),tK=new RegExp(`^rgb\\(${Ts},${Ts},${Ts}\\)$`),rK=new RegExp(`^rgba\\(${mu},${mu},${mu},${Sd}\\)$`),nK=new RegExp(`^rgba\\(${Ts},${Ts},${Ts},${Sd}\\)$`),aK=new RegExp(`^hsl\\(${Sd},${Ts},${Ts}\\)$`),iK=new RegExp(`^hsla\\(${Sd},${Ts},${Ts},${Sd}\\)$`),aS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Zy(Gd,Nd,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:iS,formatHex:iS,formatHex8:sK,formatHsl:oK,formatRgb:sS,toString:sS});function iS(){return this.rgb().formatHex()}function sK(){return this.rgb().formatHex8()}function oK(){return dP(this).formatHsl()}function sS(){return this.rgb().formatRgb()}function Nd(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=QG.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?oS(t):r===3?new Ua(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?vh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?vh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=eK.exec(e))?new Ua(t[1],t[2],t[3],1):(t=tK.exec(e))?new Ua(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=rK.exec(e))?vh(t[1],t[2],t[3],t[4]):(t=nK.exec(e))?vh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=aK.exec(e))?uS(t[1],t[2]/100,t[3]/100,1):(t=iK.exec(e))?uS(t[1],t[2]/100,t[3]/100,t[4]):aS.hasOwnProperty(e)?oS(aS[e]):e==="transparent"?new Ua(NaN,NaN,NaN,0):null}function oS(e){return new Ua(e>>16&255,e>>8&255,e&255,1)}function vh(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ua(e,t,r,n)}function lK(e){return e instanceof Gd||(e=Nd(e)),e?(e=e.rgb(),new Ua(e.r,e.g,e.b,e.opacity)):new Ua}function lx(e,t,r,n){return arguments.length===1?lK(e):new Ua(e,t,r,n??1)}function Ua(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Zy(Ua,lx,fP(Gd,{brighter(e){return e=e==null?Am:Math.pow(Am,e),new Ua(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?_d:Math.pow(_d,e),new Ua(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ua(Kl(this.r),Kl(this.g),Kl(this.b),jm(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lS,formatHex:lS,formatHex8:cK,formatRgb:cS,toString:cS}));function lS(){return`#${Rl(this.r)}${Rl(this.g)}${Rl(this.b)}`}function cK(){return`#${Rl(this.r)}${Rl(this.g)}${Rl(this.b)}${Rl((isNaN(this.opacity)?1:this.opacity)*255)}`}function cS(){const e=jm(this.opacity);return`${e===1?"rgb(":"rgba("}${Kl(this.r)}, ${Kl(this.g)}, ${Kl(this.b)}${e===1?")":`, ${e})`}`}function jm(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Kl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Rl(e){return e=Kl(e),(e<16?"0":"")+e.toString(16)}function uS(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new as(e,t,r,n)}function dP(e){if(e instanceof as)return new as(e.h,e.s,e.l,e.opacity);if(e instanceof Gd||(e=Nd(e)),!e)return new as;if(e instanceof as)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,c=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=c<.5?i+a:2-i-a,s*=60):o=c>0&&c<1?0:s,new as(s,o,c,e.opacity)}function uK(e,t,r,n){return arguments.length===1?dP(e):new as(e,t,r,n??1)}function as(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Zy(as,uK,fP(Gd,{brighter(e){return e=e==null?Am:Math.pow(Am,e),new as(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?_d:Math.pow(_d,e),new as(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Ua(q1(e>=240?e-240:e+120,a,n),q1(e,a,n),q1(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new as(fS(this.h),xh(this.s),xh(this.l),jm(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=jm(this.opacity);return`${e===1?"hsl(":"hsla("}${fS(this.h)}, ${xh(this.s)*100}%, ${xh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function fS(e){return e=(e||0)%360,e<0?e+360:e}function xh(e){return Math.max(0,Math.min(1,e||0))}function q1(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Qy=e=>()=>e;function fK(e,t){return function(r){return e+r*t}}function dK(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function hK(e){return(e=+e)==1?hP:function(t,r){return r-t?dK(t,r,e):Qy(isNaN(t)?r:t)}}function hP(e,t){var r=t-e;return r?fK(e,r):Qy(isNaN(e)?t:e)}const dS=function e(t){var r=hK(t);function n(a,i){var s=r((a=lx(a)).r,(i=lx(i)).r),o=r(a.g,i.g),c=r(a.b,i.b),u=hP(a.opacity,i.opacity);return function(f){return a.r=s(f),a.g=o(f),a.b=c(f),a.opacity=u(f),a+""}}return n.gamma=e,n}(1);function mK(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function pK(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gK(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=Iu(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function vK(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Em(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function xK(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Iu(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var cx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,W1=new RegExp(cx.source,"g");function yK(e){return function(){return e}}function bK(e){return function(t){return e(t)+""}}function wK(e,t){var r=cx.lastIndex=W1.lastIndex=0,n,a,i,s=-1,o=[],c=[];for(e=e+"",t=t+"";(n=cx.exec(e))&&(a=W1.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,c.push({i:s,x:Em(n,a)})),r=W1.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?c[0]?bK(c[0].x):yK(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)o[(d=c[f]).i]=d.x(u);return o.join("")})}function Iu(e,t){var r=typeof t,n;return t==null||r==="boolean"?Qy(t):(r==="number"?Em:r==="string"?(n=Nd(t))?(t=n,dS):wK:t instanceof Nd?dS:t instanceof Date?vK:pK(t)?mK:Array.isArray(t)?gK:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?xK:Em)(e,t)}function e2(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function _K(e,t){t===void 0&&(t=e,e=Iu);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function SK(e){return function(){return e}}function Pm(e){return+e}var hS=[0,1];function Ea(e){return e}function ux(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:SK(isNaN(t)?NaN:.5)}function NK(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function AK(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=ux(a,n),i=r(s,i)):(n=ux(n,a),i=r(i,s)),function(o){return i(n(o))}}function jK(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=ux(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var c=Vd(e,o,1,n)-1;return i[c](a[c](o))}}function Kd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Hp(){var e=hS,t=hS,r=Iu,n,a,i,s=Ea,o,c,u;function f(){var m=Math.min(e.length,t.length);return s!==Ea&&(s=NK(e[0],e[m-1])),o=m>2?jK:AK,c=u=null,d}function d(m){return m==null||isNaN(m=+m)?i:(c||(c=o(e.map(n),t,r)))(n(s(m)))}return d.invert=function(m){return s(a((u||(u=o(t,e.map(n),Em)))(m)))},d.domain=function(m){return arguments.length?(e=Array.from(m,Pm),f()):e.slice()},d.range=function(m){return arguments.length?(t=Array.from(m),f()):t.slice()},d.rangeRound=function(m){return t=Array.from(m),r=e2,f()},d.clamp=function(m){return arguments.length?(s=m?!0:Ea,f()):s!==Ea},d.interpolate=function(m){return arguments.length?(r=m,f()):r},d.unknown=function(m){return arguments.length?(i=m,d):i},function(m,h){return n=m,a=h,f()}}function t2(){return Hp()(Ea,Ea)}function EK(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Tm(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Au(e){return e=Tm(Math.abs(e)),e?e[1]:NaN}function PK(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],c=0;a>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),i.push(r.substring(a-=o,a+o)),!((c+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function TK(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var CK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ad(e){if(!(t=CK.exec(e)))throw new Error("invalid format: "+e);var t;return new r2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ad.prototype=r2.prototype;function r2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}r2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function OK(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var mP;function kK(e,t){var r=Tm(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(mP=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Tm(e,Math.max(0,t+i-1))[0]}function mS(e,t){var r=Tm(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const pS={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:EK,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>mS(e*100,t),r:mS,s:kK,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function gS(e){return e}var vS=Array.prototype.map,xS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function LK(e){var t=e.grouping===void 0||e.thousands===void 0?gS:PK(vS.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?gS:TK(vS.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=Ad(d);var m=d.fill,h=d.align,g=d.sign,p=d.symbol,x=d.zero,y=d.width,_=d.comma,w=d.precision,P=d.trim,E=d.type;E==="n"?(_=!0,E="g"):pS[E]||(w===void 0&&(w=12),P=!0,E="g"),(x||m==="0"&&h==="=")&&(x=!0,m="0",h="=");var D=p==="$"?r:p==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",N=p==="$"?n:/[%p]/.test(E)?s:"",k=pS[E],F=/[defgprs%]/.test(E);w=w===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function L(A){var S=D,M=N,U,G,H;if(E==="c")M=k(A)+M,A="";else{A=+A;var q=A<0||1/A<0;if(A=isNaN(A)?c:k(Math.abs(A),w),P&&(A=OK(A)),q&&+A==0&&g!=="+"&&(q=!1),S=(q?g==="("?g:o:g==="-"||g==="("?"":g)+S,M=(E==="s"?xS[8+mP/3]:"")+M+(q&&g==="("?")":""),F){for(U=-1,G=A.length;++U<G;)if(H=A.charCodeAt(U),48>H||H>57){M=(H===46?a+A.slice(U+1):A.slice(U))+M,A=A.slice(0,U);break}}}_&&!x&&(A=t(A,1/0));var V=S.length+A.length+M.length,W=V<y?new Array(y-V+1).join(m):"";switch(_&&x&&(A=t(W+A,W.length?y-M.length:1/0),W=""),h){case"<":A=S+A+M+W;break;case"=":A=S+W+A+M;break;case"^":A=W.slice(0,V=W.length>>1)+S+A+M+W.slice(V);break;default:A=W+S+A+M;break}return i(A)}return L.toString=function(){return d+""},L}function f(d,m){var h=u((d=Ad(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Au(m)/3)))*3,p=Math.pow(10,-g),x=xS[8+g/3];return function(y){return h(p*y)+x}}return{format:u,formatPrefix:f}}var yh,n2,pP;DK({thousands:",",grouping:[3],currency:["$",""]});function DK(e){return yh=LK(e),n2=yh.format,pP=yh.formatPrefix,yh}function FK(e){return Math.max(0,-Au(Math.abs(e)))}function IK(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Au(t)/3)))*3-Au(Math.abs(e)))}function MK(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Au(t)-Au(e))+1}function gP(e,t,r,n){var a=sx(e,t,r),i;switch(n=Ad(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=IK(a,s))&&(n.precision=i),pP(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=MK(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=FK(a))&&(n.precision=i-(n.type==="%")*2);break}}return n2(n)}function ml(e){var t=e.domain;return e.ticks=function(r){var n=t();return ax(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return gP(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],c,u,f=10;for(o<s&&(u=s,s=o,o=u,u=a,a=i,i=u);f-- >0;){if(u=ix(s,o,r),u===c)return n[a]=s,n[i]=o,t(n);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function vP(){var e=t2();return e.copy=function(){return Kd(e,vP())},Ri.apply(e,arguments),ml(e)}function xP(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Pm),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return xP(e).unknown(t)},e=arguments.length?Array.from(e,Pm):[0,1],ml(r)}function yP(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function yS(e){return Math.log(e)}function bS(e){return Math.exp(e)}function RK(e){return-Math.log(-e)}function BK(e){return-Math.exp(-e)}function UK(e){return isFinite(e)?+("1e"+e):e<0?0:e}function $K(e){return e===10?UK:e===Math.E?Math.exp:t=>Math.pow(e,t)}function qK(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function wS(e){return(t,r)=>-e(-t,r)}function a2(e){const t=e(yS,bS),r=t.domain;let n=10,a,i;function s(){return a=qK(n),i=$K(n),r()[0]<0?(a=wS(a),i=wS(i),e(RK,BK)):e(yS,bS),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const c=r();let u=c[0],f=c[c.length-1];const d=f<u;d&&([u,f]=[f,u]);let m=a(u),h=a(f),g,p;const x=o==null?10:+o;let y=[];if(!(n%1)&&h-m<x){if(m=Math.floor(m),h=Math.ceil(h),u>0){for(;m<=h;++m)for(g=1;g<n;++g)if(p=m<0?g/i(-m):g*i(m),!(p<u)){if(p>f)break;y.push(p)}}else for(;m<=h;++m)for(g=n-1;g>=1;--g)if(p=m>0?g/i(-m):g*i(m),!(p<u)){if(p>f)break;y.push(p)}y.length*2<x&&(y=ax(u,f,x))}else y=ax(m,h,Math.min(h-m,x)).map(i);return d?y.reverse():y},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Ad(c)).precision==null&&(c.trim=!0),c=n2(c)),o===1/0)return c;const u=Math.max(1,n*o/t.ticks().length);return f=>{let d=f/i(Math.round(a(f)));return d*n<n-.5&&(d*=n),d<=u?c(f):""}},t.nice=()=>r(yP(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function bP(){const e=a2(Hp()).domain([1,10]);return e.copy=()=>Kd(e,bP()).base(e.base()),Ri.apply(e,arguments),e}function _S(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function SS(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function i2(e){var t=1,r=e(_S(t),SS(t));return r.constant=function(n){return arguments.length?e(_S(t=+n),SS(t)):t},ml(r)}function wP(){var e=i2(Hp());return e.copy=function(){return Kd(e,wP()).constant(e.constant())},Ri.apply(e,arguments)}function NS(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function WK(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zK(e){return e<0?-e*e:e*e}function s2(e){var t=e(Ea,Ea),r=1;function n(){return r===1?e(Ea,Ea):r===.5?e(WK,zK):e(NS(r),NS(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},ml(t)}function o2(){var e=s2(Hp());return e.copy=function(){return Kd(e,o2()).exponent(e.exponent())},Ri.apply(e,arguments),e}function HK(){return o2.apply(null,arguments).exponent(.5)}function AS(e){return Math.sign(e)*e*e}function VK(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function _P(){var e=t2(),t=[0,1],r=!1,n;function a(i){var s=VK(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(AS(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Pm)).map(AS)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return _P(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ri.apply(a,arguments),ml(a)}function SP(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=XG(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Vd(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Yo),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return SP().domain(e).range(t).unknown(n)},Ri.apply(i,arguments)}function NP(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[Vd(n,c,0,r)]:i}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,o()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return NP().domain([e,t]).range(a).unknown(i)},Ri.apply(ml(s),arguments)}function AP(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Vd(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return AP().domain(e).range(t).unknown(r)},Ri.apply(a,arguments)}const z1=new Date,H1=new Date;function An(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const c=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return c;let u;do c.push(u=new Date(+i)),t(i,o),e(i);while(u<i&&i<s);return c},a.filter=i=>An(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(z1.setTime(+i),H1.setTime(+s),e(z1),e(H1),Math.floor(r(z1,H1))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Cm=An(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Cm.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?An(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Cm);Cm.range;const Xs=1e3,ki=Xs*60,Js=ki*60,oo=Js*24,l2=oo*7,jS=oo*30,V1=oo*365,Bl=An(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Xs)},(e,t)=>(t-e)/Xs,e=>e.getUTCSeconds());Bl.range;const c2=An(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xs)},(e,t)=>{e.setTime(+e+t*ki)},(e,t)=>(t-e)/ki,e=>e.getMinutes());c2.range;const u2=An(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ki)},(e,t)=>(t-e)/ki,e=>e.getUTCMinutes());u2.range;const f2=An(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Xs-e.getMinutes()*ki)},(e,t)=>{e.setTime(+e+t*Js)},(e,t)=>(t-e)/Js,e=>e.getHours());f2.range;const d2=An(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Js)},(e,t)=>(t-e)/Js,e=>e.getUTCHours());d2.range;const Yd=An(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ki)/oo,e=>e.getDate()-1);Yd.range;const Vp=An(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/oo,e=>e.getUTCDate()-1);Vp.range;const jP=An(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/oo,e=>Math.floor(e/oo));jP.range;function xc(e){return An(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ki)/l2)}const Gp=xc(0),Om=xc(1),GK=xc(2),KK=xc(3),ju=xc(4),YK=xc(5),XK=xc(6);Gp.range;Om.range;GK.range;KK.range;ju.range;YK.range;XK.range;function yc(e){return An(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/l2)}const Kp=yc(0),km=yc(1),JK=yc(2),ZK=yc(3),Eu=yc(4),QK=yc(5),eY=yc(6);Kp.range;km.range;JK.range;ZK.range;Eu.range;QK.range;eY.range;const h2=An(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());h2.range;const m2=An(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());m2.range;const lo=An(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());lo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:An(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});lo.range;const co=An(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());co.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:An(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});co.range;function EP(e,t,r,n,a,i){const s=[[Bl,1,Xs],[Bl,5,5*Xs],[Bl,15,15*Xs],[Bl,30,30*Xs],[i,1,ki],[i,5,5*ki],[i,15,15*ki],[i,30,30*ki],[a,1,Js],[a,3,3*Js],[a,6,6*Js],[a,12,12*Js],[n,1,oo],[n,2,2*oo],[r,1,l2],[t,1,jS],[t,3,3*jS],[e,1,V1]];function o(u,f,d){const m=f<u;m&&([u,f]=[f,u]);const h=d&&typeof d.range=="function"?d:c(u,f,d),g=h?h.range(u,+f+1):[];return m?g.reverse():g}function c(u,f,d){const m=Math.abs(f-u)/d,h=Yy(([,,x])=>x).right(s,m);if(h===s.length)return e.every(sx(u/V1,f/V1,d));if(h===0)return Cm.every(Math.max(sx(u,f,d),1));const[g,p]=s[m/s[h-1][2]<s[h][2]/m?h-1:h];return g.every(p)}return[o,c]}const[tY,rY]=EP(co,m2,Kp,jP,d2,u2),[nY,aY]=EP(lo,h2,Gp,Yd,f2,c2);function G1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function K1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function If(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function iY(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=Mf(a),f=Rf(a),d=Mf(i),m=Rf(i),h=Mf(s),g=Rf(s),p=Mf(o),x=Rf(o),y=Mf(c),_=Rf(c),w={a:q,A:V,b:W,B:ne,c:null,d:kS,e:kS,f:PY,g:RY,G:UY,H:AY,I:jY,j:EY,L:PP,m:TY,M:CY,p:ce,q:C,Q:FS,s:IS,S:OY,u:kY,U:LY,V:DY,w:FY,W:IY,x:null,X:null,y:MY,Y:BY,Z:$Y,"%":DS},P={a:I,A:B,b:z,B:Z,c:null,d:LS,e:LS,f:HY,g:tX,G:nX,H:qY,I:WY,j:zY,L:CP,m:VY,M:GY,p:ge,q:pe,Q:FS,s:IS,S:KY,u:YY,U:XY,V:JY,w:ZY,W:QY,x:null,X:null,y:eX,Y:rX,Z:aX,"%":DS},E={a:L,A,b:S,B:M,c:U,d:CS,e:CS,f:wY,g:TS,G:PS,H:OS,I:OS,j:vY,L:bY,m:gY,M:xY,p:F,q:pY,Q:SY,s:NY,S:yY,u:uY,U:fY,V:dY,w:cY,W:hY,x:G,X:H,y:TS,Y:PS,Z:mY,"%":_Y};w.x=D(r,w),w.X=D(n,w),w.c=D(t,w),P.x=D(r,P),P.X=D(n,P),P.c=D(t,P);function D(te,be){return function(Te){var ye=[],Ze=-1,Ke=0,De=te.length,fe,Ve,ft;for(Te instanceof Date||(Te=new Date(+Te));++Ze<De;)te.charCodeAt(Ze)===37&&(ye.push(te.slice(Ke,Ze)),(Ve=ES[fe=te.charAt(++Ze)])!=null?fe=te.charAt(++Ze):Ve=fe==="e"?" ":"0",(ft=be[fe])&&(fe=ft(Te,Ve)),ye.push(fe),Ke=Ze+1);return ye.push(te.slice(Ke,Ze)),ye.join("")}}function N(te,be){return function(Te){var ye=If(1900,void 0,1),Ze=k(ye,te,Te+="",0),Ke,De;if(Ze!=Te.length)return null;if("Q"in ye)return new Date(ye.Q);if("s"in ye)return new Date(ye.s*1e3+("L"in ye?ye.L:0));if(be&&!("Z"in ye)&&(ye.Z=0),"p"in ye&&(ye.H=ye.H%12+ye.p*12),ye.m===void 0&&(ye.m="q"in ye?ye.q:0),"V"in ye){if(ye.V<1||ye.V>53)return null;"w"in ye||(ye.w=1),"Z"in ye?(Ke=K1(If(ye.y,0,1)),De=Ke.getUTCDay(),Ke=De>4||De===0?km.ceil(Ke):km(Ke),Ke=Vp.offset(Ke,(ye.V-1)*7),ye.y=Ke.getUTCFullYear(),ye.m=Ke.getUTCMonth(),ye.d=Ke.getUTCDate()+(ye.w+6)%7):(Ke=G1(If(ye.y,0,1)),De=Ke.getDay(),Ke=De>4||De===0?Om.ceil(Ke):Om(Ke),Ke=Yd.offset(Ke,(ye.V-1)*7),ye.y=Ke.getFullYear(),ye.m=Ke.getMonth(),ye.d=Ke.getDate()+(ye.w+6)%7)}else("W"in ye||"U"in ye)&&("w"in ye||(ye.w="u"in ye?ye.u%7:"W"in ye?1:0),De="Z"in ye?K1(If(ye.y,0,1)).getUTCDay():G1(If(ye.y,0,1)).getDay(),ye.m=0,ye.d="W"in ye?(ye.w+6)%7+ye.W*7-(De+5)%7:ye.w+ye.U*7-(De+6)%7);return"Z"in ye?(ye.H+=ye.Z/100|0,ye.M+=ye.Z%100,K1(ye)):G1(ye)}}function k(te,be,Te,ye){for(var Ze=0,Ke=be.length,De=Te.length,fe,Ve;Ze<Ke;){if(ye>=De)return-1;if(fe=be.charCodeAt(Ze++),fe===37){if(fe=be.charAt(Ze++),Ve=E[fe in ES?be.charAt(Ze++):fe],!Ve||(ye=Ve(te,Te,ye))<0)return-1}else if(fe!=Te.charCodeAt(ye++))return-1}return ye}function F(te,be,Te){var ye=u.exec(be.slice(Te));return ye?(te.p=f.get(ye[0].toLowerCase()),Te+ye[0].length):-1}function L(te,be,Te){var ye=h.exec(be.slice(Te));return ye?(te.w=g.get(ye[0].toLowerCase()),Te+ye[0].length):-1}function A(te,be,Te){var ye=d.exec(be.slice(Te));return ye?(te.w=m.get(ye[0].toLowerCase()),Te+ye[0].length):-1}function S(te,be,Te){var ye=y.exec(be.slice(Te));return ye?(te.m=_.get(ye[0].toLowerCase()),Te+ye[0].length):-1}function M(te,be,Te){var ye=p.exec(be.slice(Te));return ye?(te.m=x.get(ye[0].toLowerCase()),Te+ye[0].length):-1}function U(te,be,Te){return k(te,t,be,Te)}function G(te,be,Te){return k(te,r,be,Te)}function H(te,be,Te){return k(te,n,be,Te)}function q(te){return s[te.getDay()]}function V(te){return i[te.getDay()]}function W(te){return c[te.getMonth()]}function ne(te){return o[te.getMonth()]}function ce(te){return a[+(te.getHours()>=12)]}function C(te){return 1+~~(te.getMonth()/3)}function I(te){return s[te.getUTCDay()]}function B(te){return i[te.getUTCDay()]}function z(te){return c[te.getUTCMonth()]}function Z(te){return o[te.getUTCMonth()]}function ge(te){return a[+(te.getUTCHours()>=12)]}function pe(te){return 1+~~(te.getUTCMonth()/3)}return{format:function(te){var be=D(te+="",w);return be.toString=function(){return te},be},parse:function(te){var be=N(te+="",!1);return be.toString=function(){return te},be},utcFormat:function(te){var be=D(te+="",P);return be.toString=function(){return te},be},utcParse:function(te){var be=N(te+="",!0);return be.toString=function(){return te},be}}}var ES={"-":"",_:" ",0:"0"},Bn=/^\s*\d+/,sY=/^%/,oY=/[\\^$*+?|[\]().{}]/g;function Zt(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function lY(e){return e.replace(oY,"\\$&")}function Mf(e){return new RegExp("^(?:"+e.map(lY).join("|")+")","i")}function Rf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function cY(e,t,r){var n=Bn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function uY(e,t,r){var n=Bn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function fY(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function dY(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function hY(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function PS(e,t,r){var n=Bn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function TS(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function mY(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function pY(e,t,r){var n=Bn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function gY(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function CS(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function vY(e,t,r){var n=Bn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function OS(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function xY(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function yY(e,t,r){var n=Bn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function bY(e,t,r){var n=Bn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function wY(e,t,r){var n=Bn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function _Y(e,t,r){var n=sY.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function SY(e,t,r){var n=Bn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function NY(e,t,r){var n=Bn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function kS(e,t){return Zt(e.getDate(),t,2)}function AY(e,t){return Zt(e.getHours(),t,2)}function jY(e,t){return Zt(e.getHours()%12||12,t,2)}function EY(e,t){return Zt(1+Yd.count(lo(e),e),t,3)}function PP(e,t){return Zt(e.getMilliseconds(),t,3)}function PY(e,t){return PP(e,t)+"000"}function TY(e,t){return Zt(e.getMonth()+1,t,2)}function CY(e,t){return Zt(e.getMinutes(),t,2)}function OY(e,t){return Zt(e.getSeconds(),t,2)}function kY(e){var t=e.getDay();return t===0?7:t}function LY(e,t){return Zt(Gp.count(lo(e)-1,e),t,2)}function TP(e){var t=e.getDay();return t>=4||t===0?ju(e):ju.ceil(e)}function DY(e,t){return e=TP(e),Zt(ju.count(lo(e),e)+(lo(e).getDay()===4),t,2)}function FY(e){return e.getDay()}function IY(e,t){return Zt(Om.count(lo(e)-1,e),t,2)}function MY(e,t){return Zt(e.getFullYear()%100,t,2)}function RY(e,t){return e=TP(e),Zt(e.getFullYear()%100,t,2)}function BY(e,t){return Zt(e.getFullYear()%1e4,t,4)}function UY(e,t){var r=e.getDay();return e=r>=4||r===0?ju(e):ju.ceil(e),Zt(e.getFullYear()%1e4,t,4)}function $Y(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Zt(t/60|0,"0",2)+Zt(t%60,"0",2)}function LS(e,t){return Zt(e.getUTCDate(),t,2)}function qY(e,t){return Zt(e.getUTCHours(),t,2)}function WY(e,t){return Zt(e.getUTCHours()%12||12,t,2)}function zY(e,t){return Zt(1+Vp.count(co(e),e),t,3)}function CP(e,t){return Zt(e.getUTCMilliseconds(),t,3)}function HY(e,t){return CP(e,t)+"000"}function VY(e,t){return Zt(e.getUTCMonth()+1,t,2)}function GY(e,t){return Zt(e.getUTCMinutes(),t,2)}function KY(e,t){return Zt(e.getUTCSeconds(),t,2)}function YY(e){var t=e.getUTCDay();return t===0?7:t}function XY(e,t){return Zt(Kp.count(co(e)-1,e),t,2)}function OP(e){var t=e.getUTCDay();return t>=4||t===0?Eu(e):Eu.ceil(e)}function JY(e,t){return e=OP(e),Zt(Eu.count(co(e),e)+(co(e).getUTCDay()===4),t,2)}function ZY(e){return e.getUTCDay()}function QY(e,t){return Zt(km.count(co(e)-1,e),t,2)}function eX(e,t){return Zt(e.getUTCFullYear()%100,t,2)}function tX(e,t){return e=OP(e),Zt(e.getUTCFullYear()%100,t,2)}function rX(e,t){return Zt(e.getUTCFullYear()%1e4,t,4)}function nX(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Eu(e):Eu.ceil(e),Zt(e.getUTCFullYear()%1e4,t,4)}function aX(){return"+0000"}function DS(){return"%"}function FS(e){return+e}function IS(e){return Math.floor(+e/1e3)}var Xc,kP,LP;iX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iX(e){return Xc=iY(e),kP=Xc.format,Xc.parse,LP=Xc.utcFormat,Xc.utcParse,Xc}function sX(e){return new Date(e)}function oX(e){return e instanceof Date?+e:+new Date(+e)}function p2(e,t,r,n,a,i,s,o,c,u){var f=t2(),d=f.invert,m=f.domain,h=u(".%L"),g=u(":%S"),p=u("%I:%M"),x=u("%I %p"),y=u("%a %d"),_=u("%b %d"),w=u("%B"),P=u("%Y");function E(D){return(c(D)<D?h:o(D)<D?g:s(D)<D?p:i(D)<D?x:n(D)<D?a(D)<D?y:_:r(D)<D?w:P)(D)}return f.invert=function(D){return new Date(d(D))},f.domain=function(D){return arguments.length?m(Array.from(D,oX)):m().map(sX)},f.ticks=function(D){var N=m();return e(N[0],N[N.length-1],D??10)},f.tickFormat=function(D,N){return N==null?E:u(N)},f.nice=function(D){var N=m();return(!D||typeof D.range!="function")&&(D=t(N[0],N[N.length-1],D??10)),D?m(yP(N,D)):f},f.copy=function(){return Kd(f,p2(e,t,r,n,a,i,s,o,c,u))},f}function lX(){return Ri.apply(p2(nY,aY,lo,h2,Gp,Yd,f2,c2,Bl,kP).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cX(){return Ri.apply(p2(tY,rY,co,m2,Kp,Vp,d2,u2,Bl,LP).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Yp(){var e=0,t=1,r,n,a,i,s=Ea,o=!1,c;function u(d){return d==null||isNaN(d=+d)?c:s(a===0?.5:(d=(i(d)-r)*a,o?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(o=!!d,u):o},u.interpolator=function(d){return arguments.length?(s=d,u):s};function f(d){return function(m){var h,g;return arguments.length?([h,g]=m,s=d(h,g),u):[s(0),s(1)]}}return u.range=f(Iu),u.rangeRound=f(e2),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return i=d,r=d(e),n=d(t),a=r===n?0:1/(n-r),u}}function pl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function DP(){var e=ml(Yp()(Ea));return e.copy=function(){return pl(e,DP())},mo.apply(e,arguments)}function FP(){var e=a2(Yp()).domain([1,10]);return e.copy=function(){return pl(e,FP()).base(e.base())},mo.apply(e,arguments)}function IP(){var e=i2(Yp());return e.copy=function(){return pl(e,IP()).constant(e.constant())},mo.apply(e,arguments)}function g2(){var e=s2(Yp());return e.copy=function(){return pl(e,g2()).exponent(e.exponent())},mo.apply(e,arguments)}function uX(){return g2.apply(null,arguments).exponent(.5)}function MP(){var e=[],t=Ea;function r(n){if(n!=null&&!isNaN(n=+n))return t((Vd(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Yo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>YG(e,i/n))},r.copy=function(){return MP(t).domain(e)},mo.apply(r,arguments)}function Xp(){var e=0,t=.5,r=1,n=1,a,i,s,o,c,u=Ea,f,d=!1,m;function h(p){return isNaN(p=+p)?m:(p=.5+((p=+f(p))-i)*(n*p<n*i?o:c),u(d?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t,r]=p,a=f(e=+e),i=f(t=+t),s=f(r=+r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,h):[e,t,r]},h.clamp=function(p){return arguments.length?(d=!!p,h):d},h.interpolator=function(p){return arguments.length?(u=p,h):u};function g(p){return function(x){var y,_,w;return arguments.length?([y,_,w]=x,u=_K(p,[y,_,w]),h):[u(0),u(.5),u(1)]}}return h.range=g(Iu),h.rangeRound=g(e2),h.unknown=function(p){return arguments.length?(m=p,h):m},function(p){return f=p,a=p(e),i=p(t),s=p(r),o=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,h}}function RP(){var e=ml(Xp()(Ea));return e.copy=function(){return pl(e,RP())},mo.apply(e,arguments)}function BP(){var e=a2(Xp()).domain([.1,1,10]);return e.copy=function(){return pl(e,BP()).base(e.base())},mo.apply(e,arguments)}function UP(){var e=i2(Xp());return e.copy=function(){return pl(e,UP()).constant(e.constant())},mo.apply(e,arguments)}function v2(){var e=s2(Xp());return e.copy=function(){return pl(e,v2()).exponent(e.exponent())},mo.apply(e,arguments)}function fX(){return v2.apply(null,arguments).exponent(.5)}const Wf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jy,scaleDiverging:RP,scaleDivergingLog:BP,scaleDivergingPow:v2,scaleDivergingSqrt:fX,scaleDivergingSymlog:UP,scaleIdentity:xP,scaleImplicit:ox,scaleLinear:vP,scaleLog:bP,scaleOrdinal:Xy,scalePoint:ZG,scalePow:o2,scaleQuantile:SP,scaleQuantize:NP,scaleRadial:_P,scaleSequential:DP,scaleSequentialLog:FP,scaleSequentialPow:g2,scaleSequentialQuantile:MP,scaleSequentialSqrt:uX,scaleSequentialSymlog:IP,scaleSqrt:HK,scaleSymlog:wP,scaleThreshold:AP,scaleTime:lX,scaleUtc:cX,tickFormat:gP},Symbol.toStringTag,{value:"Module"}));var gl=e=>e.chartData,x2=Fe([gl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Jp=(e,t,r,n)=>n?x2(e):gl(e);function sc(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(pa(t)&&pa(r))return!0}return!1}function MS(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function $P(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(pa(r))a=r;else if(typeof r=="function")return;if(pa(n))i=n;else if(typeof n=="function")return;var s=[a,i];if(sc(s))return s}}function dX(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(sc(n))return MS(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,s,o;if(a==="auto")t!=null&&(s=Math.min(...t));else if(At(a))s=a;else if(typeof a=="function")try{t!=null&&(s=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&P_.test(a)){var c=P_.exec(a);if(c==null||t==null)s=void 0;else{var u=+c[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(i==="auto")t!=null&&(o=Math.max(...t));else if(At(i))o=i;else if(typeof i=="function")try{t!=null&&(o=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&T_.test(i)){var f=T_.exec(i);if(f==null||t==null)o=void 0;else{var d=+f[1];o=t[1]+d}}else o=t==null?void 0:t[1];var m=[s,o];if(sc(m))return t==null?m:MS(m,t,r)}}}var Mu=1e9,hX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},b2,Or=!0,Ii="[DecimalError] ",Yl=Ii+"Invalid argument: ",y2=Ii+"Exponent out of range: ",Ru=Math.floor,Ol=Math.pow,mX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ci,Ln=1e7,Ar=7,qP=9007199254740991,Lm=Ru(qP/Ar),bt={};bt.absoluteValue=bt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};bt.comparedTo=bt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};bt.decimalPlaces=bt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ar;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};bt.dividedBy=bt.div=function(e){return ro(this,new this.constructor(e))};bt.dividedToIntegerBy=bt.idiv=function(e){var t=this,r=t.constructor;return xr(ro(t,new r(e),0,1),r.precision)};bt.equals=bt.eq=function(e){return!this.cmp(e)};bt.exponent=function(){return mn(this)};bt.greaterThan=bt.gt=function(e){return this.cmp(e)>0};bt.greaterThanOrEqualTo=bt.gte=function(e){return this.cmp(e)>=0};bt.isInteger=bt.isint=function(){return this.e>this.d.length-2};bt.isNegative=bt.isneg=function(){return this.s<0};bt.isPositive=bt.ispos=function(){return this.s>0};bt.isZero=function(){return this.s===0};bt.lessThan=bt.lt=function(e){return this.cmp(e)<0};bt.lessThanOrEqualTo=bt.lte=function(e){return this.cmp(e)<1};bt.logarithm=bt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ci))throw Error(Ii+"NaN");if(r.s<1)throw Error(Ii+(r.s?"NaN":"-Infinity"));return r.eq(ci)?new n(0):(Or=!1,t=ro(jd(r,i),jd(e,i),i),Or=!0,xr(t,a))};bt.minus=bt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?HP(t,e):WP(t,(e.s=-e.s,e))};bt.modulo=bt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Ii+"NaN");return r.s?(Or=!1,t=ro(r,e,0,1).times(e),Or=!0,r.minus(t)):xr(new n(r),a)};bt.naturalExponential=bt.exp=function(){return zP(this)};bt.naturalLogarithm=bt.ln=function(){return jd(this)};bt.negated=bt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};bt.plus=bt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?WP(t,e):HP(t,(e.s=-e.s,e))};bt.precision=bt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Yl+e);if(t=mn(a)+1,n=a.d.length-1,r=n*Ar+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};bt.squareRoot=bt.sqrt=function(){var e,t,r,n,a,i,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Ii+"NaN")}for(e=mn(o),Or=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Es(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Ru((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(ro(o,i,s+2)).times(.5),Es(i.d).slice(0,s)===(t=Es(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(xr(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return Or=!0,xr(n,r)};bt.times=bt.mul=function(e){var t,r,n,a,i,s,o,c,u,f=this,d=f.constructor,m=f.d,h=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,c=m.length,u=h.length,c<u&&(i=m,m=h,h=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)o=i[a]+h[n]*m[a-n-1]+t,i[a--]=o%Ln|0,t=o/Ln|0;i[a]=(i[a]+t)%Ln|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Or?xr(e,d.precision):e};bt.toDecimalPlaces=bt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ks(e,0,Mu),t===void 0?t=n.rounding:ks(t,0,8),xr(r,e+mn(r)+1,t))};bt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=oc(n,!0):(ks(e,0,Mu),t===void 0?t=a.rounding:ks(t,0,8),n=xr(new a(n),e+1,t),r=oc(n,!0,e+1)),r};bt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?oc(a):(ks(e,0,Mu),t===void 0?t=i.rounding:ks(t,0,8),n=xr(new i(a),e+mn(a)+1,t),r=oc(n.abs(),!1,e+mn(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};bt.toInteger=bt.toint=function(){var e=this,t=e.constructor;return xr(new t(e),mn(e)+1,t.rounding)};bt.toNumber=function(){return+this};bt.toPower=bt.pow=function(e){var t,r,n,a,i,s,o=this,c=o.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(ci);if(o=new c(o),!o.s){if(e.s<1)throw Error(Ii+"Infinity");return o}if(o.eq(ci))return o;if(n=c.precision,e.eq(ci))return xr(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=f<0?-f:f)<=qP){for(a=new c(ci),t=Math.ceil(n/Ar+4),Or=!1;r%2&&(a=a.times(o),BS(a.d,t)),r=Ru(r/2),r!==0;)o=o.times(o),BS(o.d,t);return Or=!0,e.s<0?new c(ci).div(a):xr(a,n)}}else if(i<0)throw Error(Ii+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Or=!1,a=e.times(jd(o,n+u)),Or=!0,a=zP(a),a.s=i,a};bt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=mn(a),n=oc(a,r<=i.toExpNeg||r>=i.toExpPos)):(ks(e,1,Mu),t===void 0?t=i.rounding:ks(t,0,8),a=xr(new i(a),e,t),r=mn(a),n=oc(a,e<=r||r<=i.toExpNeg,e)),n};bt.toSignificantDigits=bt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ks(e,1,Mu),t===void 0?t=n.rounding:ks(t,0,8)),xr(new n(r),e,t)};bt.toString=bt.valueOf=bt.val=bt.toJSON=bt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=mn(e),r=e.constructor;return oc(e,t<=r.toExpNeg||t>=r.toExpPos)};function WP(e,t){var r,n,a,i,s,o,c,u,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Or?xr(t,d):t;if(c=e.d,u=t.d,s=e.e,a=t.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,o=u.length):(n=u,a=s,o=c.length),s=Math.ceil(d/Ar),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=c.length,i=u.length,o-i<0&&(i=o,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Ln|0,c[i]%=Ln;for(r&&(c.unshift(r),++a),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=a,Or?xr(t,d):t}function ks(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Yl+e)}function Es(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Ar-n.length,r&&(i+=Bo(r)),i+=n;s=e[t],n=s+"",r=Ar-n.length,r&&(i+=Bo(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var ro=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Ln|0,s=i/Ln|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,c;if(i!=s)c=i>s?1:-1;else for(o=c=0;o<i;o++)if(n[o]!=a[o]){c=n[o]>a[o]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Ln+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,c,u,f,d,m,h,g,p,x,y,_,w,P,E,D,N,k,F=n.constructor,L=n.s==a.s?1:-1,A=n.d,S=a.d;if(!n.s)return new F(n);if(!a.s)throw Error(Ii+"Division by zero");for(c=n.e-a.e,N=S.length,E=A.length,h=new F(L),g=h.d=[],u=0;S[u]==(A[u]||0);)++u;if(S[u]>(A[u]||0)&&--c,i==null?_=i=F.precision:s?_=i+(mn(n)-mn(a))+1:_=i,_<0)return new F(0);if(_=_/Ar+2|0,u=0,N==1)for(f=0,S=S[0],_++;(u<E||f)&&_--;u++)w=f*Ln+(A[u]||0),g[u]=w/S|0,f=w%S|0;else{for(f=Ln/(S[0]+1)|0,f>1&&(S=e(S,f),A=e(A,f),N=S.length,E=A.length),P=N,p=A.slice(0,N),x=p.length;x<N;)p[x++]=0;k=S.slice(),k.unshift(0),D=S[0],S[1]>=Ln/2&&++D;do f=0,o=t(S,p,N,x),o<0?(y=p[0],N!=x&&(y=y*Ln+(p[1]||0)),f=y/D|0,f>1?(f>=Ln&&(f=Ln-1),d=e(S,f),m=d.length,x=p.length,o=t(d,p,m,x),o==1&&(f--,r(d,N<m?k:S,m))):(f==0&&(o=f=1),d=S.slice()),m=d.length,m<x&&d.unshift(0),r(p,d,x),o==-1&&(x=p.length,o=t(S,p,N,x),o<1&&(f++,r(p,N<x?k:S,x))),x=p.length):o===0&&(f++,p=[0]),g[u++]=f,o&&p[0]?p[x++]=A[P]||0:(p=[A[P]],x=1);while((P++<E||p[0]!==void 0)&&_--)}return g[0]||g.shift(),h.e=c,xr(h,s?i+mn(h)+1:i)}}();function zP(e,t){var r,n,a,i,s,o,c=0,u=0,f=e.constructor,d=f.precision;if(mn(e)>16)throw Error(y2+mn(e));if(!e.s)return new f(ci);for(t==null?(Or=!1,o=d):o=t,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(n=Math.log(Ol(2,u))/Math.LN10*2+5|0,o+=n,r=a=i=new f(ci),f.precision=o;;){if(a=xr(a.times(e),o),r=r.times(++c),s=i.plus(ro(a,r,o)),Es(s.d).slice(0,o)===Es(i.d).slice(0,o)){for(;u--;)i=xr(i.times(i),o);return f.precision=d,t==null?(Or=!0,xr(i,d)):i}i=s}}function mn(e){for(var t=e.e*Ar,r=e.d[0];r>=10;r/=10)t++;return t}function Y1(e,t,r){if(t>e.LN10.sd())throw Or=!0,r&&(e.precision=r),Error(Ii+"LN10 precision limit exceeded");return xr(new e(e.LN10),t)}function Bo(e){for(var t="";e--;)t+="0";return t}function jd(e,t){var r,n,a,i,s,o,c,u,f,d=1,m=10,h=e,g=h.d,p=h.constructor,x=p.precision;if(h.s<1)throw Error(Ii+(h.s?"NaN":"-Infinity"));if(h.eq(ci))return new p(0);if(t==null?(Or=!1,u=x):u=t,h.eq(10))return t==null&&(Or=!0),Y1(p,u);if(u+=m,p.precision=u,r=Es(g),n=r.charAt(0),i=mn(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=Es(h.d),n=r.charAt(0),d++;i=mn(h),n>1?(h=new p("0."+r),i++):h=new p(n+"."+r.slice(1))}else return c=Y1(p,u+2,x).times(i+""),h=jd(new p(n+"."+r.slice(1)),u-m).plus(c),p.precision=x,t==null?(Or=!0,xr(h,x)):h;for(o=s=h=ro(h.minus(ci),h.plus(ci),u),f=xr(h.times(h),u),a=3;;){if(s=xr(s.times(f),u),c=o.plus(ro(s,new p(a),u)),Es(c.d).slice(0,u)===Es(o.d).slice(0,u))return o=o.times(2),i!==0&&(o=o.plus(Y1(p,u+2,x).times(i+""))),o=ro(o,new p(d),u),p.precision=x,t==null?(Or=!0,xr(o,x)):o;o=c,a+=2}}function RS(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Ru(r/Ar),e.d=[],n=(r+1)%Ar,r<0&&(n+=Ar),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ar;n<a;)e.d.push(+t.slice(n,n+=Ar));t=t.slice(n),n=Ar-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Or&&(e.e>Lm||e.e<-Lm))throw Error(y2+r)}else e.s=0,e.e=0,e.d=[0];return e}function xr(e,t,r){var n,a,i,s,o,c,u,f,d=e.d;for(s=1,i=d[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Ar,a=t,u=d[f=0];else{if(f=Math.ceil((n+1)/Ar),i=d.length,f>=i)return e;for(u=i=d[f],s=1;i>=10;i/=10)s++;n%=Ar,a=n-Ar+s}if(r!==void 0&&(i=Ol(10,s-a-1),o=u/i%10|0,c=t<0||d[f+1]!==void 0||u%i,c=r<4?(o||c)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?a>0?u/Ol(10,s-a):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(i=mn(e),d.length=1,t=t-i-1,d[0]=Ol(10,(Ar-t%Ar)%Ar),e.e=Ru(-t/Ar)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,i=1,f--):(d.length=f+1,i=Ol(10,Ar-n),d[f]=a>0?(u/Ol(10,s-a)%Ol(10,a)|0)*i:0),c)for(;;)if(f==0){(d[0]+=i)==Ln&&(d[0]=1,++e.e);break}else{if(d[f]+=i,d[f]!=Ln)break;d[f--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(Or&&(e.e>Lm||e.e<-Lm))throw Error(y2+mn(e));return e}function HP(e,t){var r,n,a,i,s,o,c,u,f,d,m=e.constructor,h=m.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new m(e),Or?xr(t,h):t;if(c=e.d,d=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n,s){for(f=s<0,f?(r=c,s=-s,o=d.length):(r=d,n=u,o=c.length),a=Math.max(Math.ceil(h/Ar),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,o=d.length,f=a<o,f&&(o=a),a=0;a<o;a++)if(c[a]!=d[a]){f=c[a]<d[a];break}s=0}for(f&&(r=c,c=d,d=r,t.s=-t.s),o=c.length,a=d.length-o;a>0;--a)c[o++]=0;for(a=d.length;a>s;){if(c[--a]<d[a]){for(i=a;i&&c[--i]===0;)c[i]=Ln-1;--c[i],c[a]+=Ln}c[a]-=d[a]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Or?xr(t,h):t):new m(0)}function oc(e,t,r){var n,a=mn(e),i=Es(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Bo(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Bo(-a-1)+i,r&&(n=r-s)>0&&(i+=Bo(n))):a>=s?(i+=Bo(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Bo(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Bo(n))),e.s<0?"-"+i:i}function BS(e,t){if(e.length>t)return e.length=t,!0}function VP(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Yl+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return RS(s,i.toString())}else if(typeof i!="string")throw Error(Yl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,mX.test(i))RS(s,i);else throw Error(Yl+i)}if(a.prototype=bt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=VP,a.config=a.set=pX,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function pX(e){if(!e||typeof e!="object")throw Error(Ii+"Object expected");var t,r,n,a=["precision",1,Mu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Ru(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Yl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Yl+r+": "+n);return this}var b2=VP(hX);ci=new b2(1);const cr=b2;var gX=e=>e,GP={"@@functional/placeholder":!0},KP=e=>e===GP,US=e=>function t(){return arguments.length===0||arguments.length===1&&KP(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},YP=(e,t)=>e===1?t:US(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(s=>s!==GP).length;return i>=e?t(...n):YP(e-i,US(function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];var u=n.map(f=>KP(f)?o.shift():f);return t(...u,...o)}))}),Zp=e=>YP(e.length,e),fx=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},vX=Zp((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),xX=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return gX;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce((o,c)=>c(o),i(...arguments))}},dx=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),XP=e=>{var t=null,r=null;return function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return t&&a.every((s,o)=>{var c;return s===((c=t)===null||c===void 0?void 0:c[o])})||(t=a,r=e(...a)),r}};function JP(e){var t;return e===0?t=1:t=Math.floor(new cr(e).abs().log(10).toNumber())+1,t}function ZP(e,t,r){for(var n=new cr(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}Zp((e,t,r)=>{var n=+e,a=+t;return n+r*(a-n)});Zp((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Zp((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var QP=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},e6=(e,t,r)=>{if(e.lte(0))return new cr(0);var n=JP(e.toNumber()),a=new cr(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new cr(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=o.mul(a);return t?new cr(c.toNumber()):new cr(Math.ceil(c.toNumber()))},yX=(e,t,r)=>{var n=new cr(1),a=new cr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new cr(10).pow(JP(e)-1),a=new cr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new cr(Math.floor(e)))}else e===0?a=new cr(Math.floor((t-1)/2)):r||(a=new cr(Math.floor(e)));var s=Math.floor((t-1)/2),o=xX(vX(c=>a.add(new cr(c-s).mul(n)).toNumber()),fx);return o(0,t)},t6=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new cr(0),tickMin:new cr(0),tickMax:new cr(0)};var s=e6(new cr(r).sub(t).div(n-1),a,i),o;t<=0&&r>=0?o=new cr(0):(o=new cr(t).add(r).div(2),o=o.sub(new cr(o).mod(s)));var c=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new cr(r).sub(o).div(s).toNumber()),f=c+u+1;return f>n?t6(t,r,n,a,i+1):(f<n&&(u=r>0?u+(n-f):u,c=r>0?c:c+(n-f)),{step:s,tickMin:o.sub(new cr(c).mul(s)),tickMax:o.add(new cr(u).mul(s))})};function bX(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[s,o]=QP([t,r]);if(s===-1/0||o===1/0){var c=o===1/0?[s,...fx(0,n-1).map(()=>1/0)]:[...fx(0,n-1).map(()=>-1/0),o];return t>r?dx(c):c}if(s===o)return yX(s,n,a);var{step:u,tickMin:f,tickMax:d}=t6(s,o,i,a,0),m=ZP(f,d.add(new cr(.1).mul(u)),u);return t>r?dx(m):m}function wX(e,t){var[r,n]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,s]=QP([r,n]);if(i===-1/0||s===1/0)return[r,n];if(i===s)return[i];var o=Math.max(t,2),c=e6(new cr(s).sub(i).div(o-1),a,0),u=[...ZP(new cr(i),new cr(s),c),s];return a===!1&&(u=u.map(f=>Math.round(f))),r>n?dx(u):u}var _X=XP(bX),SX=XP(wX),r6=e=>e.rootProps.maxBarSize,NX=e=>e.rootProps.barGap,n6=e=>e.rootProps.barCategoryGap,AX=e=>e.rootProps.barSize,Xd=e=>e.rootProps.stackOffset,w2=e=>e.options.chartName,_2=e=>e.rootProps.syncId,a6=e=>e.rootProps.syncMethod,S2=e=>e.options.eventEmitter,Gs={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},ai={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Qp=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},jX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Gs.angleAxisId,includeHidden:!1,name:void 0,reversed:Gs.reversed,scale:Gs.scale,tick:Gs.tick,tickCount:void 0,ticks:void 0,type:Gs.type,unit:void 0},EX={allowDataOverflow:ai.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ai.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ai.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ai.scale,tick:ai.tick,tickCount:ai.tickCount,ticks:void 0,type:ai.type,unit:void 0},PX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Gs.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Gs.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Gs.scale,tick:Gs.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},TX={allowDataOverflow:ai.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ai.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ai.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ai.scale,tick:ai.tick,tickCount:ai.tickCount,ticks:void 0,type:"category",unit:void 0},N2=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?PX:jX,A2=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?TX:EX,eg=e=>e.polarOptions,j2=Fe([fo,ho,Nn],OE),i6=Fe([eg,j2],(e,t)=>{if(e!=null)return ma(e.innerRadius,t,0)}),s6=Fe([eg,j2],(e,t)=>{if(e!=null)return ma(e.outerRadius,t,t*.8)}),CX=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},o6=Fe([eg],CX);Fe([N2,o6],Qp);var l6=Fe([j2,i6,s6],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});Fe([A2,l6],Qp);var c6=Fe([Vt,eg,i6,s6,fo,ho],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:s,cy:o,startAngle:c,endAngle:u}=t;return{cx:ma(s,a,a/2),cy:ma(o,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Dr=(e,t)=>t,Jd=(e,t,r)=>r;function E2(e){return e==null?void 0:e.id}var jn=e=>{var t=Vt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Bu=e=>e.tooltip.settings.axisId,En=e=>{var t=jn(e),r=Bu(e);return Zd(e,t,r)},u6=Fe([En],e=>e==null?void 0:e.dataKey);function f6(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,s=new Map;return e.forEach(o=>{var c,u=(c=o.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var f=E2(o);u.forEach((d,m)=>{var h=i==null||a?m:String(Nr(d,i,null)),g=Nr(d,o.dataKey,0),p;s.has(h)?p=s.get(h):p={},Object.assign(p,{[f]:g}),s.set(h,p)})}}),Array.from(s.values())}function tg(e){return e.stackId!=null&&e.dataKey!=null}var rg=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function ng(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function $S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$S(Object(r),!0).forEach(function(n){OX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OX(e,t,r){return(t=kX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kX(e){var t=LX(e,"string");return typeof t=="symbol"?t:t+""}function LX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hx=[0,"auto"],ei={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},d6=(e,t)=>e.cartesianAxis.xAxis[t],po=(e,t)=>{var r=d6(e,t);return r??ei},ti={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:hx,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Wd},h6=(e,t)=>e.cartesianAxis.yAxis[t],go=(e,t)=>{var r=h6(e,t);return r??ti},DX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},P2=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??DX},Rr=(e,t,r)=>{switch(t){case"xAxis":return po(e,r);case"yAxis":return go(e,r);case"zAxis":return P2(e,r);case"angleAxis":return N2(e,r);case"radiusAxis":return A2(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},FX=(e,t,r)=>{switch(t){case"xAxis":return po(e,r);case"yAxis":return go(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Zd=(e,t,r)=>{switch(t){case"xAxis":return po(e,r);case"yAxis":return go(e,r);case"angleAxis":return N2(e,r);case"radiusAxis":return A2(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},m6=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function T2(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var ag=e=>e.graphicalItems.cartesianItems,IX=Fe([Dr,Jd],T2),C2=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Qd=Fe([ag,Rr,IX],C2,{memoizeOptions:{resultEqualityCheck:ng}}),p6=Fe([Qd],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(tg)),g6=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),MX=Fe([Qd],g6),O2=e=>e.map(t=>t.data).filter(Boolean).flat(1),RX=Fe([Qd],O2,{memoizeOptions:{resultEqualityCheck:ng}}),k2=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},L2=Fe([RX,Jp],k2),D2=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Nr(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:Nr(a,n)}))):e.map(n=>({value:n})),ig=Fe([L2,Rr,Qd],D2);function v6(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Oh(e){if(Os(e)||e instanceof Date){var t=Number(e);if(pa(t))return t}}function qS(e){if(Array.isArray(e)){var t=[Oh(e[0]),Oh(e[1])];return sc(t)?t:void 0}var r=Oh(e);if(r!=null)return[r,r]}function Uu(e){return e.map(Oh).filter(aG)}function BX(e,t,r){return!r||typeof t!="number"||Di(t)?[]:r.length?Uu(r.flatMap(n=>{var a=Nr(e,n.dataKey),i,s;if(Array.isArray(a)?[i,s]=a:i=s=a,!(!pa(i)||!pa(s)))return[t-i,t+s]})):[]}var UX=Fe([p6,Jp,En],f6),x6=(e,t,r)=>{var n={},a=t.reduce((i,s)=>(s.stackId==null||(i[s.stackId]==null&&(i[s.stackId]=[]),i[s.stackId].push(s)),i),n);return Object.fromEntries(Object.entries(a).map(i=>{var[s,o]=i,c=o.map(E2);return[s,{stackedData:OH(e,c,r),graphicalItems:o}]}))},mx=Fe([UX,p6,Xd],x6),y6=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var s=IH(e,a,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},$X=Fe([Rr],e=>e.allowDataOverflow),F2=e=>{var t;if(e==null||!("domain"in e))return hx;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Uu(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:hx},I2=Fe([Rr],F2),M2=Fe([I2,$X],$P),qX=Fe([mx,gl,Dr,M2],y6,{memoizeOptions:{resultEqualityCheck:rg}}),sg=e=>e.errorBars,WX=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>v6(r,n)),Fm=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),s=Math.min(...i),o=Math.max(...i);return[s,o]}},R2=(e,t,r,n,a)=>{var i,s;if(r.length>0&&e.forEach(o=>{r.forEach(c=>{var u,f,d=(u=n[c.id])===null||u===void 0?void 0:u.filter(y=>v6(a,y)),m=Nr(o,(f=t.dataKey)!==null&&f!==void 0?f:c.dataKey),h=BX(o,m,d);if(h.length>=2){var g=Math.min(...h),p=Math.max(...h);(i==null||g<i)&&(i=g),(s==null||p>s)&&(s=p)}var x=qS(m);x!=null&&(i=i==null?x[0]:Math.min(i,x[0]),s=s==null?x[1]:Math.max(s,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var c=qS(Nr(o,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),pa(i)&&pa(s))return[i,s]},zX=Fe([L2,Rr,MX,sg,Dr],R2,{memoizeOptions:{resultEqualityCheck:rg}});function HX(e){var{value:t}=e;if(Os(t)||t instanceof Date)return t}var VX=(e,t,r)=>{var n=e.map(HX).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&jj(n))?sP(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},b6=e=>e.referenceElements.dots,$u=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),GX=Fe([b6,Dr,Jd],$u),w6=e=>e.referenceElements.areas,KX=Fe([w6,Dr,Jd],$u),_6=e=>e.referenceElements.lines,YX=Fe([_6,Dr,Jd],$u),S6=(e,t)=>{var r=Uu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},XX=Fe(GX,Dr,S6),N6=(e,t)=>{var r=Uu(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},JX=Fe([KX,Dr],N6),A6=(e,t)=>{var r=Uu(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},ZX=Fe(YX,Dr,A6),QX=Fe(XX,ZX,JX,(e,t,r)=>Fm(e,r,t)),B2=(e,t,r,n,a,i,s,o)=>{if(r!=null)return r;var c=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=c?Fm(n,i,a):Fm(i,a);return dX(t,u,e.allowDataOverflow)},eJ=Fe([Rr,I2,M2,qX,zX,QX,Vt,Dr],B2,{memoizeOptions:{resultEqualityCheck:rg}}),tJ=[0,1],U2=(e,t,r,n,a,i,s)=>{if(!((e==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:c}=e,u=dl(t,i);return u&&o==null?sP(0,r.length):c==="category"?VX(n,e,u):a==="expand"?tJ:s}},$2=Fe([Rr,Vt,L2,ig,Xd,Dr,eJ],U2),j6=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:s}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":s==="category"?"band":"linear";if(typeof i=="string"){var o="scale".concat(Bd(i));return o in Wf?o:"point"}}},qu=Fe([Rr,Vt,m6,w2,Dr],j6);function rJ(e){if(e!=null){if(e in Wf)return Wf[e]();var t="scale".concat(Bd(e));if(t in Wf)return Wf[t]()}}function q2(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=rJ(t);if(a!=null){var i=a.domain(r).range(n);return jH(i),i}}}var W2=(e,t,r)=>{var n=F2(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&sc(e))return _X(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&sc(e))return SX(e,t.tickCount,t.allowDecimals)}},z2=Fe([$2,Zd,qu],W2),H2=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&sc(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],s=t[1],o=r[r.length-1];return[Math.min(a,i),Math.max(s,o)]}return t},nJ=Fe([Rr,$2,z2,Dr],H2),aJ=Fe(ig,Rr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Uu(e.map(o=>o.value))).sort((o,c)=>o-c);if(n.length<2)return 1/0;var a=n[n.length-1]-n[0];if(a===0)return 1/0;for(var i=0;i<n.length-1;i++){var s=n[i+1]-n[i];r=Math.min(r,s)}return r/a}}),E6=Fe(aJ,Vt,n6,Nn,(e,t,r,n)=>n,(e,t,r,n,a)=>{if(!pa(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var s=ma(r,e*i),o=e*i/2;return o-s-(o-s)/i*s}return 0}),iJ=(e,t)=>{var r=po(e,t);return r==null||typeof r.padding!="string"?0:E6(e,"xAxis",t,r.padding)},sJ=(e,t)=>{var r=go(e,t);return r==null||typeof r.padding!="string"?0:E6(e,"yAxis",t,r.padding)},oJ=Fe(po,iJ,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),lJ=Fe(go,sJ,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),cJ=Fe([Nn,oJ,$p,Up,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),uJ=Fe([Nn,Vt,lJ,$p,Up,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:s}=a;return i?[n.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),e0=(e,t,r,n)=>{var a;switch(t){case"xAxis":return cJ(e,r,n);case"yAxis":return uJ(e,r,n);case"zAxis":return(a=P2(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return o6(e);case"radiusAxis":return l6(e,r);default:return}},P6=Fe([Rr,e0],Qp),Wu=Fe([Rr,qu,nJ,P6],q2);Fe([Qd,sg,Dr],WX);function T6(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var og=(e,t)=>t,lg=(e,t,r)=>r,fJ=Fe(Rp,og,lg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(T6)),dJ=Fe(Bp,og,lg,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(T6)),C6=(e,t)=>({width:e.width,height:t.height}),hJ=(e,t)=>{var r=typeof t.width=="number"?t.width:Wd;return{width:r,height:e.height}},O6=Fe(Nn,po,C6),mJ=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},pJ=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},gJ=Fe(ho,Nn,fJ,og,lg,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var c=C6(t,o);s==null&&(s=mJ(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[o.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),i}),vJ=Fe(fo,Nn,dJ,og,lg,(e,t,r,n,a)=>{var i={},s;return r.forEach(o=>{var c=hJ(t,o);s==null&&(s=pJ(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[o.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),i}),xJ=(e,t)=>{var r=po(e,t);if(r!=null)return gJ(e,r.orientation,r.mirror)},yJ=Fe([Nn,po,xJ,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),bJ=(e,t)=>{var r=go(e,t);if(r!=null)return vJ(e,r.orientation,r.mirror)},wJ=Fe([Nn,go,bJ,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),k6=Fe(Nn,go,(e,t)=>{var r=typeof t.width=="number"?t.width:Wd;return{width:r,height:e.height}}),WS=(e,t,r)=>{switch(t){case"xAxis":return O6(e,r).width;case"yAxis":return k6(e,r).height;default:return}},L6=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:s}=r,o=dl(e,n),c=t.map(u=>u.value);if(s&&o&&i==="category"&&a&&jj(c))return c}},V2=Fe([Vt,ig,Rr,Dr],L6),D6=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,s=dl(e,n);if(s&&(a==="number"||i!=="auto"))return t.map(o=>o.value)}},G2=Fe([Vt,ig,Zd,Dr],D6),zS=Fe([Vt,FX,qu,Wu,V2,G2,e0,z2,Dr],(e,t,r,n,a,i,s,o,c)=>{if(t==null)return null;var u=dl(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:o,range:s,realScaleType:r,scale:n}}),_J=(e,t,r,n,a,i,s,o,c)=>{if(!(t==null||n==null)){var u=dl(e,c),{type:f,ticks:d,tickCount:m}=t,h=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=f==="category"&&n.bandwidth?n.bandwidth()/h:0;g=c==="angleAxis"&&i!=null&&i.length>=2?Mn(i[0]-i[1])*2*g:g;var p=d||a;if(p){var x=p.map((y,_)=>{var w=s?s.indexOf(y):y;return{index:_,coordinate:n(w)+g,value:y,offset:g}});return x.filter(y=>!Di(y.coordinate))}return u&&o?o.map((y,_)=>({coordinate:n(y)+g,value:y,index:_,offset:g})):n.ticks?n.ticks(m).map(y=>({coordinate:n(y)+g,value:y,offset:g})):n.domain().map((y,_)=>({coordinate:n(y)+g,value:s?s[y]:y,index:_,offset:g}))}},F6=Fe([Vt,Zd,qu,Wu,z2,e0,V2,G2,Dr],_J),SJ=(e,t,r,n,a,i,s)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var o=dl(e,s),{tickCount:c}=t,u=0;return u=s==="angleAxis"&&(n==null?void 0:n.length)>=2?Mn(n[0]-n[1])*2*u:u,o&&i?i.map((f,d)=>({coordinate:r(f)+u,value:f,index:d,offset:u})):r.ticks?r.ticks(c).map(f=>({coordinate:r(f)+u,value:f,offset:u})):r.domain().map((f,d)=>({coordinate:r(f)+u,value:a?a[f]:f,index:d,offset:u}))}},il=Fe([Vt,Zd,Wu,e0,V2,G2,Dr],SJ),sl=Fe(Rr,Wu,(e,t)=>{if(!(e==null||t==null))return Dm(Dm({},e),{},{scale:t})}),NJ=Fe([Rr,qu,$2,P6],q2);Fe((e,t,r)=>P2(e,r),NJ,(e,t)=>{if(!(e==null||t==null))return Dm(Dm({},e),{},{scale:t})});var AJ=Fe([Vt,Rp,Bp],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),I6=e=>e.options.defaultTooltipEventType,M6=e=>e.options.validateTooltipEventTypes;function R6(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function K2(e,t){var r=I6(e),n=M6(e);return R6(t,r,n)}function jJ(e){return _t(t=>K2(t,e))}var B6=(e,t)=>{var r,n=Number(t);if(!(Di(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},EJ=e=>e.tooltip.settings,Wo={active:!1,index:null,dataKey:void 0,coordinate:void 0},PJ={itemInteraction:{click:Wo,hover:Wo},axisInteraction:{click:Wo,hover:Wo},keyboardInteraction:Wo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},U6=pi({name:"tooltip",initialState:PJ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Aa()},removeTooltipEntrySettings:{reducer(e,t){var r=to(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Aa()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:TJ,removeTooltipEntrySettings:CJ,setTooltipSettingsState:OJ,setActiveMouseOverItemIndex:$6,mouseLeaveItem:kJ,mouseLeaveChart:q6,setActiveClickItemIndex:LJ,setMouseOverAxisIndex:W6,setMouseClickAxisIndex:DJ,setSyncInteraction:px,setKeyboardInteraction:gx}=U6.actions,FJ=U6.reducer;function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){IJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IJ(e,t,r){return(t=MJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MJ(e){var t=RJ(e,"string");return typeof t=="symbol"?t:t+""}function RJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BJ(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function UJ(e){return e.index!=null}var z6=(e,t,r,n)=>{if(t==null)return Wo;var a=BJ(e,t,r);if(a==null)return Wo;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(UJ(a)){if(i)return bh(bh({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return bh(bh({},Wo),{},{coordinate:a.coordinate})},Y2=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!pa(n))return r;var a=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(a,Math.min(n,i)))},H6=(e,t,r,n,a,i,s,o)=>{if(!(i==null||o==null)){var c=s[0],u=c==null?void 0:o(c.positions,i);if(u!=null)return u;var f=a==null?void 0:a[Number(i)];if(f)switch(r){case"horizontal":return{x:f.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:f.coordinate}}}},V6=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;return r==="hover"?a=e.itemInteraction.hover.dataKey:a=e.itemInteraction.click.dataKey,a==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var s;return((s=i.settings)===null||s===void 0?void 0:s.dataKey)===a})},t0=e=>e.options.tooltipPayloadSearcher,zu=e=>e.tooltip;function VS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function GS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VS(Object(r),!0).forEach(function(n){$J(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $J(e,t,r){return(t=qJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qJ(e){var t=WJ(e,"string");return typeof t=="symbol"?t:t+""}function WJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zJ(e,t){return e??t}var G6=(e,t,r,n,a,i,s)=>{if(!(t==null||i==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:f}=r,d=[];return e.reduce((m,h)=>{var g,{dataDefinedOnItem:p,settings:x}=h,y=zJ(p,o),_=Array.isArray(y)?kE(y,u,f):y,w=(g=x==null?void 0:x.dataKey)!==null&&g!==void 0?g:n,P=x==null?void 0:x.nameKey,E;if(n&&Array.isArray(_)&&!Array.isArray(_[0])&&s==="axis"?E=Ej(_,n,a):E=i(_,t,c,P),Array.isArray(E))E.forEach(N=>{var k=GS(GS({},x),{},{name:N.name,unit:N.unit,color:void 0,fill:void 0});m.push(C_({tooltipEntrySettings:k,dataKey:N.dataKey,payload:N.payload,value:Nr(N.payload,N.dataKey),name:N.name}))});else{var D;m.push(C_({tooltipEntrySettings:x,dataKey:w,payload:E,value:Nr(E,w),name:(D=Nr(E,P))!==null&&D!==void 0?D:x==null?void 0:x.name}))}return m},d)}},X2=Fe([En,Vt,m6,w2,jn],j6),HJ=Fe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),VJ=Fe([jn,Bu],T2),r0=Fe([HJ,En,VJ],C2,{memoizeOptions:{resultEqualityCheck:ng}}),GJ=Fe([r0],e=>e.filter(tg)),KJ=Fe([r0],O2,{memoizeOptions:{resultEqualityCheck:ng}}),Hu=Fe([KJ,gl],k2),YJ=Fe([GJ,gl,En],f6),J2=Fe([Hu,En,r0],D2),K6=Fe([En],F2),XJ=Fe([En],e=>e.allowDataOverflow),Y6=Fe([K6,XJ],$P),JJ=Fe([r0],e=>e.filter(tg)),ZJ=Fe([YJ,JJ,Xd],x6),QJ=Fe([ZJ,gl,jn,Y6],y6),eZ=Fe([r0],g6),tZ=Fe([Hu,En,eZ,sg,jn],R2,{memoizeOptions:{resultEqualityCheck:rg}}),rZ=Fe([b6,jn,Bu],$u),nZ=Fe([rZ,jn],S6),aZ=Fe([w6,jn,Bu],$u),iZ=Fe([aZ,jn],N6),sZ=Fe([_6,jn,Bu],$u),oZ=Fe([sZ,jn],A6),lZ=Fe([nZ,oZ,iZ],Fm),cZ=Fe([En,K6,Y6,QJ,tZ,lZ,Vt,jn],B2),X6=Fe([En,Vt,Hu,J2,Xd,jn,cZ],U2),uZ=Fe([X6,En,X2],W2),fZ=Fe([En,X6,uZ,jn],H2),J6=e=>{var t=jn(e),r=Bu(e),n=!1;return e0(e,t,r,n)},Z6=Fe([En,J6],Qp),Q6=Fe([En,X2,fZ,Z6],q2),dZ=Fe([Vt,J2,En,jn],L6),hZ=Fe([Vt,J2,En,jn],D6),mZ=(e,t,r,n,a,i,s,o)=>{if(t){var{type:c}=t,u=dl(e,o);if(n){var f=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,d=c==="category"&&n.bandwidth?n.bandwidth()/f:0;return d=o==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Mn(a[0]-a[1])*2*d:d,u&&s?s.map((m,h)=>({coordinate:n(m)+d,value:m,index:h,offset:d})):n.domain().map((m,h)=>({coordinate:n(m)+d,value:i?i[m]:m,index:h,offset:d}))}}},vo=Fe([Vt,En,X2,Q6,J6,dZ,hZ,jn],mZ),Z2=Fe([I6,M6,EJ],(e,t,r)=>R6(r.shared,e,t)),eT=e=>e.tooltip.settings.trigger,Q2=e=>e.tooltip.settings.defaultIndex,cg=Fe([zu,Z2,eT,Q2],z6),ol=Fe([cg,Hu],Y2),tT=Fe([vo,ol],B6),rT=Fe([cg],e=>{if(e)return e.dataKey}),nT=Fe([zu,Z2,eT,Q2],V6),pZ=Fe([fo,ho,Vt,Nn,vo,Q2,nT,t0],H6),gZ=Fe([cg,pZ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),vZ=Fe([cg],e=>e.active),xZ=Fe([nT,ol,gl,u6,tT,t0,Z2],G6),yZ=Fe([xZ],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function KS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KS(Object(r),!0).forEach(function(n){bZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bZ(e,t,r){return(t=wZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wZ(e){var t=_Z(e,"string");return typeof t=="symbol"?t:t+""}function _Z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SZ=()=>_t(En),NZ=()=>{var e=SZ(),t=_t(vo),r=_t(Q6);return bd(YS(YS({},e),{},{scale:r}),t)},AZ=()=>_t(w2),eb=(e,t)=>t,aT=(e,t,r)=>r,tb=(e,t,r,n)=>n,jZ=Fe(vo,e=>kp(e,t=>t.coordinate)),rb=Fe([zu,eb,aT,tb],z6),iT=Fe([rb,Hu],Y2),EZ=(e,t,r)=>{if(t!=null){var n=zu(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},sT=Fe([zu,eb,aT,tb],V6),Im=Fe([fo,ho,Vt,Nn,vo,tb,sT,t0],H6),PZ=Fe([rb,Im],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),oT=Fe(vo,iT,B6),TZ=Fe([sT,iT,gl,u6,oT,t0,eb],G6),CZ=Fe([rb],e=>({isActive:e.active,activeIndex:e.index})),OZ=(e,t,r,n,a,i,s,o)=>{if(!(!e||!t||!n||!a||!i)){var c=MH(e.chartX,e.chartY,t,r,o);if(c){var u=BH(c,t),f=NH(u,s,i,n,a),d=RH(t,i,f,c);return{activeIndex:String(f),activeCoordinate:d}}}};function vx(){return vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vx.apply(null,arguments)}function XS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XS(Object(r),!0).forEach(function(n){kZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kZ(e,t,r){return(t=LZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LZ(e){var t=DZ(e,"string");return typeof t=="symbol"?t:t+""}function DZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FZ(e){var{coordinate:t,payload:r,index:n,offset:a,tooltipAxisBandSize:i,layout:s,cursor:o,tooltipEventType:c,chartName:u}=e,f=t,d=r,m=n;if(!o||!f||u!=="ScatterChart"&&c!=="axis")return null;var h,g;if(u==="ScatterChart")h=f,g=JV;else if(u==="BarChart")h=ZV(s,f,a,i),g=QE;else if(s==="radial"){var{cx:p,cy:x,radius:y,startAngle:_,endAngle:w}=eP(f);h={cx:p,cy:x,startAngle:_,endAngle:w,innerRadius:y,outerRadius:y},g=rP}else h={points:FG(s,f,a)},g=Ky;var P=typeof o=="object"&&"className"in o?o.className:void 0,E=wh(wh(wh(wh({stroke:"#ccc",pointerEvents:"none"},a),h),rc(o)),{},{payload:d,payloadIndex:m,className:Jt("recharts-tooltip-cursor",P)});return T.isValidElement(o)?T.cloneElement(o,E):T.createElement(g,E)}function IZ(e){var t=NZ(),r=zE(),n=Wp(),a=AZ();return T.createElement(FZ,vx({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var lT=T.createContext(null),MZ=()=>T.useContext(lT),cT={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function i(c,u,f,d,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var h=new a(f,d||c,m),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],h]:c._events[g].push(h):(c._events[g]=h,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},o.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var m=0,h=d.length,g=new Array(h);m<h;m++)g[m]=d[m].fn;return g},o.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},o.prototype.emit=function(u,f,d,m,h,g){var p=r?r+u:u;if(!this._events[p])return!1;var x=this._events[p],y=arguments.length,_,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,d),!0;case 4:return x.fn.call(x.context,f,d,m),!0;case 5:return x.fn.call(x.context,f,d,m,h),!0;case 6:return x.fn.call(x.context,f,d,m,h,g),!0}for(w=1,_=new Array(y-1);w<y;w++)_[w-1]=arguments[w];x.fn.apply(x.context,_)}else{var P=x.length,E;for(w=0;w<P;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),y){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,f);break;case 3:x[w].fn.call(x[w].context,f,d);break;case 4:x[w].fn.call(x[w].context,f,d,m);break;default:if(!_)for(E=1,_=new Array(y-1);E<y;E++)_[E-1]=arguments[E];x[w].fn.apply(x[w].context,_)}}return!0},o.prototype.on=function(u,f,d){return i(this,u,f,d,!1)},o.prototype.once=function(u,f,d){return i(this,u,f,d,!0)},o.prototype.removeListener=function(u,f,d,m){var h=r?r+u:u;if(!this._events[h])return this;if(!f)return s(this,h),this;var g=this._events[h];if(g.fn)g.fn===f&&(!m||g.once)&&(!d||g.context===d)&&s(this,h);else{for(var p=0,x=[],y=g.length;p<y;p++)(g[p].fn!==f||m&&!g[p].once||d&&g[p].context!==d)&&x.push(g[p]);x.length?this._events[h]=x.length===1?x[0]:x:s(this,h)}return this},o.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&s(this,f)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(cT);var RZ=cT.exports;const BZ=ul(RZ);var Ed=new BZ,xx="recharts.syncEvent.tooltip",JS="recharts.syncEvent.brush";function nb(e,t){if(t){var r=Number.parseInt(t,10);if(!Di(r))return e==null?void 0:e[r]}}var UZ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},uT=pi({name:"options",initialState:UZ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),$Z=uT.reducer,{createEventEmitter:qZ}=uT.actions;function WZ(e){return e.tooltip.syncInteraction}var zZ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},fT=pi({name:"chartData",initialState:zZ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:ZS,setDataStartEndIndexes:HZ,setComputedData:jse}=fT.actions,VZ=fT.reducer,GZ=["x","y"];function QS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(r),!0).forEach(function(n){KZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KZ(e,t,r){return(t=YZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YZ(e){var t=XZ(e,"string");return typeof t=="symbol"?t:t+""}function XZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JZ(e,t){if(e==null)return{};var r,n,a=ZZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ZZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dT=()=>{};function QZ(){var e=_t(_2),t=_t(S2),r=Lr(),n=_t(a6),a=_t(vo),i=Wp(),s=qp(),o=_t(c=>c.rootProps.className);T.useEffect(()=>{if(e==null)return dT;var c=(u,f,d)=>{if(t!==d&&e===u){if(n==="index"){var m;if(s&&f!==null&&f!==void 0&&(m=f.payload)!==null&&m!==void 0&&m.coordinate&&f.payload.sourceViewBox){var h=f.payload.coordinate,{x:g,y:p}=h,x=JZ(h,GZ),{x:y,y:_,width:w,height:P}=f.payload.sourceViewBox,E=Jc(Jc({},x),{},{x:s.x+(w?(g-y)/w:0)*s.width,y:s.y+(P?(p-_)/P:0)*s.height});r(Jc(Jc({},f),{},{payload:Jc(Jc({},f.payload),{},{coordinate:E})}))}else r(f);return}if(a!=null){var D;if(typeof n=="function"){var N={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},k=n(a,N);D=a[k]}else n==="value"&&(D=a.find(H=>String(H.value)===f.payload.label));var{coordinate:F}=f.payload;if(D==null||f.payload.active===!1||F==null||s==null){r(px({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0}));return}var{x:L,y:A}=F,S=Math.min(L,s.x+s.width),M=Math.min(A,s.y+s.height),U={x:i==="horizontal"?D.coordinate:S,y:i==="horizontal"?M:D.coordinate},G=px({active:f.payload.active,coordinate:U,dataKey:f.payload.dataKey,index:String(D.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox});r(G)}}};return Ed.on(xx,c),()=>{Ed.off(xx,c)}},[o,r,t,e,n,a,i,s])}function eQ(){var e=_t(_2),t=_t(S2),r=Lr();T.useEffect(()=>{if(e==null)return dT;var n=(a,i,s)=>{t!==s&&e===a&&r(HZ(i))};return Ed.on(JS,n),()=>{Ed.off(JS,n)}},[r,t,e])}function tQ(){var e=Lr();T.useEffect(()=>{e(qZ())},[e]),QZ(),eQ()}function rQ(e,t,r,n,a,i){var s=_t(h=>EZ(h,e,t)),o=_t(S2),c=_t(_2),u=_t(a6),f=_t(WZ),d=f==null?void 0:f.active,m=qp();T.useEffect(()=>{if(!d&&c!=null&&o!=null){var h=px({active:i,coordinate:r,dataKey:s,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:m});Ed.emit(xx,c,h,o)}},[d,r,s,a,n,o,c,u,i,m])}function e4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function t4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e4(Object(r),!0).forEach(function(n){nQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nQ(e,t,r){return(t=aQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aQ(e){var t=iQ(e,"string");return typeof t=="symbol"?t:t+""}function iQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sQ(e){return e.dataKey}function oQ(e,t){return T.isValidElement(e)?T.cloneElement(e,t):typeof e=="function"?T.createElement(e,t):T.createElement(TV,t)}var r4=[],lQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!hl.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Zc(e){var t=Qn(e,lQ),{active:r,allowEscapeViewBox:n,animationDuration:a,animationEasing:i,content:s,filterNull:o,isAnimationActive:c,offset:u,payloadUniqBy:f,position:d,reverseDirection:m,useTranslate3d:h,wrapperStyle:g,cursor:p,shared:x,trigger:y,defaultIndex:_,portal:w,axisId:P}=t,E=Lr(),D=typeof _=="number"?String(_):_;T.useEffect(()=>{E(OJ({shared:x,trigger:y,axisId:P,active:r,defaultIndex:D}))},[E,x,y,P,r,D]);var N=qp(),k=KE(),F=jJ(x),{activeIndex:L,isActive:A}=_t(z=>CZ(z,F,y,D)),S=_t(z=>TZ(z,F,y,D)),M=_t(z=>oT(z,F,y,D)),U=_t(z=>PZ(z,F,y,D)),G=S,H=MZ(),q=r??A,[V,W]=aE([G,q]),ne=F==="axis"?M:void 0;rQ(F,y,U,ne,L,q);var ce=w??H;if(ce==null)return null;var C=G??r4;q||(C=r4),o&&C.length&&(C=Vj(G.filter(z=>z.value!=null&&(z.hide!==!0||t.includeHidden)),f,sQ));var I=C.length>0,B=T.createElement(IV,{allowEscapeViewBox:n,animationDuration:a,animationEasing:i,isAnimationActive:c,active:q,coordinate:U,hasPayload:I,offset:u,position:d,reverseDirection:m,useTranslate3d:h,viewBox:N,wrapperStyle:g,lastBoundingBox:V,innerRef:W,hasPortalFromProps:!!w},oQ(s,t4(t4({},t),{},{payload:C,label:ne,active:q,coordinate:U,accessibilityLayer:k})));return T.createElement(T.Fragment,null,Tx.createPortal(B,ce),q&&T.createElement(IZ,{cursor:p,tooltipEventType:F,coordinate:U,payload:G,index:L}))}var Xl=e=>null;Xl.displayName="Cell";function cQ(e,t,r){return(t=uQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uQ(e){var t=fQ(e,"string");return typeof t=="symbol"?t:t+""}function fQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class dQ{constructor(t){cQ(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function n4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n4(Object(r),!0).forEach(function(n){mQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mQ(e,t,r){return(t=pQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pQ(e){var t=gQ(e,"string");return typeof t=="symbol"?t:t+""}function gQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vQ={cacheSize:2e3,enableCache:!0},hT=hQ({},vQ),a4=new dQ(hT.cacheSize),xQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},i4="recharts_measurement_span";function yQ(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(s,"|").concat(o)}var s4=(e,t)=>{try{var r=document.getElementById(i4);r||(r=document.createElement("span"),r.setAttribute("id",i4),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,xQ,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},id=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||hl.isSsr)return{width:0,height:0};if(!hT.enableCache)return s4(t,r);var n=yQ(t,r),a=a4.get(n);if(a)return a;var i=s4(t,r);return a4.set(n,i),i},o4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,l4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mT={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},_Q=Object.keys(mT),ou="NaN";function SQ(e,t){return e*mT[t]}class Ra{static parse(t){var r,[,n,a]=(r=wQ.exec(t))!==null&&r!==void 0?r:[];return new Ra(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Di(t)&&(this.unit=""),r!==""&&!bQ.test(r)&&(this.num=NaN,this.unit=""),_Q.includes(r)&&(this.num=SQ(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ra(NaN,""):new Ra(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ra(NaN,""):new Ra(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ra(NaN,""):new Ra(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ra(NaN,""):new Ra(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Di(this.num)}}function pT(e){if(e.includes(ou))return ou;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=o4.exec(t))!==null&&r!==void 0?r:[],s=Ra.parse(n??""),o=Ra.parse(i??""),c=a==="*"?s.multiply(o):s.divide(o);if(c.isNaN())return ou;t=t.replace(o4,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,f,d,m]=(u=l4.exec(t))!==null&&u!==void 0?u:[],h=Ra.parse(f??""),g=Ra.parse(m??""),p=d==="+"?h.add(g):h.subtract(g);if(p.isNaN())return ou;t=t.replace(l4,p.toString())}return t}var c4=/\(([^()]*)\)/;function NQ(e){for(var t=e,r;(r=c4.exec(t))!=null;){var[,n]=r;t=t.replace(c4,pT(n))}return t}function AQ(e){var t=e.replace(/\s+/g,"");return t=NQ(t),t=pT(t),t}function jQ(e){try{return AQ(e)}catch{return ou}}function X1(e){var t=jQ(e.slice(5,-1));return t===ou?"":t}var EQ=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],PQ=["dx","dy","angle","className","breakAll"];function yx(){return yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yx.apply(null,arguments)}function u4(e,t){if(e==null)return{};var r,n,a=TQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function TQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gT=/[ \f\n\r\t\v\u2028\u2029]+/,vT=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];kr(t)||(r?a=t.toString().split(""):a=t.toString().split(gT));var i=a.map(o=>({word:o,width:id(o,n).width})),s=r?0:id("",n).width;return{wordsWithComputedWidth:i,spaceWidth:s}}catch{return null}},CQ=(e,t,r,n,a)=>{var{maxLines:i,children:s,style:o,breakAll:c}=e,u=At(i),f=s,d=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return A.reduce((S,M)=>{var{word:U,width:G}=M,H=S[S.length-1];if(H&&(n==null||a||H.width+G+r<Number(n)))H.words.push(U),H.width+=G+r;else{var q={words:[U],width:G};S.push(q)}return S},[])},m=d(t),h=L=>L.reduce((A,S)=>A.width>S.width?A:S);if(!u||a)return m;var g=m.length>i||h(m).width>Number(n);if(!g)return m;for(var p="",x=L=>{var A=f.slice(0,L),S=vT({breakAll:c,style:o,children:A+p}).wordsWithComputedWidth,M=d(S),U=M.length>i||h(M).width>Number(n);return[U,M]},y=0,_=f.length-1,w=0,P;y<=_&&w<=f.length-1;){var E=Math.floor((y+_)/2),D=E-1,[N,k]=x(D),[F]=x(E);if(!N&&!F&&(y=E+1),N&&F&&(_=E-1),!N&&F){P=k;break}w++}return P||m},f4=e=>{var t=kr(e)?[]:e.toString().split(gT);return[{words:t}]},OQ=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:s}=e;if((t||r)&&!hl.isSsr){var o,c,u=vT({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:f,spaceWidth:d}=u;o=f,c=d}else return f4(n);return CQ({breakAll:i,children:n,maxLines:s,style:a},o,c,t,r)}return f4(n)},d4="#808080",ug=T.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:a="1em",capHeight:i="0.71em",scaleToFit:s=!1,textAnchor:o="start",verticalAnchor:c="end",fill:u=d4}=e,f=u4(e,EQ),d=T.useMemo(()=>OQ({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:s,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,s,f.style,f.width]),{dx:m,dy:h,angle:g,className:p,breakAll:x}=f,y=u4(f,PQ);if(!Os(r)||!Os(n)||d.length===0)return null;var _=r+(At(m)?m:0),w=n+(At(h)?h:0),P;switch(c){case"start":P=X1("calc(".concat(i,")"));break;case"middle":P=X1("calc(".concat((d.length-1)/2," * -").concat(a," + (").concat(i," / 2))"));break;default:P=X1("calc(".concat(d.length-1," * -").concat(a,")"));break}var E=[];if(s){var D=d[0].width,{width:N}=f;E.push("scale(".concat(At(N)?N/D:1,")"))}return g&&E.push("rotate(".concat(g,", ").concat(_,", ").concat(w,")")),E.length&&(y.transform=E.join(" ")),T.createElement("text",yx({},Ca(y),{ref:t,x:_,y:w,className:Jt("recharts-text",p),textAnchor:o,fill:u.includes("url")?d4:u}),d.map((k,F)=>{var L=k.words.join(x?"":" ");return T.createElement("tspan",{x:_,dy:F===0?P:a,key:"".concat(L,"-").concat(F)},L)}))});ug.displayName="Text";var kQ=["labelRef"];function LQ(e,t){if(e==null)return{};var r,n,a=DQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function DQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function h4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h4(Object(r),!0).forEach(function(n){FQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FQ(e,t,r){return(t=IQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IQ(e){var t=MQ(e,"string");return typeof t=="symbol"?t:t+""}function MQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ks(){return Ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ks.apply(null,arguments)}var xT=T.createContext(null),RQ=e=>{var{x:t,y:r,width:n,height:a,children:i}=e,s=T.useMemo(()=>({x:t,y:r,width:n,height:a}),[t,r,n,a]);return T.createElement(xT.Provider,{value:s},i)},yT=()=>{var e=T.useContext(xT),t=qp();return e||t},BQ=T.createContext(null),UQ=()=>{var e=T.useContext(BQ),t=_t(c6);return e||t},$Q=e=>{var{value:t,formatter:r}=e,n=kr(e.children)?t:e.children;return typeof r=="function"?r(n):n},ab=e=>e!=null&&typeof e=="function",qQ=(e,t)=>{var r=Mn(t-e),n=Math.min(Math.abs(t-e),360);return r*n},WQ=(e,t,r,n,a)=>{var{offset:i,className:s}=e,{cx:o,cy:c,innerRadius:u,outerRadius:f,startAngle:d,endAngle:m,clockWise:h}=a,g=(u+f)/2,p=qQ(d,m),x=p>=0?1:-1,y,_;switch(t){case"insideStart":y=d+x*i,_=h;break;case"insideEnd":y=m-x*i,_=!h;break;case"end":y=m+x*i,_=h;break;default:throw new Error("Unsupported position ".concat(t))}_=p<=0?_:!_;var w=fn(o,c,g,y),P=fn(o,c,g,y+(_?1:-1)*359),E="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(_?0:1,`,
    `).concat(P.x,",").concat(P.y),D=kr(e.id)?gd("recharts-radial-line-"):e.id;return T.createElement("text",Ks({},n,{dominantBaseline:"central",className:Jt("recharts-radial-bar-label",s)}),T.createElement("defs",null,T.createElement("path",{id:D,d:E})),T.createElement("textPath",{xlinkHref:"#".concat(D)},r))},zQ=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:o,endAngle:c}=e,u=(o+c)/2;if(r==="outside"){var{x:f,y:d}=fn(n,a,s+t,u);return{x:f,y:d,textAnchor:f>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var m=(i+s)/2,{x:h,y:g}=fn(n,a,m,u);return{x:h,y:g,textAnchor:"middle",verticalAnchor:"middle"}},bT=e=>"cx"in e&&At(e.cx),HQ=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!bT(r)&&(i=r);var{x:s,y:o,width:c,height:u}=t,f=u>=0?1:-1,d=f*n,m=f>0?"end":"start",h=f>0?"start":"end",g=c>=0?1:-1,p=g*n,x=g>0?"end":"start",y=g>0?"start":"end";if(a==="top"){var _={x:s+c/2,y:o-f*n,textAnchor:"middle",verticalAnchor:m};return Qr(Qr({},_),i?{height:Math.max(o-i.y,0),width:c}:{})}if(a==="bottom"){var w={x:s+c/2,y:o+u+d,textAnchor:"middle",verticalAnchor:h};return Qr(Qr({},w),i?{height:Math.max(i.y+i.height-(o+u),0),width:c}:{})}if(a==="left"){var P={x:s-p,y:o+u/2,textAnchor:x,verticalAnchor:"middle"};return Qr(Qr({},P),i?{width:Math.max(P.x-i.x,0),height:u}:{})}if(a==="right"){var E={x:s+c+p,y:o+u/2,textAnchor:y,verticalAnchor:"middle"};return Qr(Qr({},E),i?{width:Math.max(i.x+i.width-E.x,0),height:u}:{})}var D=i?{width:c,height:u}:{};return a==="insideLeft"?Qr({x:s+p,y:o+u/2,textAnchor:y,verticalAnchor:"middle"},D):a==="insideRight"?Qr({x:s+c-p,y:o+u/2,textAnchor:x,verticalAnchor:"middle"},D):a==="insideTop"?Qr({x:s+c/2,y:o+d,textAnchor:"middle",verticalAnchor:h},D):a==="insideBottom"?Qr({x:s+c/2,y:o+u-d,textAnchor:"middle",verticalAnchor:m},D):a==="insideTopLeft"?Qr({x:s+p,y:o+d,textAnchor:y,verticalAnchor:h},D):a==="insideTopRight"?Qr({x:s+c-p,y:o+d,textAnchor:x,verticalAnchor:h},D):a==="insideBottomLeft"?Qr({x:s+p,y:o+u-d,textAnchor:y,verticalAnchor:m},D):a==="insideBottomRight"?Qr({x:s+c-p,y:o+u-d,textAnchor:x,verticalAnchor:m},D):a&&typeof a=="object"&&(At(a.x)||io(a.x))&&(At(a.y)||io(a.y))?Qr({x:s+ma(a.x,c),y:o+ma(a.y,u),textAnchor:"end",verticalAnchor:"end"},D):Qr({x:s+c/2,y:o+u/2,textAnchor:"middle",verticalAnchor:"middle"},D)},VQ={offset:5};function Uo(e){var t=Qn(e,VQ),{viewBox:r,position:n,value:a,children:i,content:s,className:o="",textBreakAll:c,labelRef:u}=t,f=UQ(),d=yT(),m=n==="center"?d:f??d,h=r||m;if(!h||kr(a)&&kr(i)&&!T.isValidElement(s)&&typeof s!="function")return null;var g=Qr(Qr({},t),{},{viewBox:h});if(T.isValidElement(s)){var p=LQ(g,kQ);return T.cloneElement(s,p)}var x;if(typeof s=="function"){if(x=T.createElement(s,g),T.isValidElement(x))return x}else x=$Q(t);var y=bT(h),_=Ca(t);if(y&&(n==="insideStart"||n==="insideEnd"||n==="end"))return WQ(t,n,x,_,h);var w=y?zQ(h,t.offset,t.position):HQ(t,h);return T.createElement(ug,Ks({ref:u,className:Jt("recharts-label",o)},_,w,{breakAll:c}),x)}Uo.displayName="Label";var GQ=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?T.createElement(Uo,Ks({key:"label-implicit"},n)):Os(e)?T.createElement(Uo,Ks({key:"label-implicit",value:e},n)):T.isValidElement(e)?e.type===Uo?T.cloneElement(e,Qr({key:"label-implicit"},n)):T.createElement(Uo,Ks({key:"label-implicit",content:e},n)):ab(e)?T.createElement(Uo,Ks({key:"label-implicit",content:e},n)):e&&typeof e=="object"?T.createElement(Uo,Ks({},e,{key:"label-implicit"},n)):null};function KQ(e){var{label:t,labelRef:r}=e,n=yT();return GQ(t,n,r)||null}var wT={},_T={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(_T);var ST={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(ST);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_T,r=ST,n=Cp;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(wT);var YQ=wT.last;const XQ=ul(YQ);var JQ=["valueAccessor"],ZQ=["dataKey","clockWise","id","textBreakAll"];function Mm(){return Mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mm.apply(null,arguments)}function m4(e,t){if(e==null)return{};var r,n,a=QQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function QQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eee=e=>Array.isArray(e.value)?XQ(e.value):e.value,NT=T.createContext(void 0),AT=NT.Provider,jT=T.createContext(void 0),tee=jT.Provider;function ree(){return T.useContext(NT)}function nee(){return T.useContext(jT)}function kh(e){var{valueAccessor:t=eee}=e,r=m4(e,JQ),{dataKey:n,clockWise:a,id:i,textBreakAll:s}=r,o=m4(r,ZQ),c=ree(),u=nee(),f=c||u;return!f||!f.length?null:T.createElement(Zn,{className:"recharts-label-list"},f.map((d,m)=>{var h,g=kr(n)?t(d,m):Nr(d&&d.payload,n),p=kr(i)?{}:{id:"".concat(i,"-").concat(m)};return T.createElement(Uo,Mm({key:"label-".concat(m)},Ca(d),o,p,{fill:(h=r.fill)!==null&&h!==void 0?h:d.fill,parentViewBox:d.parentViewBox,value:g,textBreakAll:s,viewBox:d.viewBox,index:m}))}))}kh.displayName="LabelList";function ib(e){var{label:t}=e;return t?t===!0?T.createElement(kh,{key:"labelList-implicit"}):T.isValidElement(t)||ab(t)?T.createElement(kh,{key:"labelList-implicit",content:t}):typeof t=="object"?T.createElement(kh,Mm({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function bx(){return bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bx.apply(null,arguments)}var ET=e=>{var{cx:t,cy:r,r:n,className:a}=e,i=Jt("recharts-dot",a);return t===+t&&r===+r&&n===+n?T.createElement("circle",bx({},hi(e),Sy(e),{className:i,cx:t,cy:r,r:n})):null},PT=e=>e.graphicalItems.polarItems,aee=Fe([Dr,Jd],T2),fg=Fe([PT,Rr,aee],C2),iee=Fe([fg],O2),dg=Fe([iee,x2],k2),see=Fe([dg,Rr,fg],D2);Fe([dg,Rr,fg],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(a=>{var i,s=Nr(n,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Nr(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]})));var p4=()=>{},oee=Fe([dg,Rr,fg,sg,Dr],R2),lee=Fe([Rr,I2,M2,p4,oee,p4,Vt,Dr],B2),TT=Fe([Rr,Vt,dg,see,Xd,Dr,lee],U2),cee=Fe([TT,Rr,qu],W2);Fe([Rr,TT,cee,Dr],H2);var uee={radiusAxis:{},angleAxis:{}},CT=pi({name:"polarAxis",initialState:uee,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}});CT.actions;var fee=CT.reducer;function g4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function v4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g4(Object(r),!0).forEach(function(n){dee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dee(e,t,r){return(t=hee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hee(e){var t=mee(e,"string");return typeof t=="symbol"?t:t+""}function mee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pee=(e,t)=>t,sb=Fe([PT,pee],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),gee=[],ob=(e,t,r)=>(r==null?void 0:r.length)===0?gee:r,OT=Fe([x2,sb,ob],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=n,(!a||!a.length)&&r!=null&&(a=r.map(i=>v4(v4({},t.presentationProps),i.props))),a!=null)return a}}),vee=Fe([OT,sb,ob],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,a)=>{var i,s=Nr(n,t.nameKey,t.name),o;return r!=null&&(i=r[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?o=r[a].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=t.fill,{value:Fu(s,t.dataKey),color:o,payload:n,type:t.legendType}})}),xee=Fe([OT,sb,ob,Nn],(e,t,r,n)=>{if(!(t==null||e==null))return gte({offset:n,pieSettings:t,displayedData:e,cells:r})}),kT={exports:{}},yr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lb=Symbol.for("react.transitional.element"),cb=Symbol.for("react.portal"),hg=Symbol.for("react.fragment"),mg=Symbol.for("react.strict_mode"),pg=Symbol.for("react.profiler"),gg=Symbol.for("react.consumer"),vg=Symbol.for("react.context"),xg=Symbol.for("react.forward_ref"),yg=Symbol.for("react.suspense"),bg=Symbol.for("react.suspense_list"),wg=Symbol.for("react.memo"),_g=Symbol.for("react.lazy"),yee=Symbol.for("react.view_transition"),bee=Symbol.for("react.client.reference");function Bi(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case lb:switch(e=e.type,e){case hg:case pg:case mg:case yg:case bg:case yee:return e;default:switch(e=e&&e.$$typeof,e){case vg:case xg:case _g:case wg:return e;case gg:return e;default:return t}}case cb:return t}}}yr.ContextConsumer=gg;yr.ContextProvider=vg;yr.Element=lb;yr.ForwardRef=xg;yr.Fragment=hg;yr.Lazy=_g;yr.Memo=wg;yr.Portal=cb;yr.Profiler=pg;yr.StrictMode=mg;yr.Suspense=yg;yr.SuspenseList=bg;yr.isContextConsumer=function(e){return Bi(e)===gg};yr.isContextProvider=function(e){return Bi(e)===vg};yr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===lb};yr.isForwardRef=function(e){return Bi(e)===xg};yr.isFragment=function(e){return Bi(e)===hg};yr.isLazy=function(e){return Bi(e)===_g};yr.isMemo=function(e){return Bi(e)===wg};yr.isPortal=function(e){return Bi(e)===cb};yr.isProfiler=function(e){return Bi(e)===pg};yr.isStrictMode=function(e){return Bi(e)===mg};yr.isSuspense=function(e){return Bi(e)===yg};yr.isSuspenseList=function(e){return Bi(e)===bg};yr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===hg||e===pg||e===mg||e===yg||e===bg||typeof e=="object"&&e!==null&&(e.$$typeof===_g||e.$$typeof===wg||e.$$typeof===vg||e.$$typeof===gg||e.$$typeof===xg||e.$$typeof===bee||e.getModuleId!==void 0)};yr.typeOf=Bi;kT.exports=yr;var wee=kT.exports,x4=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",y4=null,J1=null,LT=e=>{if(e===y4&&Array.isArray(J1))return J1;var t=[];return T.Children.forEach(e,r=>{kr(r)||(wee.isFragment(r)?t=t.concat(LT(r.props.children)):t.push(r))}),J1=t,y4=e,t};function ub(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>x4(a)):n=[x4(t)],LT(e).forEach(a=>{var i=nc(a,"type.displayName")||nc(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}var DT=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,FT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(FT);var _ee=FT.isPlainObject;const See=ul(_ee);function b4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function w4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b4(Object(r),!0).forEach(function(n){Nee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nee(e,t,r){return(t=Aee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aee(e){var t=jee(e,"string");return typeof t=="symbol"?t:t+""}function jee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rm(){return Rm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rm.apply(null,arguments)}var _4=(e,t,r,n,a)=>{var i=r-n,s;return s="M ".concat(e,",").concat(t),s+="L ".concat(e+r,",").concat(t),s+="L ".concat(e+r-i/2,",").concat(t+a),s+="L ".concat(e+r-i/2-n,",").concat(t+a),s+="L ".concat(e,",").concat(t," Z"),s},Eee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Pee=e=>{var t=Qn(e,Eee),{x:r,y:n,upperWidth:a,lowerWidth:i,height:s,className:o}=t,{animationEasing:c,animationDuration:u,animationBegin:f,isUpdateAnimationActive:d}=t,m=T.useRef(null),[h,g]=T.useState(-1),p=T.useRef(a),x=T.useRef(i),y=T.useRef(s),_=T.useRef(r),w=T.useRef(n),P=Hd(e,"trapezoid-");if(T.useEffect(()=>{if(m.current&&m.current.getTotalLength)try{var U=m.current.getTotalLength();U&&g(U)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||s!==+s||a===0&&i===0||s===0)return null;var E=Jt("recharts-trapezoid",o);if(!d)return T.createElement("g",null,T.createElement("path",Rm({},Ca(t),{className:E,d:_4(r,n,a,i,s)})));var D=p.current,N=x.current,k=y.current,F=_.current,L=w.current,A="0px ".concat(h===-1?1:h,"px"),S="".concat(h,"px 0px"),M=YE(["strokeDasharray"],u,c);return T.createElement(zd,{animationId:P,key:P,canBegin:h>0,duration:u,easing:c,isActive:d,begin:f},U=>{var G=Hr(D,a,U),H=Hr(N,i,U),q=Hr(k,s,U),V=Hr(F,r,U),W=Hr(L,n,U);m.current&&(p.current=G,x.current=H,y.current=q,_.current=V,w.current=W);var ne=U>0?{transition:M,strokeDasharray:S}:{strokeDasharray:A};return T.createElement("path",Rm({},Ca(t),{className:E,d:_4(V,W,G,H,q),ref:m,style:w4(w4({},ne),t.style)}))})},Tee=["option","shapeType","propTransformer","activeClassName","isActive"];function Cee(e,t){if(e==null)return{};var r,n,a=Oee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Oee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function S4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S4(Object(r),!0).forEach(function(n){kee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kee(e,t,r){return(t=Lee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lee(e){var t=Dee(e,"string");return typeof t=="symbol"?t:t+""}function Dee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fee(e,t){return Bm(Bm({},t),e)}function Iee(e,t){return e==="symbols"}function N4(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return T.createElement(QE,r);case"trapezoid":return T.createElement(Pee,r);case"sector":return T.createElement(rP,r);case"symbols":if(Iee(t))return T.createElement(_y,r);break;default:return null}}function Mee(e){return T.isValidElement(e)?e.props:e}function IT(e){var{option:t,shapeType:r,propTransformer:n=Fee,activeClassName:a="recharts-active-shape",isActive:i}=e,s=Cee(e,Tee),o;if(T.isValidElement(t))o=T.cloneElement(t,Bm(Bm({},s),Mee(t)));else if(typeof t=="function")o=t(s);else if(See(t)&&typeof t!="boolean"){var c=n(t,s);o=T.createElement(N4,{shapeType:r,elementProps:c})}else{var u=s;o=T.createElement(N4,{shapeType:r,elementProps:u})}return i?T.createElement(Zn,{className:a},o):o}var fb=(e,t)=>{var r=Lr();return(n,a)=>i=>{e==null||e(n,a,i),r($6({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},db=e=>{var t=Lr();return(r,n)=>a=>{e==null||e(r,n,a),t(kJ())}},hb=(e,t)=>{var r=Lr();return(n,a)=>i=>{e==null||e(n,a,i),r(LJ({activeIndex:String(a),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function mb(e){var{fn:t,args:r}=e,n=Lr(),a=Oa();return T.useLayoutEffect(()=>{if(!a){var i=t(r);return n(TJ(i)),()=>{n(CJ(i))}}},[t,r,n,a]),null}var MT=()=>{};function RT(e){var{legendPayload:t}=e,r=Lr(),n=Oa();return T.useLayoutEffect(()=>n?MT:(r(VE(t)),()=>{r(GE(t))}),[r,n,t]),null}function Ree(e){var{legendPayload:t}=e,r=Lr(),n=_t(Vt);return T.useLayoutEffect(()=>n!=="centric"&&n!=="radial"?MT:(r(VE(t)),()=>{r(GE(t))}),[r,n,t]),null}var Z1,Bee=()=>{var[e]=T.useState(()=>gd("uid-"));return e},Uee=(Z1=lO["useId".toString()])!==null&&Z1!==void 0?Z1:Bee;function $ee(e,t){var r=Uee();return t||(e?"".concat(e,"-").concat(r):r)}var qee=T.createContext(void 0),pb=e=>{var{id:t,type:r,children:n}=e,a=$ee("recharts-".concat(r),t);return T.createElement(qee.Provider,{value:a},n(a))},Wee={cartesianItems:[],polarItems:[]},BT=pi({name:"graphicalItems",initialState:Wee,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Aa()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=to(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Aa()},removeCartesianGraphicalItem:{reducer(e,t){var r=to(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Aa()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Aa()},removePolarGraphicalItem:{reducer(e,t){var r=to(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Aa()}}}),{addCartesianGraphicalItem:zee,replaceCartesianGraphicalItem:Hee,removeCartesianGraphicalItem:Vee,addPolarGraphicalItem:Gee,removePolarGraphicalItem:Kee}=BT.actions,Yee=BT.reducer;function UT(e){var t=Lr(),r=T.useRef(null);return T.useLayoutEffect(()=>{r.current===null?t(zee(e)):r.current!==e&&t(Hee({prev:r.current,next:e})),r.current=e},[t,e]),T.useLayoutEffect(()=>()=>{r.current&&(t(Vee(r.current)),r.current=null)},[t]),null}function Xee(e){var t=Lr();return T.useLayoutEffect(()=>(t(Gee(e)),()=>{t(Kee(e))}),[t,e]),null}var Jee=["onMouseEnter","onClick","onMouseLeave"],Zee=["id"],Qee=["id"];function gb(e,t){if(e==null)return{};var r,n,a=ete(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ete(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function A4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A4(Object(r),!0).forEach(function(n){tte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tte(e,t,r){return(t=rte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rte(e){var t=nte(e,"string");return typeof t=="symbol"?t:t+""}function nte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ll(){return ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ll.apply(null,arguments)}function ate(e){var t=T.useMemo(()=>ub(e.children,Xl),[e.children]),r=_t(n=>vee(n,e.id,t));return r==null?null:T.createElement(Ree,{legendPayload:r})}function ite(e){var{dataKey:t,nameKey:r,sectors:n,stroke:a,strokeWidth:i,fill:s,name:o,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n.map(f=>f.tooltipPayload),positions:n.map(f=>f.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:s,dataKey:t,nameKey:r,name:Fu(o,t),hide:c,type:u,color:s,unit:""}}}var ste=(e,t)=>e>t?"start":e<t?"end":"middle",ote=(e,t,r)=>ma(typeof t=="function"?t(e):t,r,r*.8),lte=(e,t,r)=>{var{top:n,left:a,width:i,height:s}=t,o=OE(i,s),c=a+ma(e.cx,i,i/2),u=n+ma(e.cy,s,s/2),f=ma(e.innerRadius,o,0),d=ote(r,e.outerRadius,o),m=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:c,cy:u,innerRadius:f,outerRadius:d,maxRadius:m}},cte=(e,t)=>{var r=Mn(t-e),n=Math.min(Math.abs(t-e),360);return r*n};function ute(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var fte=(e,t)=>{if(T.isValidElement(e))return T.cloneElement(e,t);if(typeof e=="function")return e(t);var r=Jt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return T.createElement(Ky,ll({},t,{type:"linear",className:r}))},dte=(e,t,r)=>{if(T.isValidElement(e))return T.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),T.isValidElement(n)))return n;var a=Jt("recharts-pie-label-text",ute(e));return T.createElement(ug,ll({},t,{alignmentBaseline:"middle",className:a}),n)};function hte(e){var{sectors:t,props:r,showLabels:n}=e,{label:a,labelLine:i,dataKey:s}=r;if(!n||!a||!t)return null;var o=hi(r),c=rc(a),u=rc(i),f=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,d=t.map((m,h)=>{var g=(m.startAngle+m.endAngle)/2,p=fn(m.cx,m.cy,m.outerRadius+f,g),x=Cr(Cr(Cr(Cr({},o),m),{},{stroke:"none"},c),{},{index:h,textAnchor:ste(p.x,m.cx)},p),y=Cr(Cr(Cr(Cr({},o),m),{},{fill:"none",stroke:m.fill},u),{},{index:h,points:[fn(m.cx,m.cy,m.outerRadius,g),p],key:"line"});return T.createElement(Zn,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(h)},i&&fte(i,y),dte(a,x,Nr(m,s)))});return T.createElement(Zn,{className:"recharts-pie-labels"},d)}function mte(e){var{sectors:t,props:r,showLabels:n}=e,{label:a}=r;return typeof a=="object"&&a!=null&&"position"in a?T.createElement(ib,{label:a}):T.createElement(hte,{sectors:t,props:r,showLabels:n})}function pte(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:a}=e,i=_t(ol),{onMouseEnter:s,onClick:o,onMouseLeave:c}=a,u=gb(a,Jee),f=fb(s,a.dataKey),d=db(c),m=hb(o,a.dataKey);return t==null||t.length===0?null:T.createElement(T.Fragment,null,t.map((h,g)=>{if((h==null?void 0:h.startAngle)===0&&(h==null?void 0:h.endAngle)===0&&t.length!==1)return null;var p=r&&String(g)===i,x=i?n:null,y=p?r:x,_=Cr(Cr({},h),{},{stroke:h.stroke,tabIndex:-1,[IE]:g,[ME]:a.dataKey});return T.createElement(Zn,ll({key:"sector-".concat(h==null?void 0:h.startAngle,"-").concat(h==null?void 0:h.endAngle,"-").concat(h.midAngle,"-").concat(g),tabIndex:-1,className:"recharts-pie-sector"},Ud(u,h,g),{onMouseEnter:f(h,g),onMouseLeave:d(h,g),onClick:m(h,g)}),T.createElement(IT,ll({option:y,isActive:p,shapeType:"sector"},_)))}))}function gte(e){var t,{pieSettings:r,displayedData:n,cells:a,offset:i}=e,{cornerRadius:s,startAngle:o,endAngle:c,dataKey:u,nameKey:f,tooltipType:d}=r,m=Math.abs(r.minAngle),h=cte(o,c),g=Math.abs(h),p=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,x=n.filter(D=>Nr(D,u,0)!==0).length,y=(g>=360?x:x-1)*p,_=g-x*m-y,w=n.reduce((D,N)=>{var k=Nr(N,u,0);return D+(At(k)?k:0)},0),P;if(w>0){var E;P=n.map((D,N)=>{var k=Nr(D,u,0),F=Nr(D,f,N),L=lte(r,i,D),A=(At(k)?k:0)/w,S,M=Cr(Cr({},D),a&&a[N]&&a[N].props);N?S=E.endAngle+Mn(h)*p*(k!==0?1:0):S=o;var U=S+Mn(h)*((k!==0?m:0)+A*_),G=(S+U)/2,H=(L.innerRadius+L.outerRadius)/2,q=[{name:F,value:k,payload:M,dataKey:u,type:d}],V=fn(L.cx,L.cy,H,G);return E=Cr(Cr(Cr(Cr({},r.presentationProps),{},{percent:A,cornerRadius:s,name:F,tooltipPayload:q,midAngle:G,middleRadius:H,tooltipPosition:V},M),L),{},{value:k,startAngle:S,endAngle:U,payload:M,paddingAngle:Mn(h)*p}),E})}return P}function vte(e){var{showLabels:t,sectors:r,children:n}=e,a=T.useMemo(()=>!t||!r?[]:r.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[r,t]);return T.createElement(tee,{value:t?a:void 0},n)}function xte(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:a,animationBegin:i,animationDuration:s,animationEasing:o,activeShape:c,inactiveShape:u,onAnimationStart:f,onAnimationEnd:d}=t,m=Hd(t,"recharts-pie-"),h=r.current,[g,p]=T.useState(!1),x=T.useCallback(()=>{typeof d=="function"&&d(),p(!1)},[d]),y=T.useCallback(()=>{typeof f=="function"&&f(),p(!0)},[f]);return T.createElement(vte,{showLabels:!g,sectors:n},T.createElement(zd,{animationId:m,begin:i,duration:s,isActive:a,easing:o,onAnimationStart:y,onAnimationEnd:x,key:m},_=>{var w=[],P=n&&n[0],E=P==null?void 0:P.startAngle;return n==null||n.forEach((D,N)=>{var k=h&&h[N],F=N>0?nc(D,"paddingAngle",0):0;if(k){var L=Hr(k.endAngle-k.startAngle,D.endAngle-D.startAngle,_),A=Cr(Cr({},D),{},{startAngle:E+F,endAngle:E+L+F});w.push(A),E=A.endAngle}else{var{endAngle:S,startAngle:M}=D,U=Hr(0,S-M,_),G=Cr(Cr({},D),{},{startAngle:E+F,endAngle:E+U+F});w.push(G),E=G.endAngle}}),r.current=w,T.createElement(Zn,null,T.createElement(pte,{sectors:w,activeShape:c,inactiveShape:u,allOtherPieProps:t}))}),T.createElement(mte,{showLabels:!g,sectors:n,props:t}),t.children)}var yte={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!hl.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function bte(e){var{id:t}=e,r=gb(e,Zee),{hide:n,className:a,rootTabIndex:i}=e,s=T.useMemo(()=>ub(e.children,Xl),[e.children]),o=_t(f=>xee(f,t,s)),c=T.useRef(null),u=Jt("recharts-pie",a);return n||o==null?(c.current=null,T.createElement(Zn,{tabIndex:i,className:u})):T.createElement(T.Fragment,null,T.createElement(mb,{fn:ite,args:Cr(Cr({},e),{},{sectors:o})}),T.createElement(Zn,{tabIndex:i,className:u},T.createElement(xte,{props:Cr(Cr({},r),{},{sectors:o}),previousSectorsRef:c})))}function $T(e){var t=Qn(e,yte),{id:r}=t,n=gb(t,Qee),a=hi(n);return T.createElement(pb,{id:r,type:"pie"},i=>T.createElement(T.Fragment,null,T.createElement(Xee,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),T.createElement(ate,ll({},n,{id:i})),T.createElement(bte,ll({},n,{id:i}))))}$T.displayName="Pie";function j4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function E4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j4(Object(r),!0).forEach(function(n){wte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wte(e,t,r){return(t=_te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _te(e){var t=Ste(e,"string");return typeof t=="symbol"?t:t+""}function Ste(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nte={xAxis:{},yAxis:{},zAxis:{}},qT=pi({name:"cartesianAxis",initialState:Nte,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Aa()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Aa()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Aa()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Aa()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Aa()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Aa()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var s=[...i,n].slice(-3);e.yAxis[r]=E4(E4({},e.yAxis[r]),{},{width:n,widthHistory:s})}}}}),{addXAxis:Ate,removeXAxis:jte,addYAxis:Ete,removeYAxis:Pte,addZAxis:Ese,removeZAxis:Pse,updateYAxisWidth:Tte}=qT.actions,Cte=qT.reducer,Ote=Fe([Nn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),kte=Fe([Ote,fo,ho],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),vb=()=>_t(kte),Lte=()=>_t(yZ);function P4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function T4(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P4(Object(r),!0).forEach(function(n){Dte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dte(e,t,r){return(t=Fte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fte(e){var t=Ite(e,"string");return typeof t=="symbol"?t:t+""}function Ite(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mte=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:a,dataKey:i}=e;if(a===!1||t.x==null||t.y==null)return null;var s=T4(T4({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},rc(a)),Sy(a)),o;return T.isValidElement(a)?o=T.cloneElement(a,s):typeof a=="function"?o=a(s):o=T.createElement(ET,s),T.createElement(Zn,{className:"recharts-active-dot"},o)};function Rte(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:a}=e,i=_t(ol),s=Lte();if(t==null||s==null)return null;var o=t.find(c=>s.includes(c.payload));return kr(o)?null:Mte({point:o,childIndex:Number(i),mainColor:r,dataKey:a,activeDot:n})}var Bte=!0,Q1="Invariant failed";function Ute(e,t){if(!e){if(Bte)throw new Error(Q1);var r=typeof t=="function"?t():t,n=r?"".concat(Q1,": ").concat(r):Q1;throw new Error(n)}}var $te=["x","y"];function wx(){return wx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wx.apply(null,arguments)}function C4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?C4(Object(r),!0).forEach(function(n){qte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qte(e,t,r){return(t=Wte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wte(e){var t=zte(e,"string");return typeof t=="symbol"?t:t+""}function zte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hte(e,t){if(e==null)return{};var r,n,a=Vte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Vte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Gte(e,t){var{x:r,y:n}=e,a=Hte(e,$te),i="".concat(r),s=parseInt(i,10),o="".concat(n),c=parseInt(o,10),u="".concat(t.height||a.height),f=parseInt(u,10),d="".concat(t.width||a.width),m=parseInt(d,10);return Bf(Bf(Bf(Bf(Bf({},t),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:f,width:m,name:t.name,radius:t.radius})}function xb(e){return T.createElement(IT,wx({shapeType:"rectangle",propTransformer:Gte,activeClassName:"recharts-active-bar"},e))}var Kte=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(At(t))return t;var i=At(n)||kr(n);return i?t(n,a):(i||Ute(!1),r)}},Yte={},WT=pi({name:"errorBars",initialState:Yte,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}});WT.actions;var Xte=WT.reducer,Jte=["children"];function Zte(e,t){if(e==null)return{};var r,n,a=Qte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Qte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ere={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},tre=T.createContext(ere);function zT(e){var{children:t}=e,r=Zte(e,Jte);return T.createElement(tre.Provider,{value:r},t)}function yb(e,t){var r,n,a=_t(u=>po(u,e)),i=_t(u=>go(u,t)),s=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ei.allowDataOverflow,o=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:ti.allowDataOverflow,c=s||o;return{needClip:c,needClipX:s,needClipY:o}}function HT(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=vb(),{needClipX:i,needClipY:s,needClip:o}=yb(t,r);if(!o)return null;var{x:c,y:u,width:f,height:d}=a;return T.createElement("clipPath",{id:"clipPath-".concat(n)},T.createElement("rect",{x:i?c:c-f/2,y:s?u:u-d/2,width:i?f:f*2,height:s?d:d*2}))}var rre=["onMouseEnter","onMouseLeave","onClick"],nre=["value","background","tooltipPosition"],are=["id"],ire=["onMouseEnter","onClick","onMouseLeave"];function cl(){return cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cl.apply(null,arguments)}function O4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O4(Object(r),!0).forEach(function(n){sre(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sre(e,t,r){return(t=ore(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ore(e){var t=lre(e,"string");return typeof t=="symbol"?t:t+""}function lre(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Um(e,t){if(e==null)return{};var r,n,a=cre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cre(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ure=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Fu(r,t),payload:e}]};function fre(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:s,unit:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:Fu(i,t),hide:s,type:e.tooltipType,color:e.fill,unit:o}}}function dre(e){var t=_t(ol),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:s,onMouseLeave:o,onClick:c}=i,u=Um(i,rre),f=fb(s,n),d=db(o),m=hb(c,n);if(!a||r==null)return null;var h=rc(a);return T.createElement(T.Fragment,null,r.map((g,p)=>{var{value:x,background:y,tooltipPosition:_}=g,w=Um(g,nre);if(!y)return null;var P=f(g,p),E=d(g,p),D=m(g,p),N=ja(ja(ja(ja(ja({option:a,isActive:String(p)===t},w),{},{fill:"#eee"},y),h),Ud(u,g,p)),{},{onMouseEnter:P,onMouseLeave:E,onClick:D,dataKey:n,index:p,className:"recharts-bar-background-rectangle"});return T.createElement(xb,cl({key:"background-bar-".concat(p)},N))}))}function hre(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var s={x:i.x,y:i.y,width:i.width,height:i.height};return ja(ja({},s),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:s,fill:i.fill})});return T.createElement(AT,{value:t?a:void 0},r)}function mre(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:s}=e,o=_t(ol),c=_t(rT),u=r&&String(i)===o&&(c==null||s===c),f=u?r:t;return T.createElement(xb,cl({},n,{name:String(n.name)},a,{isActive:u,option:f,index:i,dataKey:s}))}function pre(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return T.createElement(xb,cl({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function gre(e){var{data:t,props:r}=e,n=hi(r),a=Um(n,are),{shape:i,dataKey:s,activeBar:o}=r,{onMouseEnter:c,onClick:u,onMouseLeave:f}=r,d=Um(r,ire),m=fb(c,s),h=db(f),g=hb(u,s);return t?T.createElement(T.Fragment,null,t.map((p,x)=>T.createElement(Zn,cl({key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(x),className:"recharts-bar-rectangle"},Ud(d,p,x),{onMouseEnter:m(p,x),onMouseLeave:h(p,x),onClick:g(p,x)}),o?T.createElement(mre,{shape:i,activeBar:o,baseProps:a,entry:p,index:x,dataKey:s}):T.createElement(pre,{shape:i,baseProps:a,entry:p,index:x,dataKey:s})))):null}function vre(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:s,animationDuration:o,animationEasing:c,onAnimationEnd:u,onAnimationStart:f}=t,d=r.current,m=Hd(t,"recharts-bar-"),[h,g]=T.useState(!1),p=!h,x=T.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),y=T.useCallback(()=>{typeof f=="function"&&f(),g(!0)},[f]);return T.createElement(hre,{showLabels:p,rects:n},T.createElement(zd,{animationId:m,begin:s,duration:o,isActive:i,easing:c,onAnimationEnd:x,onAnimationStart:y,key:m},_=>{var w=_===1?n:n==null?void 0:n.map((P,E)=>{var D=d&&d[E];if(D)return ja(ja({},P),{},{x:Hr(D.x,P.x,_),y:Hr(D.y,P.y,_),width:Hr(D.width,P.width,_),height:Hr(D.height,P.height,_)});if(a==="horizontal"){var N=Hr(0,P.height,_);return ja(ja({},P),{},{y:P.y+P.height-N,height:N})}var k=Hr(0,P.width,_);return ja(ja({},P),{},{width:k})});return _>0&&(r.current=w??null),w==null?null:T.createElement(Zn,null,T.createElement(gre,{props:t,data:w}))}),T.createElement(ib,{label:t.label}),t.children)}function xre(e){var t=T.useRef(null);return T.createElement(vre,{previousRectanglesRef:t,props:e})}var VT=0,yre=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Nr(e,t)}};class bre extends T.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:s,needClip:o,background:c,id:u}=this.props;if(t||r==null)return null;var f=Jt("recharts-bar",a),d=u;return T.createElement(Zn,{className:f,id:u},o&&T.createElement("defs",null,T.createElement(HT,{clipPathId:d,xAxisId:i,yAxisId:s})),T.createElement(Zn,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(d,")"):void 0},T.createElement(dre,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),T.createElement(xre,this.props)))}}var wre={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!hl.isSsr,legendType:"rect",minPointSize:VT,xAxisId:0,yAxisId:0};function _re(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:f}=e,{needClip:d}=yb(t,r),m=Wp(),h=Oa(),g=ub(e.children,Xl),p=_t(_=>Xre(_,t,r,h,e.id,g));if(m!=="vertical"&&m!=="horizontal")return null;var x,y=p==null?void 0:p[0];return y==null||y.height==null||y.width==null?x=0:x=m==="vertical"?y.height/2:y.width/2,T.createElement(zT,{xAxisId:t,yAxisId:r,data:p,dataPointFormatter:yre,errorBarOffset:x},T.createElement(bre,cl({},e,{layout:m,needClip:d,data:p,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:s,animationBegin:o,animationDuration:c,animationEasing:u,isAnimationActive:f})))}function Sre(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:s,yAxis:o,xAxisTicks:c,yAxisTicks:u,stackedData:f,displayedData:d,offset:m,cells:h,parentViewBox:g}=e,p=t==="horizontal"?o:s,x=f?p.scale.domain():null,y=LH({numericAxis:p});return d.map((_,w)=>{var P,E,D,N,k,F;f?P=EH(f[w],x):(P=Nr(_,r),Array.isArray(P)||(P=[y,P]));var L=Kte(n,VT)(P[1],w);if(t==="horizontal"){var A,[S,M]=[o.scale(P[0]),o.scale(P[1])];E=E_({axis:s,ticks:c,bandSize:i,offset:a.offset,entry:_,index:w}),D=(A=M??S)!==null&&A!==void 0?A:void 0,N=a.size;var U=S-M;if(k=Di(U)?0:U,F={x:E,y:m.top,width:N,height:m.height},Math.abs(L)>0&&Math.abs(k)<Math.abs(L)){var G=Mn(k||L)*(Math.abs(L)-Math.abs(k));D-=G,k+=G}}else{var[H,q]=[s.scale(P[0]),s.scale(P[1])];if(E=H,D=E_({axis:o,ticks:u,bandSize:i,offset:a.offset,entry:_,index:w}),N=q-H,k=a.size,F={x:m.left,y:D,width:m.width,height:k},Math.abs(L)>0&&Math.abs(N)<Math.abs(L)){var V=Mn(N||L)*(Math.abs(L)-Math.abs(N));N+=V}}if(E==null||D==null||N==null||k==null)return null;var W=ja(ja({},_),{},{x:E,y:D,width:N,height:k,value:f?P:P[1],payload:_,background:F,tooltipPosition:{x:E+N/2,y:D+k/2},parentViewBox:g},h&&h[w]&&h[w].props);return W}).filter(Boolean)}function Nre(e){var t=Qn(e,wre),r=Oa();return T.createElement(pb,{id:t.id,type:"bar"},n=>T.createElement(T.Fragment,null,T.createElement(RT,{legendPayload:ure(t)}),T.createElement(mb,{fn:fre,args:t}),T.createElement(UT,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:kH(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),T.createElement(_re,cl({},t,{id:n}))))}var Ro=T.memo(Nre);Ro.displayName="Bar";function k4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _h(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k4(Object(r),!0).forEach(function(n){Are(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Are(e,t,r){return(t=jre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jre(e){var t=Ere(e,"string");return typeof t=="symbol"?t:t+""}function Ere(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pre=(e,t)=>t,Tre=(e,t,r)=>r,Cre=(e,t,r,n)=>n,Ore=(e,t,r,n,a)=>a,n0=Fe([ag,Ore],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),kre=Fe([n0],e=>e==null?void 0:e.maxBarSize),Lre=(e,t,r,n,a,i)=>i,L4=(e,t,r)=>{var n=r??e;if(!kr(n))return ma(n,t,0)},Dre=Fe([Vt,ag,Pre,Tre,Cre],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),Fre=(e,t,r,n)=>{var a=Vt(e);return a==="horizontal"?mx(e,"yAxis",r,n):mx(e,"xAxis",t,n)},Ire=(e,t,r)=>{var n=Vt(e);return n==="horizontal"?WS(e,"xAxis",t):WS(e,"yAxis",r)},Mre=(e,t,r)=>{var n={},a=e.filter(tg),i=e.filter(u=>u.stackId==null),s=a.reduce((u,f)=>(u[f.stackId]||(u[f.stackId]=[]),u[f.stackId].push(f),u),n),o=Object.entries(s).map(u=>{var[f,d]=u,m=d.map(g=>g.dataKey),h=L4(t,r,d[0].barSize);return{stackId:f,dataKeys:m,barSize:h}}),c=i.map(u=>{var f=[u.dataKey].filter(m=>m!=null),d=L4(t,r,u.barSize);return{stackId:void 0,dataKeys:f,barSize:d}});return[...o,...c]},Rre=Fe([Dre,AX,Ire],Mre),Bre=(e,t,r,n,a)=>{var i,s,o=n0(e,t,r,n,a);if(o!=null){var c=Vt(e),u=r6(e),{maxBarSize:f}=o,d=kr(f)?u:f,m,h;return c==="horizontal"?(m=sl(e,"xAxis",t,n),h=il(e,"xAxis",t,n)):(m=sl(e,"yAxis",r,n),h=il(e,"yAxis",r,n)),(i=(s=bd(m,h,!0))!==null&&s!==void 0?s:d)!==null&&i!==void 0?i:0}},GT=(e,t,r,n)=>{var a=Vt(e),i,s;return a==="horizontal"?(i=sl(e,"xAxis",t,n),s=il(e,"xAxis",t,n)):(i=sl(e,"yAxis",r,n),s=il(e,"yAxis",r,n)),bd(i,s)};function Ure(e,t,r,n,a){var i=n.length;if(!(i<1)){var s=ma(e,r,0,!0),o,c=[];if(pa(n[0].barSize)){var u=!1,f=r/i,d=n.reduce((y,_)=>y+(_.barSize||0),0);d+=(i-1)*s,d>=r&&(d-=(i-1)*s,s=0),d>=r&&f>0&&(u=!0,f*=.9,d=i*f);var m=(r-d)/2>>0,h={offset:m-s,size:0};o=n.reduce((y,_)=>{var w,P={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:h.offset+h.size+s,size:u?f:(w=_.barSize)!==null&&w!==void 0?w:0}},E=[...y,P];return h=E[E.length-1].position,E},c)}else{var g=ma(t,r,0,!0);r-2*g-(i-1)*s<=0&&(s=0);var p=(r-2*g-(i-1)*s)/i;p>1&&(p>>=0);var x=pa(a)?Math.min(p,a):p;o=n.reduce((y,_,w)=>[...y,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:g+(p+s)*w+(p-x)/2,size:x}}],c)}return o}}var $re=(e,t,r,n,a,i,s)=>{var o=kr(s)?t:s,c=Ure(r,n,a!==i?a:i,e,o);return a!==i&&c!=null&&(c=c.map(u=>_h(_h({},u),{},{position:_h(_h({},u.position),{},{offset:u.position.offset-a/2})}))),c},qre=Fe([Rre,r6,NX,n6,Bre,GT,kre],$re),Wre=(e,t,r,n)=>sl(e,"xAxis",t,n),zre=(e,t,r,n)=>sl(e,"yAxis",r,n),Hre=(e,t,r,n)=>il(e,"xAxis",t,n),Vre=(e,t,r,n)=>il(e,"yAxis",r,n),Gre=Fe([qre,n0],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),Kre=(e,t)=>{var r=E2(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(s=>s.key===r)}}}},Yre=Fe([Fre,n0],Kre),Xre=Fe([Nn,Wy,Wre,zre,Hre,Vre,Gre,Vt,Jp,GT,Yre,n0,Lre],(e,t,r,n,a,i,s,o,c,u,f,d,m)=>{var{chartData:h,dataStartIndex:g,dataEndIndex:p}=c;if(!(d==null||s==null||t==null||o!=="horizontal"&&o!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:x}=d,y;if(x!=null&&x.length>0?y=x:y=h==null?void 0:h.slice(g,p+1),y!=null)return Sre({layout:o,barSettings:d,pos:s,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:f,displayedData:y,offset:e,cells:m})}}),KT=e=>{var{chartData:t}=e,r=Lr(),n=Oa();return T.useEffect(()=>n?()=>{}:(r(ZS(t)),()=>{r(ZS(void 0))}),[t,r,n]),null},D4={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},YT=pi({name:"brush",initialState:D4,reducers:{setBrushSettings(e,t){return t.payload==null?D4:t.payload}}});YT.actions;var Jre=YT.reducer;function Zre(e,t,r){return(t=Qre(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qre(e){var t=ene(e,"string");return typeof t=="symbol"?t:t+""}function ene(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bb{static create(t){return new bb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}Zre(bb,"EPS",1e-4);function tne(e){return(e%180+180)%180}var rne=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=tne(a),s=i*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},nne={dots:[],areas:[],lines:[]},XT=pi({name:"referenceElements",initialState:nne,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=to(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=to(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=to(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}});XT.actions;var ane=XT.reducer,ine=T.createContext(void 0),sne=e=>{var{children:t}=e,[r]=T.useState("".concat(gd("recharts"),"-clip")),n=vb();if(n==null)return null;var{x:a,y:i,width:s,height:o}=n;return T.createElement(ine.Provider,{value:r},T.createElement("defs",null,T.createElement("clipPath",{id:r},T.createElement("rect",{x:a,y:i,height:o,width:s}))),t)};function Pu(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function JT(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)if(r===void 0||r(e[a])===!0)n.push(e[a]);else return;return n}function one(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return rne(n,r)}function lne(e,t,r){var n=r==="width",{x:a,y:i,width:s,height:o}=e;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function $m(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function cne(e,t){return JT(e,t+1)}function une(e,t,r,n,a){for(var i=(n||[]).slice(),{start:s,end:o}=t,c=0,u=1,f=s,d=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:JT(n,u)};var p=c,x,y=()=>(x===void 0&&(x=r(g,p)),x),_=g.coordinate,w=c===0||$m(e,_,y,f,o);w||(c=0,f=s,u+=1),w&&(f=_+e*(y()/2+a),c+=u)},m;u<=i.length;)if(m=d(),m)return m.v;return[]}function F4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F4(Object(r),!0).forEach(function(n){fne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fne(e,t,r){return(t=dne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dne(e){var t=hne(e,"string");return typeof t=="symbol"?t:t+""}function hne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mne(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,{start:o}=t,{end:c}=t,u=function(m){var h=i[m],g,p=()=>(g===void 0&&(g=r(h,m)),g);if(m===s-1){var x=e*(h.coordinate+e*p()/2-c);i[m]=h=sa(sa({},h),{},{tickCoord:x>0?h.coordinate-x*e:h.coordinate})}else i[m]=h=sa(sa({},h),{},{tickCoord:h.coordinate});var y=$m(e,h.tickCoord,p,o,c);y&&(c=h.tickCoord-e*(p()/2+a),i[m]=sa(sa({},h),{},{isShow:!0}))},f=s-1;f>=0;f--)u(f);return i}function pne(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,{start:c,end:u}=t;if(i){var f=n[o-1],d=r(f,o-1),m=e*(f.coordinate+e*d/2-u);s[o-1]=f=sa(sa({},f),{},{tickCoord:m>0?f.coordinate-m*e:f.coordinate});var h=$m(e,f.tickCoord,()=>d,c,u);h&&(u=f.tickCoord-e*(d/2+a),s[o-1]=sa(sa({},f),{},{isShow:!0}))}for(var g=i?o-1:o,p=function(_){var w=s[_],P,E=()=>(P===void 0&&(P=r(w,_)),P);if(_===0){var D=e*(w.coordinate-e*E()/2-c);s[_]=w=sa(sa({},w),{},{tickCoord:D<0?w.coordinate-D*e:w.coordinate})}else s[_]=w=sa(sa({},w),{},{tickCoord:w.coordinate});var N=$m(e,w.tickCoord,E,c,u);N&&(c=w.tickCoord+e*(E()/2+a),s[_]=sa(sa({},w),{},{isShow:!0}))},x=0;x<g;x++)p(x);return s}function wb(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:s,orientation:o,interval:c,tickFormatter:u,unit:f,angle:d}=e;if(!a||!a.length||!n)return[];if(At(c)||hl.isSsr){var m;return(m=cne(a,At(c)?c:0))!==null&&m!==void 0?m:[]}var h=[],g=o==="top"||o==="bottom"?"width":"height",p=f&&g==="width"?id(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},x=(w,P)=>{var E=typeof u=="function"?u(w.value,P):w.value;return g==="width"?one(id(E,{fontSize:t,letterSpacing:r}),p,d):id(E,{fontSize:t,letterSpacing:r})[g]},y=a.length>=2?Mn(a[1].coordinate-a[0].coordinate):1,_=lne(i,y,g);return c==="equidistantPreserveStart"?une(y,_,x,a,s):(c==="preserveStart"||c==="preserveStartEnd"?h=pne(y,_,x,a,s,c==="preserveStartEnd"):h=mne(y,_,x,a,s),h.filter(w=>w.isShow))}var gne=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,s=0;if(t){Array.from(t).forEach(f=>{if(f){var d=f.getBoundingClientRect();d.width>s&&(s=d.width)}});var o=r?r.getBoundingClientRect().width:0,c=a+i,u=s+c+o+(r?n:0);return Math.round(u)}return 0},vne=["axisLine","width","height","className","hide","ticks"],xne=["viewBox"],yne=["viewBox"];function _x(e,t){if(e==null)return{};var r,n,a=bne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lc(){return lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lc.apply(null,arguments)}function I4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I4(Object(r),!0).forEach(function(n){wne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wne(e,t,r){return(t=_ne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ne(e){var t=Sne(e,"string");return typeof t=="symbol"?t:t+""}function Sne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _b={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"};function Nne(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:s,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var u=_n(_n(_n({},c),hi(o)),{},{fill:"none"});if(i==="top"||i==="bottom"){var f=+(i==="top"&&!s||i==="bottom"&&s);u=_n(_n({},u),{},{x1:t,y1:r+f*a,x2:t+n,y2:r+f*a})}else{var d=+(i==="left"&&!s||i==="right"&&s);u=_n(_n({},u),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+a})}return T.createElement("line",lc({},u,{className:Jt("recharts-cartesian-axis-line",nc(o,"className"))}))}function Ane(e,t,r,n,a,i,s,o,c){var u,f,d,m,h,g,p=o?-1:1,x=e.tickSize||s,y=At(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=f=e.coordinate,m=r+ +!o*a,d=m-p*x,g=d-p*c,h=y;break;case"left":d=m=e.coordinate,f=t+ +!o*n,u=f-p*x,h=u-p*c,g=y;break;case"right":d=m=e.coordinate,f=t+ +o*n,u=f+p*x,h=u+p*c,g=y;break;default:u=f=e.coordinate,m=r+ +o*a,d=m+p*x,g=d+p*c,h=y;break}return{line:{x1:u,y1:d,x2:f,y2:m},tick:{x:h,y:g}}}function jne(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Ene(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Pne(e){var{option:t,tickProps:r,value:n}=e,a,i=Jt(r.className,"recharts-cartesian-axis-tick-value");if(T.isValidElement(t))a=T.cloneElement(t,_n(_n({},r),{},{className:i}));else if(typeof t=="function")a=t(_n(_n({},r),{},{className:i}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=Jt(s,t==null?void 0:t.className)),a=T.createElement(ug,lc({},r,{className:s}),n)}return a}function Tne(e){var{ticks:t=[],tick:r,tickLine:n,stroke:a,tickFormatter:i,unit:s,padding:o,tickTextProps:c,orientation:u,mirror:f,x:d,y:m,width:h,height:g,tickSize:p,tickMargin:x,fontSize:y,letterSpacing:_,getTicksConfig:w,events:P}=e,E=wb(_n(_n({},w),{},{ticks:t}),y,_),D=jne(u,f),N=Ene(u,f),k=hi(w),F=rc(r),L={};typeof n=="object"&&(L=n);var A=_n(_n({},k),{},{fill:"none"},L),S=E.map((M,U)=>{var{line:G,tick:H}=Ane(M,d,m,h,g,u,p,f,x),q=_n(_n(_n(_n({textAnchor:D,verticalAnchor:N},k),{},{stroke:"none",fill:a},F),H),{},{index:U,payload:M,visibleTicksCount:E.length,tickFormatter:i,padding:o},c);return T.createElement(Zn,lc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},Ud(P,M,U)),n&&T.createElement("line",lc({},A,G,{className:Jt("recharts-cartesian-axis-tick-line",nc(n,"className"))})),r&&T.createElement(Pne,{option:r,tickProps:q,value:"".concat(typeof i=="function"?i(M.value,U):M.value).concat(s||"")}))});return S.length>0?T.createElement("g",{className:"recharts-cartesian-axis-ticks"},S):null}var Cne=T.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:s,ticks:o}=e,c=_x(e,vne),[u,f]=T.useState(""),[d,m]=T.useState(""),h=T.useRef(null);T.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var p;return gne({ticks:h.current,label:(p=e.labelRef)===null||p===void 0?void 0:p.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=T.useCallback(p=>{if(p){var x=p.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=x;var y=x[0];if(y){var _=window.getComputedStyle(y),w=_.fontSize,P=_.letterSpacing;(w!==u||P!==d)&&(f(w),m(P))}}},[u,d]);return s||n!=null&&n<=0||a!=null&&a<=0?null:T.createElement(Zn,{className:Jt("recharts-cartesian-axis",i),ref:g},T.createElement(Nne,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:hi(e)}),T.createElement(Tne,{ticks:o,tick:e.tick,tickLine:e.tickLine,stroke:e.stroke,tickFormatter:e.tickFormatter,unit:e.unit,padding:e.padding,tickTextProps:e.tickTextProps,orientation:e.orientation,mirror:e.mirror,x:e.x,y:e.y,width:e.width,height:e.height,tickSize:e.tickSize,tickMargin:e.tickMargin,fontSize:u,letterSpacing:d,getTicksConfig:e,events:c}),T.createElement(RQ,{x:e.x,y:e.y,width:e.width,height:e.height},T.createElement(KQ,{label:e.label,labelRef:e.labelRef}),e.children))}),One=T.memo(Cne,(e,t)=>{var{viewBox:r}=e,n=_x(e,xne),{viewBox:a}=t,i=_x(t,yne);return Pu(r,a)&&Pu(n,i)}),Sb=T.forwardRef((e,t)=>{var r=Qn(e,_b);return T.createElement(One,lc({},r,{ref:t}))});Sb.displayName="CartesianAxis";var kne=["x1","y1","x2","y2","key"],Lne=["offset"],Dne=["xAxisId","yAxisId"],Fne=["xAxisId","yAxisId"];function M4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function la(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?M4(Object(r),!0).forEach(function(n){Ine(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ine(e,t,r){return(t=Mne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mne(e){var t=Rne(e,"string");return typeof t=="symbol"?t:t+""}function Rne(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ul.apply(null,arguments)}function qm(e,t){if(e==null)return{};var r,n,a=Bne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Bne(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Une=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:s,ry:o}=e;return T.createElement("rect",{x:n,y:a,ry:o,width:i,height:s,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function ZT(e,t){var r;if(T.isValidElement(e))r=T.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:a,x2:i,y2:s,key:o}=t,c=qm(t,kne),u=hi(c),f=qm(u,Lne);r=T.createElement("line",Ul({},f,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function $ne(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var i=qm(e,Dne),s=a.map((o,c)=>{var u=la(la({},i),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(c),index:c});return ZT(n,u)});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function qne(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var i=qm(e,Fne),s=a.map((o,c)=>{var u=la(la({},i),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(c),index:c});return ZT(n,u)});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function Wne(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:s,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=o.map(d=>Math.round(d+a-a)).sort((d,m)=>d-m);a!==u[0]&&u.unshift(0);var f=u.map((d,m)=>{var h=!u[m+1],g=h?a+s-d:u[m+1]-d;if(g<=0)return null;var p=m%t.length;return T.createElement("rect",{key:"react-".concat(m),y:d,x:n,height:g,width:i,stroke:"none",fill:t[p],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function zne(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:s,height:o,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(d=>Math.round(d+a-a)).sort((d,m)=>d-m);a!==u[0]&&u.unshift(0);var f=u.map((d,m)=>{var h=!u[m+1],g=h?a+s-d:u[m+1]-d;if(g<=0)return null;var p=m%r.length;return T.createElement("rect",{key:"react-".concat(m),x:d,y:i,width:g,height:o,stroke:"none",fill:r[p],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var Hne=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return LE(wb(la(la(la({},_b),r),{},{ticks:DE(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},Vne=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return LE(wb(la(la(la({},_b),r),{},{ticks:DE(r,!0),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},Gne={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function nu(e){var t=Hy(),r=Vy(),n=zE(),a=la(la({},Qn(e,Gne)),{},{x:At(e.x)?e.x:n.left,y:At(e.y)?e.y:n.top,width:At(e.width)?e.width:n.width,height:At(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:s,x:o,y:c,width:u,height:f,syncWithTicks:d,horizontalValues:m,verticalValues:h}=a,g=Oa(),p=_t(F=>zS(F,"xAxis",i,g)),x=_t(F=>zS(F,"yAxis",s,g));if(!At(u)||u<=0||!At(f)||f<=0||!At(o)||o!==+o||!At(c)||c!==+c)return null;var y=a.verticalCoordinatesGenerator||Hne,_=a.horizontalCoordinatesGenerator||Vne,{horizontalPoints:w,verticalPoints:P}=a;if((!w||!w.length)&&typeof _=="function"){var E=m&&m.length,D=_({yAxis:x?la(la({},x),{},{ticks:E?m:x.ticks}):void 0,width:t,height:r,offset:n},E?!0:d);bm(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(w=D)}if((!P||!P.length)&&typeof y=="function"){var N=h&&h.length,k=y({xAxis:p?la(la({},p),{},{ticks:N?h:p.ticks}):void 0,width:t,height:r,offset:n},N?!0:d);bm(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(P=k)}return T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(Une,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),T.createElement(Wne,Ul({},a,{horizontalPoints:w})),T.createElement(zne,Ul({},a,{verticalPoints:P})),T.createElement($ne,Ul({},a,{offset:n,horizontalPoints:w,xAxis:p,yAxis:x})),T.createElement(qne,Ul({},a,{offset:n,verticalPoints:P,xAxis:p,yAxis:x})))}nu.displayName="CartesianGrid";var QT=(e,t,r,n)=>sl(e,"xAxis",t,n),eC=(e,t,r,n)=>il(e,"xAxis",t,n),tC=(e,t,r,n)=>sl(e,"yAxis",r,n),rC=(e,t,r,n)=>il(e,"yAxis",r,n),Kne=Fe([Vt,QT,tC,eC,rC],(e,t,r,n,a)=>dl(e,"xAxis")?bd(t,n,!1):bd(r,a,!1)),Yne=(e,t,r,n,a)=>a;function Xne(e){return e.type==="line"}var Jne=Fe([ag,Yne],(e,t)=>e.filter(Xne).find(r=>r.id===t)),Zne=Fe([Vt,QT,tC,eC,rC,Jne,Kne,Jp],(e,t,r,n,a,i,s,o)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:f}=o;if(!(i==null||t==null||r==null||n==null||a==null||n.length===0||a.length===0||s==null)){var{dataKey:d,data:m}=i,h;if(m!=null&&m.length>0?h=m:h=c==null?void 0:c.slice(u,f+1),h!=null)return wae({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:a,dataKey:d,bandSize:s,displayedData:h})}});function Qne(e){var t=rc(e),r=3,n=2;if(t!=null){var{r:a,strokeWidth:i}=t,s=Number(a),o=Number(i);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(o)||o<0)&&(o=n),{r:s,strokeWidth:o}}return{r,strokeWidth:n}}var eae=["id"],tae=["type","layout","connectNulls","needClip"],rae=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function R4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R4(Object(r),!0).forEach(function(n){nae(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nae(e,t,r){return(t=aae(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aae(e){var t=iae(e,"string");return typeof t=="symbol"?t:t+""}function iae(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nb(e,t){if(e==null)return{};var r,n,a=sae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cc(){return cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cc.apply(null,arguments)}var oae=e=>{var{dataKey:t,name:r,stroke:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:Fu(r,t),payload:e}]};function lae(e){var{dataKey:t,data:r,stroke:n,strokeWidth:a,fill:i,name:s,hide:o,unit:c}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Fu(s,t),hide:o,type:e.tooltipType,color:e.stroke,unit:c}}}var nC=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function cae(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],a=0;a<t;++a)n=[...n,...r];return n}var uae=(e,t,r)=>{var n=r.reduce((d,m)=>d+m);if(!n)return nC(t,e);for(var a=Math.floor(e/n),i=e%n,s=t-e,o=[],c=0,u=0;c<r.length;u+=r[c],++c)if(u+r[c]>i){o=[...r.slice(0,c),i-u];break}var f=o.length%2===0?[0,s]:[s];return[...cae(r,a),...o,...f].map(d=>"".concat(d,"px")).join(", ")};function fae(e,t){var r;if(T.isValidElement(e))r=T.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Jt("recharts-line-dot",typeof e!="boolean"?e.className:"");r=T.createElement(ET,cc({},t,{className:n}))}return r}function dae(e,t){return e==null?!1:t?!0:e.length===1}function hae(e){var{clipPathId:t,points:r,props:n}=e,{dot:a,dataKey:i,needClip:s}=n;if(!dae(r,a))return null;var o=Nb(n,eae),c=DT(a),u=hi(o),f=Tq(a),d=r.map((h,g)=>{var p=oi(oi(oi({key:"dot-".concat(g),r:3},u),f),{},{index:g,cx:h.x,cy:h.y,dataKey:i,value:h.value,payload:h.payload,points:r});return fae(a,p)}),m={clipPath:s?"url(#clipPath-".concat(c?"":"dots-").concat(t,")"):void 0};return T.createElement(Zn,cc({className:"recharts-line-dots",key:"dots"},m),d)}function mae(e){var{showLabels:t,children:r,points:n}=e,a=T.useMemo(()=>n==null?void 0:n.map(i=>{var s={x:i.x,y:i.y,width:0,height:0};return oi(oi({},s),{},{value:i.value,payload:i.payload,viewBox:s,parentViewBox:void 0,fill:void 0})}),[n]);return T.createElement(AT,{value:t?a:null},r)}function B4(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:a,props:i}=e,{type:s,layout:o,connectNulls:c,needClip:u}=i,f=Nb(i,tae),d=oi(oi({},Ca(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:n,type:s,layout:o,connectNulls:c,strokeDasharray:a??i.strokeDasharray});return T.createElement(T.Fragment,null,(n==null?void 0:n.length)>1&&T.createElement(Ky,cc({},d,{pathRef:r})),T.createElement(hae,{points:n,clipPathId:t,props:i}))}function pae(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function gae(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:s,strokeDasharray:o,isAnimationActive:c,animationBegin:u,animationDuration:f,animationEasing:d,animateNewValues:m,width:h,height:g,onAnimationEnd:p,onAnimationStart:x}=r,y=a.current,_=Hd(r,"recharts-line-"),[w,P]=T.useState(!1),E=!w,D=T.useCallback(()=>{typeof p=="function"&&p(),P(!1)},[p]),N=T.useCallback(()=>{typeof x=="function"&&x(),P(!0)},[x]),k=pae(n.current),F=i.current;return T.createElement(mae,{points:s,showLabels:E},r.children,T.createElement(zd,{animationId:_,begin:u,duration:f,isActive:c,easing:d,onAnimationEnd:D,onAnimationStart:N,key:_},L=>{var A=Hr(F,k+F,L),S=Math.min(A,k),M;if(c)if(o){var U="".concat(o).split(/[,\s]+/gim).map(q=>parseFloat(q));M=uae(S,k,U)}else M=nC(k,S);else M=o==null?void 0:String(o);if(y){var G=y.length/s.length,H=L===1?s:s.map((q,V)=>{var W=Math.floor(V*G);if(y[W]){var ne=y[W];return oi(oi({},q),{},{x:Hr(ne.x,q.x,L),y:Hr(ne.y,q.y,L)})}return m?oi(oi({},q),{},{x:Hr(h*2,q.x,L),y:Hr(g/2,q.y,L)}):oi(oi({},q),{},{x:q.x,y:q.y})});return a.current=H,T.createElement(B4,{props:r,points:H,clipPathId:t,pathRef:n,strokeDasharray:M})}return L>0&&k>0&&(a.current=s,i.current=S),T.createElement(B4,{props:r,points:s,clipPathId:t,pathRef:n,strokeDasharray:M})}),T.createElement(ib,{label:r.label}))}function vae(e){var{clipPathId:t,props:r}=e,n=T.useRef(null),a=T.useRef(0),i=T.useRef(null);return T.createElement(gae,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:a,pathRef:i})}var xae=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Nr(e.payload,t)});class yae extends T.Component{render(){var{hide:t,dot:r,points:n,className:a,xAxisId:i,yAxisId:s,top:o,left:c,width:u,height:f,id:d,needClip:m}=this.props;if(t)return null;var h=Jt("recharts-line",a),g=d,{r:p,strokeWidth:x}=Qne(r),y=DT(r),_=p*2+x;return T.createElement(T.Fragment,null,T.createElement(Zn,{className:h},m&&T.createElement("defs",null,T.createElement(HT,{clipPathId:g,xAxisId:i,yAxisId:s}),!y&&T.createElement("clipPath",{id:"clipPath-dots-".concat(g)},T.createElement("rect",{x:c-_/2,y:o-_/2,width:u+_,height:f+_}))),T.createElement(zT,{xAxisId:i,yAxisId:s,data:n,dataPointFormatter:xae,errorBarOffset:0},T.createElement(vae,{props:this.props,clipPathId:g}))),T.createElement(Rte,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var aC={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!hl.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function bae(e){var t=Qn(e,aC),{activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,connectNulls:o,dot:c,hide:u,isAnimationActive:f,label:d,legendType:m,xAxisId:h,yAxisId:g,id:p}=t,x=Nb(t,rae),{needClip:y}=yb(h,g),_=vb(),w=Wp(),P=Oa(),E=_t(L=>Zne(L,h,g,P,p));if(w!=="horizontal"&&w!=="vertical"||E==null||_==null)return null;var{height:D,width:N,x:k,y:F}=_;return T.createElement(yae,cc({},x,{id:p,connectNulls:o,dot:c,activeDot:r,animateNewValues:n,animationBegin:a,animationDuration:i,animationEasing:s,isAnimationActive:f,hide:u,label:d,legendType:m,xAxisId:h,yAxisId:g,points:E,layout:w,height:D,width:N,left:k,top:F,needClip:y}))}function wae(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,dataKey:s,bandSize:o,displayedData:c}=e;return c.map((u,f)=>{var d=Nr(u,s);if(t==="horizontal"){var m=j_({axis:r,ticks:a,bandSize:o,entry:u,index:f}),h=kr(d)?null:n.scale(d);return{x:m,y:h,value:d,payload:u}}var g=kr(d)?null:r.scale(d),p=j_({axis:n,ticks:i,bandSize:o,entry:u,index:f});return g==null||p==null?null:{x:g,y:p,value:d,payload:u}}).filter(Boolean)}function _ae(e){var t=Qn(e,aC),r=Oa();return T.createElement(pb,{id:t.id,type:"line"},n=>T.createElement(T.Fragment,null,T.createElement(RT,{legendPayload:oae(t)}),T.createElement(mb,{fn:lae,args:t}),T.createElement(UT,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),T.createElement(bae,cc({},t,{id:n}))))}var Lh=T.memo(_ae);Lh.displayName="Line";var Sae=["dangerouslySetInnerHTML","ticks"],Nae=["id"],Aae=["domain"],jae=["domain"];function Sx(){return Sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sx.apply(null,arguments)}function Wm(e,t){if(e==null)return{};var r,n,a=Eae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Eae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pae(e){var t=Lr();return T.useLayoutEffect(()=>(t(Ate(e)),()=>{t(jte(e))}),[e,t]),null}var Tae=e=>{var{xAxisId:t,className:r}=e,n=_t(Wy),a=Oa(),i="xAxis",s=_t(h=>Wu(h,i,t,a)),o=_t(h=>F6(h,i,t,a)),c=_t(h=>O6(h,t)),u=_t(h=>yJ(h,t)),f=_t(h=>d6(h,t));if(c==null||u==null||f==null)return null;var d=Wm(e,Sae),m=Wm(f,Nae);return T.createElement(Sb,Sx({},d,m,{scale:s,x:u.x,y:u.y,width:c.width,height:c.height,className:Jt("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o}))},Cae={allowDataOverflow:ei.allowDataOverflow,allowDecimals:ei.allowDecimals,allowDuplicatedCategory:ei.allowDuplicatedCategory,height:ei.height,hide:!1,mirror:ei.mirror,orientation:ei.orientation,padding:ei.padding,reversed:ei.reversed,scale:ei.scale,tickCount:ei.tickCount,type:ei.type,xAxisId:0},Oae=e=>{var t,r,n,a,i,s=Qn(e,Cae);return T.createElement(T.Fragment,null,T.createElement(Pae,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.xAxisId,scale:s.scale,type:s.type,padding:s.padding,allowDataOverflow:s.allowDataOverflow,domain:s.domain,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,height:s.height,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(a=s.minTickGap)!==null&&a!==void 0?a:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),T.createElement(Tae,s))},kae=(e,t)=>{var{domain:r}=e,n=Wm(e,Aae),{domain:a}=t,i=Wm(t,jae);return Pu(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:Pu({domain:r},{domain:a}):!1},au=T.memo(Oae,kae);au.displayName="XAxis";var Lae=["dangerouslySetInnerHTML","ticks"],Dae=["id"],Fae=["domain"],Iae=["domain"];function Nx(){return Nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nx.apply(null,arguments)}function zm(e,t){if(e==null)return{};var r,n,a=Mae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Mae(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Rae(e){var t=Lr();return T.useLayoutEffect(()=>(t(Ete(e)),()=>{t(Pte(e))}),[e,t]),null}var Bae=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=T.useRef(null),s=T.useRef(null),o=_t(Wy),c=Oa(),u=Lr(),f="yAxis",d=_t(_=>Wu(_,f,t,c)),m=_t(_=>k6(_,t)),h=_t(_=>wJ(_,t)),g=_t(_=>F6(_,f,t,c)),p=_t(_=>h6(_,t));if(T.useLayoutEffect(()=>{if(!(n!=="auto"||!m||ab(a)||T.isValidElement(a)||p==null)){var _=i.current;if(_){var w=_.getCalculatedWidth();Math.round(m.width)!==Math.round(w)&&u(Tte({id:t,width:w}))}}},[g,m,u,a,t,n,p]),m==null||h==null||p==null)return null;var x=zm(e,Lae),y=zm(p,Dae);return T.createElement(Sb,Nx({},x,y,{ref:i,labelRef:s,scale:d,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:m.width,height:m.height,className:Jt("recharts-".concat(f," ").concat(f),r),viewBox:o,ticks:g}))},Uae={allowDataOverflow:ti.allowDataOverflow,allowDecimals:ti.allowDecimals,allowDuplicatedCategory:ti.allowDuplicatedCategory,hide:!1,mirror:ti.mirror,orientation:ti.orientation,padding:ti.padding,reversed:ti.reversed,scale:ti.scale,tickCount:ti.tickCount,type:ti.type,width:ti.width,yAxisId:0},$ae=e=>{var t,r,n,a,i,s=Qn(e,Uae);return T.createElement(T.Fragment,null,T.createElement(Rae,{interval:(t=s.interval)!==null&&t!==void 0?t:"preserveEnd",id:s.yAxisId,scale:s.scale,type:s.type,domain:s.domain,allowDataOverflow:s.allowDataOverflow,dataKey:s.dataKey,allowDuplicatedCategory:s.allowDuplicatedCategory,allowDecimals:s.allowDecimals,tickCount:s.tickCount,padding:s.padding,includeHidden:(r=s.includeHidden)!==null&&r!==void 0?r:!1,reversed:s.reversed,ticks:s.ticks,width:s.width,orientation:s.orientation,mirror:s.mirror,hide:s.hide,unit:s.unit,name:s.name,angle:(n=s.angle)!==null&&n!==void 0?n:0,minTickGap:(a=s.minTickGap)!==null&&a!==void 0?a:5,tick:(i=s.tick)!==null&&i!==void 0?i:!0,tickFormatter:s.tickFormatter}),T.createElement(Bae,s))},qae=(e,t)=>{var{domain:r}=e,n=zm(e,Fae),{domain:a}=t,i=zm(t,Iae);return Pu(n,i)?Array.isArray(r)&&r.length===2&&Array.isArray(a)&&a.length===2?r[0]===a[0]&&r[1]===a[1]:Pu({domain:r},{domain:a}):!1},iu=T.memo($ae,qae);iu.displayName="YAxis";var Wae={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0=T;function zae(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hae=typeof Object.is=="function"?Object.is:zae,Vae=a0.useSyncExternalStore,Gae=a0.useRef,Kae=a0.useEffect,Yae=a0.useMemo,Xae=a0.useDebugValue;Wae.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=Gae(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Yae(function(){function c(h){if(!u){if(u=!0,f=h,h=n(h),a!==void 0&&s.hasValue){var g=s.value;if(a(g,h))return d=g}return d=h}if(g=d,Hae(f,h))return g;var p=n(h);return a!==void 0&&a(g,p)?(f=h,g):(f=h,d=p)}var u=!1,f,d,m=r===void 0?null:r;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,r,n,a]);var o=Vae(e,i[0],i[1]);return Kae(function(){s.hasValue=!0,s.value=o},[o]),Xae(o),o};function Jae(e){e()}function Zae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Jae(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var U4={notify(){},get:()=>[]};function Qae(e,t){let r,n=U4,a=0,i=!1;function s(p){f();const x=n.subscribe(p);let y=!1;return()=>{y||(y=!0,x(),d())}}function o(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return i}function f(){a++,r||(r=t?t.addNestedSub(c):e.subscribe(c),n=Zae())}function d(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=U4)}function m(){i||(i=!0,f())}function h(){i&&(i=!1,d())}const g={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:m,tryUnsubscribe:h,getListeners:()=>n};return g}var eie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tie=eie(),rie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",nie=rie(),aie=()=>tie||nie?T.useLayoutEffect:T.useEffect,iie=aie(),ev=Symbol.for("react-redux-context"),tv=typeof globalThis<"u"?globalThis:{};function sie(){if(!T.createContext)return{};const e=tv[ev]??(tv[ev]=new Map);let t=e.get(T.createContext);return t||(t=T.createContext(null),e.set(T.createContext,t)),t}var oie=sie();function lie(e){const{children:t,context:r,serverState:n,store:a}=e,i=T.useMemo(()=>{const c=Qae(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),s=T.useMemo(()=>a.getState(),[a]);iie(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,s]);const o=r||oie;return T.createElement(o.Provider,{value:i},t)}var cie=lie,uie=(e,t)=>t,Ab=Fe([uie,Vt,c6,jn,Z6,vo,jZ,Nn],OZ),jb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},iC=Fi("mouseClick"),sC=qd();sC.startListening({actionCreator:iC,effect:(e,t)=>{var r=e.payload,n=Ab(t.getState(),jb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(DJ({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Ax=Fi("mouseMove"),oC=qd();oC.startListening({actionCreator:Ax,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=K2(n,n.tooltip.settings.shared),i=Ab(n,jb(r));a==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(W6({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(q6()))}});var $4={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},lC=pi({name:"rootProps",initialState:$4,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:$4.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),fie=lC.reducer,{updateOptions:die}=lC.actions,cC=pi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:hie}=cC.actions,mie=cC.reducer,uC=Fi("keyDown"),fC=Fi("focus"),Eb=qd();Eb.startListening({actionCreator:uC,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var s=Number(Y2(a,Hu(r))),o=vo(r);if(i==="Enter"){var c=Im(r,"axis","hover",String(a.index));t.dispatch(gx({active:!a.active,activeIndex:a.index,activeDataKey:a.dataKey,activeCoordinate:c}));return}var u=AJ(r),f=u==="left-to-right"?1:-1,d=i==="ArrowRight"?1:-1,m=s+d*f;if(!(o==null||m>=o.length||m<0)){var h=Im(r,"axis","hover",String(m));t.dispatch(gx({active:!0,activeIndex:m.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});Eb.startListening({actionCreator:fC,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",s=Im(r,"axis","hover",String(i));t.dispatch(gx({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:s}))}}}});var Ti=Fi("externalEvent"),dC=qd();dC.startListening({actionCreator:Ti,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:gZ(r),activeDataKey:rT(r),activeIndex:ol(r),activeLabel:tT(r),activeTooltipIndex:ol(r),isTooltipActive:vZ(r)};e.payload.handler(n,e.payload.reactEvent)}}});var pie=Fe([zu],e=>e.tooltipItemPayloads),gie=Fe([pie,t0,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(o=>o.settings.dataKey===n);if(a!=null){var{positions:i}=a;if(i!=null){var s=t(i,r);return s}}}),hC=Fi("touchMove"),mC=qd();mC.startListening({actionCreator:hC,effect:(e,t)=>{var r=e.payload,n=t.getState(),a=K2(n,n.tooltip.settings.shared);if(a==="axis"){var i=Ab(n,jb({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(W6({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(a==="item"){var s,o=r.touches[0],c=document.elementFromPoint(o.clientX,o.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(IE),f=(s=c.getAttribute(ME))!==null&&s!==void 0?s:void 0,d=gie(t.getState(),u,f);t.dispatch($6({activeDataKey:f,activeIndex:u,activeCoordinate:d}))}}});var vie=sE({brush:Jre,cartesianAxis:Cte,chartData:VZ,errorBars:Xte,graphicalItems:Yee,layout:fH,legend:hV,options:$Z,polarAxis:fee,polarOptions:mie,referenceElements:ane,rootProps:fie,tooltip:FJ}),xie=function(t){return Iz({reducer:vie,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([sC.middleware,oC.middleware,Eb.middleware,dC.middleware,mC.middleware]),enhancers:r=>{var n=r;return typeof r=="function"&&(n=r()),n.concat(xE({type:"raf"}))},devTools:hl.devToolsEnabled})};function pC(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Oa(),i=T.useRef(null);if(a)return r;i.current==null&&(i.current=xie(t));var s=Fy;return T.createElement(cie,{context:s,store:i.current},r)}function gC(e){var{layout:t,margin:r}=e,n=Lr(),a=Oa();return T.useEffect(()=>{a||(n(lH(t)),n(oH(r)))},[n,a,t,r]),null}function vC(e){var t=Lr();return T.useEffect(()=>{t(die(e))},[t,e]),null}var yie=["children"];function bie(e,t){if(e==null)return{};var r,n,a=wie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Hm(){return Hm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hm.apply(null,arguments)}var _ie={width:"100%",height:"100%",display:"block"},Sie=T.forwardRef((e,t)=>{var r=Hy(),n=Vy(),a=KE();if(!Su(r)||!Su(n))return null;var{children:i,otherAttributes:s,title:o,desc:c}=e,u,f;return typeof s.tabIndex=="number"?u=s.tabIndex:u=a?0:void 0,typeof s.role=="string"?f=s.role:f=a?"application":void 0,T.createElement(vy,Hm({},s,{title:o,desc:c,role:f,tabIndex:u,width:r,height:n,style:_ie,ref:t}),i)}),Nie=e=>{var{children:t}=e,r=_t($p);if(!r)return null;var{width:n,height:a,y:i,x:s}=r;return T.createElement(vy,{width:n,height:a,x:s,y:i},t)},q4=T.forwardRef((e,t)=>{var{children:r}=e,n=bie(e,yie),a=Oa();return a?T.createElement(Nie,null,r):T.createElement(Sie,Hm({ref:t},n),r)});function Aie(){var e=Lr(),[t,r]=T.useState(null),n=_t(UH);return T.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;pa(i)&&i!==n&&e(uH(i))}},[t,e,n]),r}function W4(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W4(Object(r),!0).forEach(function(n){Eie(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W4(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Eie(e,t,r){return(t=Pie(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pie(e){var t=Tie(e,"string");return typeof t=="symbol"?t:t+""}function Tie(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uc.apply(null,arguments)}var Cie=()=>(tQ(),null);function Vm(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Oie=T.forwardRef((e,t)=>{var r,n,a=T.useRef(null),[i,s]=T.useState({containerWidth:Vm((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Vm((n=e.style)===null||n===void 0?void 0:n.height)}),o=T.useCallback((u,f)=>{s(d=>{var m=Math.round(u),h=Math.round(f);return d.containerWidth===m&&d.containerHeight===h?d:{containerWidth:m,containerHeight:h}})},[]),c=T.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null){var{width:f,height:d}=u.getBoundingClientRect();o(f,d);var m=g=>{var{width:p,height:x}=g[0].contentRect;o(p,x)},h=new ResizeObserver(m);h.observe(u),a.current=h}},[t,o]);return T.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[o]),T.createElement(T.Fragment,null,T.createElement(zp,{width:i.containerWidth,height:i.containerHeight}),T.createElement("div",uc({ref:c},e)))}),kie=T.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=T.useState({containerWidth:Vm(r),containerHeight:Vm(n)}),s=T.useCallback((c,u)=>{i(f=>{var d=Math.round(c),m=Math.round(u);return f.containerWidth===d&&f.containerHeight===m?f:{containerWidth:d,containerHeight:m}})},[]),o=T.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:f}=c.getBoundingClientRect();s(u,f)}},[t,s]);return T.createElement(T.Fragment,null,T.createElement(zp,{width:a.containerWidth,height:a.containerHeight}),T.createElement("div",uc({ref:o},e)))}),Lie=T.forwardRef((e,t)=>{var{width:r,height:n}=e;return T.createElement(T.Fragment,null,T.createElement(zp,{width:r,height:n}),T.createElement("div",uc({ref:t},e)))}),Die=T.forwardRef((e,t)=>{var{width:r,height:n}=e;return io(r)||io(n)?T.createElement(kie,uc({},e,{ref:t})):T.createElement(Lie,uc({},e,{ref:t}))});function Fie(e){return e===!0?Oie:Die}var Iie=T.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:s,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:f,onMouseMove:d,onMouseUp:m,onTouchEnd:h,onTouchMove:g,onTouchStart:p,style:x,width:y,responsive:_,dispatchTouchEvents:w=!0}=e,P=T.useRef(null),E=Lr(),[D,N]=T.useState(null),[k,F]=T.useState(null),L=Aie(),A=zy(),S=(A==null?void 0:A.width)>0?A.width:y,M=(A==null?void 0:A.height)>0?A.height:a,U=T.useCallback(te=>{L(te),typeof t=="function"&&t(te),N(te),F(te),te!=null&&(P.current=te)},[L,t,N,F]),G=T.useCallback(te=>{E(iC(te)),E(Ti({handler:i,reactEvent:te}))},[E,i]),H=T.useCallback(te=>{E(Ax(te)),E(Ti({handler:u,reactEvent:te}))},[E,u]),q=T.useCallback(te=>{E(q6()),E(Ti({handler:f,reactEvent:te}))},[E,f]),V=T.useCallback(te=>{E(Ax(te)),E(Ti({handler:d,reactEvent:te}))},[E,d]),W=T.useCallback(()=>{E(fC())},[E]),ne=T.useCallback(te=>{E(uC(te.key))},[E]),ce=T.useCallback(te=>{E(Ti({handler:s,reactEvent:te}))},[E,s]),C=T.useCallback(te=>{E(Ti({handler:o,reactEvent:te}))},[E,o]),I=T.useCallback(te=>{E(Ti({handler:c,reactEvent:te}))},[E,c]),B=T.useCallback(te=>{E(Ti({handler:m,reactEvent:te}))},[E,m]),z=T.useCallback(te=>{E(Ti({handler:p,reactEvent:te}))},[E,p]),Z=T.useCallback(te=>{w&&E(hC(te)),E(Ti({handler:g,reactEvent:te}))},[E,w,g]),ge=T.useCallback(te=>{E(Ti({handler:h,reactEvent:te}))},[E,h]),pe=Fie(_);return T.createElement(lT.Provider,{value:D},T.createElement(oj.Provider,{value:k},T.createElement(pe,{width:S??(x==null?void 0:x.width),height:M??(x==null?void 0:x.height),className:Jt("recharts-wrapper",n),style:jie({position:"relative",cursor:"default",width:S,height:M},x),onClick:G,onContextMenu:ce,onDoubleClick:C,onFocus:W,onKeyDown:ne,onMouseDown:I,onMouseEnter:H,onMouseLeave:q,onMouseMove:V,onMouseUp:B,onTouchEnd:ge,onTouchMove:Z,onTouchStart:z,ref:U},T.createElement(Cie,null),r)))}),Mie=["width","height","responsive","children","className","style","compact","title","desc"];function Rie(e,t){if(e==null)return{};var r,n,a=Bie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Bie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xC=T.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:s,style:o,compact:c,title:u,desc:f}=e,d=Rie(e,Mie),m=hi(d);return c?T.createElement(T.Fragment,null,T.createElement(zp,{width:r,height:n}),T.createElement(q4,{otherAttributes:m,title:u,desc:f},i)):T.createElement(Iie,{className:s,style:o,width:r,height:n,responsive:a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},T.createElement(q4,{otherAttributes:m,title:u,desc:f,ref:t},T.createElement(sne,null,i)))});function jx(){return jx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jx.apply(null,arguments)}var Uie={top:5,right:5,bottom:5,left:5},$ie={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Uie,reverseStackOrder:!1,syncMethod:"index",responsive:!1},yC=T.forwardRef(function(t,r){var n,a=Qn(t.categoricalChartProps,$ie),{chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,f={chartName:i,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return T.createElement(pC,{preloadedState:{options:f},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:i},T.createElement(KT,{chartData:u.data}),T.createElement(gC,{layout:a.layout,margin:a.margin}),T.createElement(vC,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),T.createElement(xC,jx({},a,{ref:r})))}),qie=["axis"],Wie=T.forwardRef((e,t)=>T.createElement(yC,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:qie,tooltipPayloadSearcher:nb,categoricalChartProps:e,ref:t})),zie=["axis","item"],Sh=T.forwardRef((e,t)=>T.createElement(yC,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zie,tooltipPayloadSearcher:nb,categoricalChartProps:e,ref:t}));function Hie(e){var t=Lr();return T.useEffect(()=>{t(hie(e))},[t,e]),null}var Vie=["layout"];function Ex(){return Ex=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ex.apply(null,arguments)}function Gie(e,t){if(e==null)return{};var r,n,a=Kie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Kie(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Yie={top:5,right:5,bottom:5,left:5},Xie={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Yie,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1},Jie=T.forwardRef(function(t,r){var n,a=Qn(t.categoricalChartProps,Xie),{layout:i}=a,s=Gie(a,Vie),{chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f}=t,d={chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return T.createElement(pC,{preloadedState:{options:d},reduxStoreName:(n=a.id)!==null&&n!==void 0?n:o},T.createElement(KT,{chartData:a.data}),T.createElement(gC,{layout:i,margin:a.margin}),T.createElement(vC,{accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className}),T.createElement(Hie,{cx:a.cx,cy:a.cy,startAngle:a.startAngle,endAngle:a.endAngle,innerRadius:a.innerRadius,outerRadius:a.outerRadius}),T.createElement(xC,Ex({},s,{ref:r})))}),Zie=["item"],Qie={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ese=T.forwardRef((e,t)=>{var r=Qn(e,Qie);return T.createElement(Jie,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Zie,tooltipPayloadSearcher:nb,categoricalChartProps:r,ref:t})});const zf=e=>{const t=new Date,r=new Date;switch(e){case"7d":r.setDate(t.getDate()-7);break;case"30d":r.setDate(t.getDate()-30);break;case"90d":r.setDate(t.getDate()-90);break;case"1y":r.setFullYear(t.getFullYear()-1);break;default:r.setDate(t.getDate()-30)}return{date_from:r.toISOString().split("T")[0],date_to:t.toISOString().split("T")[0]}},rv=e=>{const t=zf(e),r=new Date(t.date_from),a=new Date(t.date_to)-r,i=new Date(r);return{date_from:new Date(r.getTime()-a).toISOString().split("T")[0],date_to:i.toISOString().split("T")[0]}},tse={async getAnalyticsData(e="30d"){try{return{current:{salesSummary:{total:0,count:0,data:[]},importSummary:{total:0,count:0,data:[]},inventorySummary:{total:0,count:0,data:[]},bestSellingProducts:[],lowStockProducts:[],salesReport:[],importReport:[]},previous:{salesSummary:{total:0,count:0,data:[]},importSummary:{total:0,count:0,data:[]}},timeRange:e,dateParams:{}}}catch(t){throw console.error("Error fetching analytics data:",t),t}},async getRevenueAnalytics(e="30d"){try{const t=zf(e),r=rv(e),[n,a,i]=await Promise.all([kt.getSalesSummary(t),kt.getSalesSummary(r),kt.getSalesReport(t)]);return{current:n,previous:a,salesReport:i,timeRange:e}}catch(t){throw console.error("Error fetching revenue analytics:",t),t}},async getProductAnalytics(e="30d"){try{const t=zf(e),r=rv(e),[n,a,i,s]=await Promise.all([kt.getBestSellingProducts({...t,limit:10}),kt.getBestSellingProducts({...r,limit:10}),kt.getLowStockProducts({threshold:10}),kt.getInventorySummary(t)]);return{current:n,previous:a,lowStockProducts:i,inventorySummary:s,timeRange:e}}catch(t){throw console.error("Error fetching product analytics:",t),t}},async getStaffAnalytics(e="30d"){try{return{users:{data:[]},salesReport:[],importReport:[],timeRange:e,staffPerformance:[]}}catch(t){throw console.error("Error fetching staff analytics:",t),t}},async getImportAnalytics(e="30d"){try{const t=zf(e),r=rv(e),[n,a,i]=await Promise.all([kt.getImportSummary(t),kt.getImportSummary(r),kt.getImportReport(t)]);return{current:n,previous:a,importReport:i,timeRange:e}}catch(t){throw console.error("Error fetching import analytics:",t),t}},async getInventoryAnalytics(){try{const[e,t]=await Promise.all([kt.getInventorySummary(),kt.getLowStockProducts({threshold:10})]);return{inventorySummary:e,lowStockProducts:t}}catch(e){throw console.error("Error fetching inventory analytics:",e),e}},async getImportVsSalesData(e="30d"){try{const t=zf(e),[r,n,a,i]=await Promise.all([kt.getSalesReport(t),kt.getImportReport(t),kt.getSalesSummary(t),kt.getImportSummary(t)]);return{salesReport:r,importReport:n,salesSummary:a,importSummary:i,timeRange:e}}catch(t){throw console.error("Error fetching import vs sales data:",t),t}},async getDashboardMetrics(){try{const e=new Date().toISOString().split("T")[0],t={date_from:e,date_to:e},[r,n,a,i]=await Promise.all([kt.getSalesSummary(t),kt.getImportSummary(t),kt.getInventorySummary(),kt.getLowStockProducts({threshold:10})]);return{todaySales:r,todayImports:n,inventorySummary:a,lowStockProducts:i}}catch(e){throw console.error("Error fetching dashboard metrics:",e),e}}},rse=(e,t=[],r=[])=>!e||!Array.isArray(e)?[]:e.map(n=>{const a=t.filter(m=>m.staff_name===n.full_name||m.staff_name===n.name),i=a.length,s=a.reduce((m,h)=>m+parseFloat(h.amount||0),0),o=r.filter(m=>m.staff_name===n.full_name||m.staff_name===n.name),c=o.length,u=o.reduce((m,h)=>m+parseFloat(h.amount||0),0),f=i+c,d=Math.min(100,Math.max(0,f/10*100));return{id:n.id,name:n.full_name||n.name,email:n.email,user_type:n.user_type||n.type||"User",salesCount:i,salesRevenue:s,importsCount:c,importsValue:u,efficiency:Math.round(d),target:60,sales:i}}),nse=(e="30d")=>{const[t,r]=T.useState(null),[n,a]=T.useState(!0),[i,s]=T.useState(null),o=T.useCallback(async()=>{try{a(!0);const c=await tse.getStaffAnalytics(e),u=rse(c);r(u),s(null)}catch(c){s(c)}finally{a(!1)}},[e]);return T.useEffect(()=>{o()},[o]),{data:t,isLoading:n,error:i,refetch:o}},Uf={generateExcel:(e,t,r="import")=>{try{if(!Array.isArray(e))throw new Error("Data must be an array");const n=As.book_new(),a=Px(e,r),i=As.json_to_sheet(a);return As.book_append_sheet(n,i,r==="import"?"Import Report":"Sales Report"),N3(n,t),{success:!0,message:"Excel file generated successfully"}}catch(n){return console.error("Excel generation error:",n),{success:!1,error:n.message}}},generatePDF:(e,t,r="import")=>{try{if(console.log(`Generating PDF for ${r}:`,{filename:t,dataLength:e.length,sampleData:e.slice(0,2)}),!Array.isArray(e))throw new Error("Data must be an array");const n=new Et;n.setFontSize(16),n.text(r==="import"?"Import Report":"Sales Report",20,20),n.setFontSize(10),n.text(`Generated on: ${new Date().toLocaleDateString()}`,20,30),n.text(`Total Records: ${e.length}`,20,35),n.text(`Data Source: ${bC(e)}`,20,40);const{tableData:a,headers:i}=ose(e,r);return e.length===0?use(n):n.autoTable({head:[i],body:a,startY:55,styles:{fontSize:8},headStyles:{fillColor:[66,139,202]}}),n.save(t),{success:!0,message:"PDF file generated successfully"}}catch(n){return console.error("PDF generation error:",n),{success:!1,error:n.message}}},generateWord:(e,t,r="import")=>{try{if(!Array.isArray(e))throw new Error("Data must be an array");const n=Px(e,r),a=lse(n,r);return cse(a,t),{success:!0,message:"Word-like HTML file generated successfully"}}catch(n){return console.error("Word generation error:",n),{success:!1,error:n.message}}}},Px=(e,t)=>e.map(r=>t==="import"?ase(r):ise(r)).flat().filter(r=>r!=null),ase=e=>{var c,u,f;const t=e.product_name||e.pro_name||((c=e.product)==null?void 0:c.pro_name)||"Unknown Product",r=e.qty||e.quantity||0;let n=e.amount||e.price||e.total||0;n==0&&r>0&&(e.price||e.unit_price)&&(n=r*(e.price||e.unit_price));const a=e.batch_number||e.batchNumber||e.batch||"N/A",i=e.expiration_date||e.expirationDate||e.expiry||"N/A",s=e.staff_name||e.full_name||((u=e.staff)==null?void 0:u.full_name)||"Unknown Staff",o=e.supplier_name||e.supplier||((f=e.supplier)==null?void 0:f.supplier)||"Unknown Supplier";return{ID:e.id||"N/A",Date:e.imp_date?Gm(new Date(e.imp_date)):"N/A",Staff:s,Supplier:o,"Product Name":t,Qty:r,Amount:Km(n),"Batch Number":a,"Expiration Date":i!=="N/A"?Gm(new Date(i)):"N/A",Status:e.status||"completed"}},ise=e=>{var s,o;const t=e.product_name||e.pro_name||((s=e.product)==null?void 0:s.pro_name)||"Unknown Product",r=e.qty||e.quantity||0,n=e.amount||e.price||e.total||0,a=e.staff_name||e.full_name||((o=e.staff)==null?void 0:o.full_name)||"Unknown Staff",i=e.customer||e.cus_name||e.customer_name||"Unknown Customer";return e.orderDetails&&e.orderDetails.length>0?e.orderDetails.map(c=>{var u;return{ID:e.id||"N/A",Date:e.ord_date?Gm(new Date(e.ord_date)):"N/A",Customer:i,Staff:a,"Product Name":c.pro_name||((u=c.product)==null?void 0:u.pro_name)||"Unknown Product",Qty:c.qty||0,Amount:Km(c.amount||0),"Payment Status":sse(e),Status:e.status||"completed"}}):{ID:e.orderId||e.id||"N/A",Date:e.date?Gm(new Date(e.date)):"N/A",Customer:i,Staff:a,"Product Name":t,Qty:r,Amount:Km(n),"Payment Status":e.paymentStatus||"Unpaid",Status:e.status||"completed"}},sse=e=>{const t=parseFloat(e.total)||0,n=(e.payments||[]).reduce((a,i)=>a+(parseFloat(i.deposit)||0),0);return n>=t?"Paid":n>0?"Partial":"Unpaid"},ose=(e,t)=>({tableData:Px(e,t).map(i=>t==="import"?[i.ID,i.Date,i.Staff,i.Supplier,i["Product Name"],i.Qty,i.Amount,i["Batch Number"],i["Expiration Date"],i.Status]:[i.ID,i.Date,i.Customer,i.Staff,i["Product Name"],i.Qty,i.Amount,i["Payment Status"],i.Status]),headers:t==="import"?["ID","Date","Staff","Supplier","Product Name","Qty","Amount","Batch Number","Expiration Date","Status"]:["ID","Date","Customer","Staff","Product Name","Qty","Amount","Payment Status","Status"]}),lse=(e,t)=>{const r=e.reduce((n,a)=>{const i=typeof a.Amount=="string"?parseFloat(a.Amount.replace(/[$,]/g,"")):parseFloat(a.Amount)||0;return n+i},0);return`
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>${t==="import"?"Import Report":"Sales Report"}</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1 { color: #333; border-bottom: 2px solid #4CAF50; padding-bottom: 10px; }
        .info { background: #f5f5f5; padding: 10px; margin: 10px 0; border-radius: 5px; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #4CAF50; color: white; }
        tr:nth-child(even) { background-color: #f2f2f2; }
        .total { font-weight: bold; background-color: #e8f5e9; }
    </style>
</head>
<body>
    <h1>${t==="import"?"Import Report":"Sales Report"}</h1>
    
    <div class="info">
        <p><strong>Generated on:</strong> ${new Date().toLocaleDateString()}</p>
        <p><strong>Total Records:</strong> ${e.length}</p>
        <p><strong>Data Source:</strong> ${bC(e)}</p>
    </div>
    
    <table>
        <thead>
            <tr>
                ${t==="import"?"<th>ID</th><th>Date</th><th>Staff</th><th>Supplier</th><th>Product Name</th><th>Qty</th><th>Amount</th><th>Batch Number</th><th>Expiration Date</th><th>Status</th>":"<th>ID</th><th>Date</th><th>Customer</th><th>Staff</th><th>Product Name</th><th>Qty</th><th>Amount</th><th>Payment Status</th><th>Status</th>"}
            </tr>
        </thead>
        <tbody>
            ${e.map(n=>`
                <tr>
                    ${t==="import"?`<td>${n.ID}</td><td>${n.Date}</td><td>${n.Staff}</td><td>${n.Supplier}</td><td>${n["Product Name"]}</td><td>${n.Qty}</td><td>${n.Amount}</td><td>${n["Batch Number"]}</td><td>${n["Expiration Date"]}</td><td>${n.Status}</td>`:`<td>${n.ID}</td><td>${n.Date}</td><td>${n.Customer}</td><td>${n.Staff}</td><td>${n["Product Name"]}</td><td>${n.Qty}</td><td>${n.Amount}</td><td>${n["Payment Status"]}</td><td>${n.Status}</td>`}
                </tr>
            `).join("")}
        </tbody>
    </table>
    
    <div class="info total">
        <p><strong>Total Amount:</strong> ${Km(r)}</p>
    </div>
</body>
</html>`},cse=(e,t)=>{const r=new Blob([e],{type:"text/html"}),n=URL.createObjectURL(r),a=document.createElement("a");a.href=n,a.download=t.replace(/\.(word|doc)$/i,".html"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(n)},use=e=>{e.setFontSize(12),e.text("No data available for the selected date range.",20,70),e.setFontSize(10),e.text("Please check:",20,85),e.text(" API endpoints are working",25,95),e.text(" Database has records",25,105),e.text(" Date range includes data",25,115)},bC=e=>e.length===0?"No data available":e[0].staff_name==="Analytics Data"?"Analytics/Mock Data":"Real Database",Gm=e=>e.toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"}),Km=e=>`$${(parseFloat(e)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`,fse=({type:e,title:t,onClose:r,analyticsData:n})=>{var x,y,_,w,P;const[a,i]=T.useState("excel"),[s,o]=T.useState({from:new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],to:new Date().toISOString().split("T")[0]}),[c,u]=T.useState({}),[f,d]=T.useState(!1),m=e==="analytics"?[{id:"pdf",label:"PDF Document",icon:Rh,color:"text-red-600",bgColor:"bg-red-50"}]:[{id:"excel",label:"Excel (.xls)",icon:Mh,color:"text-green-600",bgColor:"bg-green-50"},{id:"xlsx",label:"Excel (.xlsx)",icon:Mh,color:"text-green-600",bgColor:"bg-green-50"},{id:"pdf",label:"PDF Document",icon:Rh,color:"text-red-600",bgColor:"bg-red-50"},{id:"word",label:"Word Document",icon:AO,color:"text-blue-600",bgColor:"bg-blue-50"}],h=async()=>{d(!0);try{const E={...c,date_from:s.from,date_to:s.to},D=`${e}_report_${s.from}_to_${s.to}.${a==="json"?"json":a}`;e==="analytics"?await p(E,D):await rj({type:e,format:a,params:E,filename:D}),console.log("Export completed successfully"),setTimeout(()=>{r()},1500)}catch(E){console.error("Export error:",E),alert(`Export failed: ${E.message}. Please check the console for more details.`)}finally{d(!1)}},g=async()=>{let E=[],D=[];try{const N=await ut.get("/imports");E=Array.isArray(N==null?void 0:N.data)?N.data:Array.isArray(N)?N:[],console.log("Fetched real import data:",E.length,"records")}catch(N){console.log("Could not fetch real import data:",N.message)}try{const N=await ut.get("/orders");D=Array.isArray(N==null?void 0:N.data)?N.data:Array.isArray(N)?N:[],console.log("Fetched real orders data:",D.length,"records")}catch(N){console.log("Could not fetch real orders data:",N.message)}return{importData:E,salesData:D}},p=async(E,D)=>{var N,k,F;try{if(a==="json"){const L={...n,exportParams:E,exportedAt:new Date().toISOString(),summary:{totalRevenue:n.totalRevenue||0,totalOrders:n.totalOrders||0,totalImports:n.totalImports||0,profit:n.profit||0,profitMargin:n.profitMargin||0}},A=Uf.generateJSON(L,D);if(!A.success)throw new Error(A.error);console.log("JSON export completed successfully")}else if(a==="excel")try{const L=kt.exportImportExcelXlsx(E),A=kt.exportSalesExcelXlsx(E);console.log("Trying API Excel export...",{importUrl:L,salesUrl:A}),await kt.downloadFile(L,`analytics_import_${D}`),await new Promise(S=>setTimeout(S,1e3)),await kt.downloadFile(A,`analytics_sales_${D}`),console.log("API Excel export completed successfully")}catch(L){console.log("API failed, using mock Excel export with real data...",L.message);const{importData:A,salesData:S}=await g(),M=A.length>0?A:((N=n.trendData)==null?void 0:N.map((H,q)=>({id:`IMP-${String(q+1).padStart(3,"0")}`,imp_date:H.date,amount:H.imports||0,qty:H.importQty||0,staff_name:"Analytics Data",supplier_name:"System Generated",status:"completed"})))||[],U=Uf.generateExcel(M,`analytics_import_${D}`,"import");if(!U.success)throw new Error(U.error);await new Promise(H=>setTimeout(H,1e3));const G=Uf.generateExcel(salesData,`analytics_sales_${D}`,"sales");if(!G.success)throw new Error(G.error);console.log("Mock Excel export completed successfully")}else if(a==="pdf")try{const L=kt.exportImportPdf(E),A=kt.exportSalesPdf(E);console.log("Trying API PDF export...",{importUrl:L,salesUrl:A}),await kt.downloadFile(L,`analytics_import_${D.replace(".pdf","")}.pdf`),await new Promise(S=>setTimeout(S,1e3)),await kt.downloadFile(A,`analytics_sales_${D.replace(".pdf","")}.pdf`),console.log("API PDF export completed successfully")}catch(L){console.log("API failed, using mock PDF export with real data...",L.message);const{importData:A,salesData:S}=await g(),M=A.length>0?A:((k=n.trendData)==null?void 0:k.map((q,V)=>({id:`IMP-${String(V+1).padStart(3,"0")}`,imp_date:q.date,amount:q.imports||0,qty:q.importQty||0,staff_name:"Analytics Data",supplier_name:"System Generated",status:"completed",batch_number:`BATCH-${String(V+1).padStart(3,"0")}`,expiration_date:new Date(Date.now()+365*24*60*60*1e3).toISOString().split("T")[0]})))||[],U=S.length>0?S:((F=n.trendData)==null?void 0:F.map((q,V)=>({id:`ORD-${String(V+1).padStart(3,"0")}`,ord_date:q.date,amount:q.sales||0,cus_name:"Analytics Customer",staff_name:"Analytics Data",status:"completed"})))||[],G=Uf.generatePDF(M,`analytics_import_${D.replace(".pdf","")}.pdf`,"import");if(!G.success)throw new Error(G.error);await new Promise(q=>setTimeout(q,1e3));const H=Uf.generatePDF(U,`analytics_sales_${D.replace(".pdf","")}.pdf`,"sales");if(!H.success)throw new Error(H.error);console.log("Mock PDF export completed successfully")}}catch(L){throw console.error("Analytics export error:",L),L}};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[l.jsxs("div",{children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Export ",t," Report"]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Choose format and configure export options"})]}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 p-1",children:l.jsx(Kr,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Export Format"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:m.map(E=>l.jsxs("button",{onClick:()=>i(E.id),className:`flex items-center p-4 rounded-lg border-2 transition-all ${a===E.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[l.jsx("div",{className:`w-10 h-10 rounded-lg ${E.bgColor} flex items-center justify-center mr-3`,children:l.jsx(E.icon,{className:`w-5 h-5 ${E.color}`})}),l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"font-medium text-gray-900",children:E.label}),l.jsx("div",{className:"text-xs text-gray-500",children:E.id==="excel"||E.id==="xlsx"?"Spreadsheet format":E.id==="pdf"?"Portable document":E.id==="json"?"Raw data format":"Word document"})]}),a===E.id&&l.jsx("div",{className:"ml-auto",children:l.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center",children:l.jsx("div",{className:"w-2 h-2 bg-white rounded-full"})})})]},E.id))})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Date Range"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"From"}),l.jsxs("div",{className:"relative",children:[l.jsx(lu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"date",value:s.from,onChange:E=>o(D=>({...D,from:E.target.value})),className:"input pl-10"})]})]}),l.jsxs("div",{className:"flex-1",children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"To"}),l.jsxs("div",{className:"relative",children:[l.jsx(lu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"date",value:s.to,onChange:E=>o(D=>({...D,to:E.target.value})),className:"input pl-10"})]})]})]})]}),e!=="analytics"&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Additional Filters (Optional)"}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Staff ID"}),l.jsx("input",{type:"text",placeholder:"Filter by staff ID",value:c.staff_id||"",onChange:E=>u(D=>({...D,staff_id:E.target.value})),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:e==="import"?"Supplier ID":"Customer ID"}),l.jsx("input",{type:"text",placeholder:`Filter by ${e==="import"?"supplier":"customer"} ID`,value:c[e==="import"?"supplier_id":"customer_id"]||"",onChange:E=>u(D=>({...D,[e==="import"?"supplier_id":"customer_id"]:E.target.value})),className:"input"})]})]})]}),e==="analytics"&&n&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Analytics Summary"}),l.jsx("div",{className:"bg-blue-50 rounded-lg p-4 space-y-2",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Total Revenue:"}),l.jsxs("span",{className:"ml-2 text-blue-600",children:["$",((x=n.totalRevenue)==null?void 0:x.toLocaleString())||"0"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Total Orders:"}),l.jsx("span",{className:"ml-2 text-blue-600",children:((y=n.totalOrders)==null?void 0:y.toLocaleString())||"0"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Total Imports:"}),l.jsx("span",{className:"ml-2 text-blue-600",children:((_=n.totalImports)==null?void 0:_.toLocaleString())||"0"})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Profit:"}),l.jsxs("span",{className:"ml-2 text-green-600",children:["$",((w=n.profit)==null?void 0:w.toLocaleString())||"0"]})]})]})})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Export Preview"}),l.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Report Type:"})," ",t]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Format:"})," ",(P=m.find(E=>E.id===a))==null?void 0:P.label]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Date Range:"})," ",s.from," to ",s.to]}),l.jsxs("p",{children:[l.jsx("span",{className:"font-medium",children:"Filename:"})," ",e,"_report_",s.from,"_to_",s.to,".",a]}),e==="analytics"&&(a==="excel"||a==="pdf")&&l.jsxs("p",{className:"text-blue-600",children:[l.jsx("span",{className:"font-medium",children:"Note:"})," Will download 2 files (Import & Sales reports)"]})]})]}),l.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[l.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:" Export Information"}),l.jsxs("div",{className:"text-sm text-blue-700 space-y-1",children:[l.jsxs("p",{children:[" ",l.jsx("strong",{children:"API Export:"})," Will try Laravel API endpoints first"]}),l.jsxs("p",{children:[" ",l.jsx("strong",{children:"Fallback Export:"})," If API fails, will use client-side generation"]}),l.jsxs("p",{children:[" ",l.jsx("strong",{children:"File Quality:"})," API exports are recommended for production use"]}),e==="analytics"&&l.jsxs("p",{children:[" ",l.jsx("strong",{children:"Analytics:"})," Exports both Import and Sales data as separate files"]})]})]}),!1]}),l.jsxs("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-200",children:[l.jsx("button",{onClick:r,className:"btn-secondary",disabled:f,children:"Cancel"}),l.jsx("button",{onClick:h,disabled:f,className:"btn-primary",children:f?l.jsxs(l.Fragment,{children:[l.jsx(pr,{size:"sm"}),l.jsx("span",{className:"ml-2",children:"Exporting..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Jl,{className:"w-4 h-4 mr-2"}),"Export Report"]})})]})]})})},nv=({height:e=300})=>l.jsxs("div",{className:"animate-pulse",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-20"})]}),l.jsx("div",{className:"bg-gray-100 rounded",style:{height:`${e}px`},children:l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsx(ca,{className:"w-8 h-8 animate-spin text-gray-400"})})})]}),dse=()=>l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 animate-pulse",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 mb-2"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-16 mb-3"}),l.jsx("div",{className:"h-8 bg-gray-200 rounded w-20"})]}),l.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg"})]}),l.jsxs("div",{className:"flex items-center mt-4",children:[l.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded mr-2"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-16 mr-2"}),l.jsx("div",{className:"h-3 bg-gray-200 rounded w-20"})]})]}),z4=({title:e,message:t,onRetry:r})=>l.jsx("div",{className:"flex items-center justify-center h-[300px] text-gray-500",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(ov,{className:"w-8 h-8 text-red-500"})}),l.jsx("p",{className:"text-lg font-medium text-gray-900 mb-2",children:e}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:t}),r&&l.jsxs("button",{onClick:r,className:"btn-primary text-sm",children:[l.jsx(ca,{className:"w-4 h-4 mr-2"}),"Try Again"]})]})}),av=(e,t="number")=>{if(e==null||isNaN(e))return 0;switch(t){case"currency":return Math.round(parseFloat(e)*100)/100;case"percentage":return Math.round(parseFloat(e)*10)/10;case"integer":return parseInt(e)||0;default:return parseFloat(e)||0}},Mo=(e,t=[])=>!Array.isArray(e)||e.length===0?!1:e.some(r=>t.length===0?!0:t.some(n=>{const a=r[n];return a!=null&&!isNaN(a)})),hse=()=>{var he,ie,oe,de,me,Oe,Me,Ce;const[e,t]=T.useState("30d"),[r,n]=T.useState("overview"),[a,i]=T.useState(!1),[s,o]=T.useState(!1),[c,u]=T.useState(!1),[f,d]=T.useState(null),[m,h]=T.useState(!1),[g,p]=T.useState(null),[x,y]=T.useState(null),[_,w]=T.useState(!1),[P,E]=T.useState(null),[D,N]=T.useState(null),[k,F]=T.useState(!1),[L,A]=T.useState(null),M=(ee=>{const le=new Date,Ee=new Date;switch(ee){case"7d":Ee.setDate(le.getDate()-7);break;case"30d":Ee.setDate(le.getDate()-30);break;case"90d":Ee.setDate(le.getDate()-90);break;case"1y":Ee.setFullYear(le.getFullYear()-1);break;default:Ee.setDate(le.getDate()-30)}return{date_from:Ee.toISOString().split("T")[0],date_to:le.toISOString().split("T")[0]}})(e);T.useEffect(()=>{const ee=async()=>{try{h(!0);const $e=await kt.getSalesSummary(M);d($e),p(null)}catch($e){console.error("Sales summary fetch error:",$e),p($e)}finally{h(!1)}},le=async()=>{try{w(!0);const $e=await kt.getImportSummary(M);y($e),E(null)}catch($e){console.error("Import summary fetch error:",$e),E($e)}finally{w(!1)}},Ee=async()=>{try{F(!0);const $e=await kt.getInventorySummary();N($e),A(null)}catch($e){console.error("Inventory summary fetch error:",$e),A($e)}finally{F(!1)}};ee(),le(),Ee()},[e]);const U=()=>{(async()=>{try{h(!0);const le=await kt.getSalesSummary(M);d(le),p(null)}catch(le){console.error("Sales summary refetch error:",le),p(le)}finally{h(!1)}})()},{data:G,isLoading:H,error:q}=wq({...M,limit:10}),{data:V,isLoading:W,error:ne}=Lv(M),{data:ce,isLoading:C,error:I}=tj(M),{data:B}=sp(),{data:z}=zx(),{data:Z}=nj(),ge=Array.isArray(B==null?void 0:B.data)?B.data:Array.isArray(B)?B:[],pe=Array.isArray(Z==null?void 0:Z.data)?Z.data:Array.isArray(Z)?Z:[],{data:te,isLoading:be,refetch:Te}=nse(e),{data:ye,isLoading:Ze}=Z3(),Ke=m||_||k||H||W||C||Ze||be,De=g||P||L||q||ne||I,fe=[g,P,L,q,ne,I].filter(Boolean).length,Ve=(f==null?void 0:f.data)||{},ft=(x==null?void 0:x.data)||{},et=(D==null?void 0:D.data)||{},se=Array.isArray((he=G==null?void 0:G.data)==null?void 0:he.data)?G.data.data:Array.isArray(G==null?void 0:G.data)?G.data:Array.isArray(G)?G:[],xe=Array.isArray((ie=V==null?void 0:V.data)==null?void 0:ie.data)?V.data.data:Array.isArray(V==null?void 0:V.data)?V.data:Array.isArray(V)?V:[],we=Array.isArray((oe=ce==null?void 0:ce.data)==null?void 0:oe.data)?ce.data.data:Array.isArray(ce==null?void 0:ce.data)?ce.data:Array.isArray(ce)?ce:[],qe=Array.isArray((de=ye==null?void 0:ye.data)==null?void 0:de.data)?ye.data.data:Array.isArray(ye==null?void 0:ye.data)?ye.data:Array.isArray(ye)?ye:[],Re=xe.length>0?xe.reduce((ee,le)=>ee+parseFloat(le.amount||le.total||0),0):qe.reduce((ee,le)=>ee+parseFloat(le.total||0),0),Be=xe.length>0?xe.length:qe.length,nt=we.reduce((ee,le)=>ee+parseFloat(le.amount||0),0);we.length;const pt=we.reduce((ee,le)=>ee+parseFloat(le.qty||le.quantity||0),0),ct=Re>0?Re:parseFloat(Ve.total_revenue||0),gt=Be>0?Be:parseInt(Ve.total_orders||0),Tt=pt>0?pt:parseInt(ft.total_imports||0),st=nt>0?nt:parseFloat(ft.total_amount||0),Fr=gt>0?ct/gt:0,Mt=parseInt(et.total_products||0)||ge.length,Br=parseInt(et.low_stock_products||0),qt=ct-st,Yt=ct>0?qt/ct*100:0,Un=ee=>{const le=new Date(ee);return isNaN(le.getTime())?null:{sortKey:le.toISOString().split("T")[0],displayKey:le.toLocaleDateString("en-US",{month:"short",day:"numeric"})}},Ot={},vn={};xe.length>0&&xe.forEach(ee=>{const le=Un(ee.ord_date||ee.created_at);if(!le)return;const{sortKey:Ee,displayKey:$e}=le;Ot[Ee]||(Ot[Ee]={date:$e,sortKey:Ee,sales:0,orders:0,revenue:0,low:0});const Ge=av(ee.amount||ee.total,"currency");Ot[Ee].sales+=Ge,Ot[Ee].revenue+=Ge,Ot[Ee].low+=Ge,Ot[Ee].orders+=1}),we.length>0&&we.forEach(ee=>{const le=Un(ee.imp_date||ee.created_at);if(!le)return;const{sortKey:Ee,displayKey:$e}=le;vn[Ee]||(vn[Ee]={date:$e,sortKey:Ee,imports:0,importValue:0,importQty:0});const Ge=av(ee.amount,"currency"),He=av(ee.qty||ee.quantity,"integer");vn[Ee].imports+=Ge,vn[Ee].importValue+=Ge,vn[Ee].importQty+=He});let rr=Object.values(Ot).sort((ee,le)=>ee.sortKey.localeCompare(le.sortKey)).map(({sortKey:ee,...le})=>le);rr.length===0&&ct>0&&(rr=["Oct 27","Oct 28","Oct 29"].map((le,Ee)=>({date:le,sales:Math.round(ct*(.2+Ee*.4)),orders:Math.round(gt*(.2+Ee*.4)),revenue:Math.round(ct*(.2+Ee*.4)),low:Math.round(ct*(.2-Ee*.4))}))),Object.values(vn).sort((ee,le)=>ee.sortKey.localeCompare(le.sortKey)).map(({sortKey:ee,...le})=>le);const va=new Set([...Object.keys(Ot),...Object.keys(vn)]);let Gt=Array.from(va).map(ee=>{const le=Ot[ee],Ee=vn[ee];return{date:(le==null?void 0:le.date)||(Ee==null?void 0:Ee.date)||ee,sortKey:ee,sales:(le==null?void 0:le.sales)||0,imports:(Ee==null?void 0:Ee.importValue)||0,importQty:(Ee==null?void 0:Ee.importQty)||0}}).sort((ee,le)=>ee.sortKey.localeCompare(le.sortKey)).map(({sortKey:ee,...le})=>le);Gt.length===0&&(Gt=["Oct 27","Oct 28","Oct 29"].map((le,Ee)=>({date:le,sales:Math.max(1e3,Math.round(ct*(.2+Ee*.4))),imports:Math.max(500,Math.round(st*(.2+Ee*.4))),importQty:Math.max(10,Math.round(Tt*(.2+Ee*.4)))})));let yt=[];if(se.length>0?yt=se.map((ee,le)=>{const Ee=parseInt(ee.total_quantity||0),$e=parseFloat(ee.total_revenue||0),Ge=se.reduce((it,ht)=>it+parseFloat(ht.total_revenue||0),0)/se.length,He=Ge>0?($e-Ge)/Ge*100:0;return{name:ee.product_name||`Product ${le+1}`,sales:Ee,revenue:$e,growth:Math.round(He*10)/10,rank:le+1,salesColor:"#3B82F6",revenueColor:"#10B981"}}):yt=[],yt.length>0){const le=[...yt].sort((ht,$t)=>$t.revenue-ht.revenue).map(ht=>ht.revenue),Ee=Math.max(...le),$e=Math.min(...le),Ge=Ee-$e,He=Ee-Ge*.33,it=$e+Ge*.33;yt.forEach(ht=>{const $t=ht.revenue||0;$t>=He?(ht.performanceColor="#10B981",ht.performanceLevel="High",ht.bgColor="bg-green-100",ht.textColor="text-green-800"):$t>=it?(ht.performanceColor="#F59E0B",ht.performanceLevel="Medium",ht.bgColor="bg-yellow-100",ht.textColor="text-yellow-800"):(ht.performanceColor="#EF4444",ht.performanceLevel="Low",ht.bgColor="bg-red-100",ht.textColor="text-red-800")}),(Ge===0||le.every(ht=>ht===le[0]))&&yt.forEach(ht=>{ht.performanceColor="#10B981",ht.performanceLevel="High",ht.bgColor="bg-green-100",ht.textColor="text-green-800"})}else ge.length>0&&ct>0&&(yt=ge.slice(0,5).map((ee,le)=>{const Ee=ct/ge.length,$e=Math.floor(Math.random()*50)+1;return{name:ee.pro_name||ee.name||`Product ${le+1}`,sales:$e,revenue:Math.round(Ee),growth:Math.round((Math.random()*40-20)*10)/10,rank:le+1,performanceColor:le===0?"#10B981":le===1?"#F59E0B":"#EF4444",performanceLevel:le===0?"High":le===1?"Medium":"Low",bgColor:le===0?"bg-green-100":le===1?"bg-yellow-100":"bg-red-100",textColor:le===0?"text-green-800":le===1?"text-yellow-800":"text-red-800"}}));const zt=Array.isArray(z==null?void 0:z.data)?z.data:Array.isArray(z)?z:[],vi={},nr=zt.reduce((ee,le)=>{if(!le)return ee;const Ee=le.id,$e=le.name||String(le).trim();return!Ee||!$e||(vi[Ee]=$e,ee[Ee]={name:$e,count:0,totalValue:0,totalStock:0,avgPrice:0}),ee},{});ge.forEach(ee=>{var He;if(!ee)return;const le=ee.category_id||((He=ee.category)==null?void 0:He.id),Ee=vi[le],$e=parseFloat(ee.price||ee.pro_price||0),Ge=parseInt(ee.qty||ee.quantity||0);!Ee||nr[le]===void 0||(nr[le].count+=1,nr[le].totalValue+=$e,nr[le].totalStock+=Ge,nr[le].avgPrice=nr[le].totalValue/nr[le].count)});const xa=Object.values(nr).reduce((ee,le)=>ee+le.count,0),$n=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#14B8A6"];let Nt=Object.values(nr).map((ee,le)=>({name:(ee.name||"").length>20?ee.name.substring(0,20)+"...":ee.name,value:xa>0?Math.round(ee.count/xa*100):0,count:ee.count,totalValue:ee.totalValue,totalStock:ee.totalStock,avgPrice:Math.round(ee.avgPrice*100)/100,color:$n[le%$n.length]})).sort((ee,le)=>le.count-ee.count);if(Nt.length===0&&ge.length>0){const ee=["Laptops","Apple","Desktop"];Nt=ee.map((le,Ee)=>({name:le,value:Math.round(100/ee.length),count:Math.ceil(ge.length/ee.length),totalValue:1e3*(Ee+1),totalStock:50*(Ee+1),avgPrice:500+Ee*200,color:$n[Ee%$n.length]}))}let Ur=[];if(te&&te.staffPerformance&&te.staffPerformance.length>0)Ur=te.staffPerformance.map(ee=>({name:ee.name.length>15?ee.name.substring(0,15)+"...":ee.name,sales:Math.round(ee.salesRevenue*100)/100,target:ee.target||1e3,efficiency:ee.efficiency,orderCount:ee.salesCount,avgOrderValue:ee.salesCount>0?Math.round(ee.salesRevenue/ee.salesCount*100)/100:0,importsCount:ee.importsCount||0,importsValue:ee.importsValue||0}));else if(pe.length>0)Ur=pe.slice(0,6).map((ee,le)=>{const Ee=Math.max(1e3,ct/pe.length),$e=.5+Math.random()*.5;return{name:ee.full_name||ee.name||`Staff ${le+1}`,sales:Math.round(Ee*$e),target:1e3,efficiency:Math.round(50+Math.random()*40),orderCount:Math.max(1,Math.round(gt/pe.length*$e)),avgOrderValue:Math.max(100,Fr*(.8+Math.random()*.4)),importsCount:0,importsValue:0}});else{const ee=qe.reduce((Ge,He)=>{if(!He||!He.staff_id)return Ge;const it=He.staff_id,ht=He.full_name||He.staff_name||`Staff ${it}`,$t=parseFloat(He.total||He.deposit||He.amount||0);return $t<=0||(Ge[it]||(Ge[it]={id:it,name:ht,totalSales:0,orderCount:0,totalAmount:0}),Ge[it].totalSales+=$t,Ge[it].orderCount+=1,Ge[it].totalAmount+=$t),Ge},{}),le=Object.values(ee).reduce((Ge,He)=>Ge+He.totalSales,0),Ee=Object.values(ee).reduce((Ge,He)=>Ge+He.orderCount,0),$e=Ee>0?le/Ee:0;Ur=Object.values(ee).map(Ge=>{const He=Ge.orderCount>0?Ge.totalAmount/Ge.orderCount:0;let it=50;$e>0&&(it=Math.min(100,Math.max(0,He/$e*50+25)));const ht=Math.max(1e3,$e*1.2);return{name:Ge.name.length>15?Ge.name.substring(0,15)+"...":Ge.name,sales:Math.round(Ge.totalSales*100)/100,target:Math.round(ht),efficiency:Math.round(it),orderCount:Ge.orderCount,avgOrderValue:Math.round(He*100)/100,importsCount:0,importsValue:0}}).filter(Ge=>Ge.orderCount>0).sort((Ge,He)=>He.sales-Ge.sales)}const Yr=ee=>{switch(ee){case"7d":return"Last 7 days";case"30d":return"Last 30 days";case"90d":return"Last 90 days";case"1y":return"Last year";default:return"Last 30 days"}},Pn=[{title:"Total Sales (Revenue)",value:`$${ct.toLocaleString()}`,change:`${gt} orders`,trend:"up",icon:Z4,color:"text-green-600",bgColor:"bg-green-50",period:Yr(e)},{title:"Total Imports (Qty)",value:Tt.toLocaleString(),change:`$${st.toLocaleString()} value`,trend:"up",icon:ss,color:"text-blue-600",bgColor:"bg-blue-50",period:Yr(e)},{title:"Profit",value:`$${qt.toLocaleString()}`,change:`${Yt.toFixed(1)}% margin`,trend:qt>0?"up":"down",icon:Dh,color:"text-purple-600",bgColor:"bg-purple-50",period:Yr(e)},{title:"Products",value:Mt.toLocaleString(),change:`${Br} low stock`,trend:Br>0?"down":"up",icon:Sn,color:"text-orange-600",bgColor:"bg-orange-50",period:"Current inventory"}],br=()=>{U(),Te()};T.useEffect(()=>{let ee;return c&&(ee=setInterval(()=>{br()},3e4)),()=>{ee&&clearInterval(ee)}},[c,br]);const Pr=()=>{i(!0)},J={totalRevenue:ct,totalOrders:gt,totalImports:Tt,profit:qt,profitMargin:Yt,trendData:Gt,categoryData:Nt,topProducts:yt,staffPerformance:Ur,timeRange:e,dateParams:M,summary:{totalProducts:Mt,lowStockProducts:Br,avgOrderValue:gt>0?ct/gt:0}};return Ke&&!f&&!x?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsxs("div",{className:"text-center",children:[l.jsx(ca,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-blue-600"}),l.jsx("p",{className:"text-gray-600",children:"Loading analytics data..."})]})}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:" Analytics Dashboard"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Real-time business insights from your database"}),l.jsxs("div",{className:"flex items-center mt-2 text-sm text-blue-600",children:[l.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${Ke||s?"bg-yellow-500":"bg-green-500"}`}),l.jsx("span",{children:s?"Updating data...":`Live data (${e}): ${xe.length} sales ($${ct.toLocaleString()}), ${we.length} import records (${pt} total qty, $${nt.toLocaleString()}), ${ge.length} products, ${pe.length} staff`})]})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsxs("select",{value:e,onChange:ee=>{o(!0),t(ee.target.value),setTimeout(()=>o(!1),1e3)},className:"input text-sm",disabled:Ke,children:[l.jsx("option",{value:"7d",children:"Last 7 days"}),l.jsx("option",{value:"30d",children:"Last 30 days"}),l.jsx("option",{value:"90d",children:"Last 90 days"}),l.jsx("option",{value:"1y",children:"Last year"})]}),s&&l.jsxs("div",{className:"flex items-center text-sm text-blue-600",children:[l.jsx(ca,{className:"w-4 h-4 animate-spin mr-1"}),l.jsx("span",{children:"Updating..."})]}),l.jsxs("button",{onClick:br,disabled:Ke,className:"btn-secondary text-sm",children:[l.jsx(ca,{className:`w-4 h-4 mr-2 ${Ke?"animate-spin":""}`}),"Refresh"]}),l.jsxs("button",{onClick:()=>u(!c),className:`text-sm px-3 py-2 rounded-md border transition-colors ${c?"bg-green-50 border-green-200 text-green-700 hover:bg-green-100":"bg-gray-50 border-gray-200 text-gray-700 hover:bg-gray-100"}`,children:[l.jsx(ca,{className:`w-4 h-4 mr-2 ${c?"animate-spin":""}`}),c?"ON":"OFF"]}),l.jsxs("button",{onClick:Pr,className:"btn-primary text-sm",children:[l.jsx(Jl,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),De&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx(ov,{className:"w-5 h-5 text-red-500 mr-2"}),l.jsxs("div",{children:[l.jsxs("h4",{className:"text-sm font-medium text-red-800",children:["Data Loading Issues (",fe," error",fe>1?"s":"",")"]}),l.jsxs("p",{className:"text-sm text-red-700 mt-1",children:["Some analytics data couldn't be loaded. Charts may show incomplete information.",l.jsx("button",{onClick:br,className:"underline ml-1 hover:no-underline",children:"Try refreshing"})]})]})]})}),l.jsx("div",{className:"bg-white rounded-lg shadow-sm border-b",children:l.jsx("div",{className:"flex space-x-8 px-6",children:[{id:"overview",label:"Overview",icon:X4},{id:"products",label:"Products",icon:Sn},{id:"staff",label:"Staff",icon:Jo},{id:"gallery",label:"Photo Gallery",icon:Wa}].map(ee=>l.jsxs("button",{onClick:()=>n(ee.id),className:`flex items-center space-x-2 py-4 border-b-2 font-medium text-sm transition-colors ${r===ee.id?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[l.jsx(ee.icon,{className:"w-4 h-4"}),l.jsx("span",{children:ee.label})]},ee.id))})}),r==="overview"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:Ke&&!f&&!x?Array.from({length:4}).map((ee,le)=>l.jsx(dse,{},le)):Pn.map((ee,le)=>l.jsxs("div",{className:`bg-white rounded-lg shadow-sm p-6 ${s?"opacity-50":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:ee.title}),l.jsx("p",{className:"text-xs text-gray-500 mb-1",children:ee.period}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:ee.value})]}),l.jsx("div",{className:`w-12 h-12 rounded-lg ${ee.bgColor} flex items-center justify-center`,children:l.jsx(ee.icon,{className:`w-6 h-6 ${ee.color}`})})]}),l.jsxs("div",{className:"flex items-center mt-4",children:[ee.trend==="up"?l.jsx(Dh,{className:"w-4 h-4 text-green-500 mr-1"}):l.jsx(ov,{className:"w-4 h-4 text-red-500 mr-1"}),l.jsx("span",{className:`text-sm font-medium ${ee.trend==="up"?"text-green-600":"text-red-600"}`,children:ee.change}),l.jsx("span",{className:"text-sm text-gray-500 ml-1",children:"vs last period"})]})]},le))}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:`bg-white rounded-lg shadow-sm p-6 ${s?"opacity-50":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Revenue Trend"}),l.jsx("span",{className:"text-sm text-gray-500",children:Yr(e)})]}),W?l.jsx(nv,{height:300}):ne?l.jsx(z4,{title:"Failed to Load Revenue Data",message:"Unable to fetch sales report data. Please check your connection and try again.",onRetry:U}):Mo(rr,["revenue"])?l.jsx(Yc,{width:"100%",height:300,children:l.jsxs(Sh,{data:rr,children:[l.jsx(nu,{strokeDasharray:"3 3"}),l.jsx(au,{dataKey:"date"}),l.jsx(iu,{}),l.jsx(Zc,{formatter:(ee,le)=>[`$${ee.toLocaleString()}`,le],labelFormatter:ee=>`Date: ${ee}`}),l.jsx(Ro,{dataKey:"revenue",name:"Revenue ($)",fill:"#3B82F6"})]})}):l.jsx("div",{className:"flex items-center justify-center h-[300px] text-gray-500",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-lg font-medium",children:["Total Revenue: $",ct.toLocaleString()]}),l.jsx("p",{className:"text-sm mt-2",children:xe.length>0?`${xe.length} sales records found, but no daily trend data available for selected period`:"No sales data available for selected time period"}),l.jsx("p",{className:"text-xs mt-1 text-gray-400",children:"Try selecting a different time range or check if there are sales in the system"})]})})]}),l.jsxs("div",{className:`bg-white rounded-lg shadow-sm p-6 ${s?"opacity-50":""}`,children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Category Distribution"}),Mo(Nt,["value","count"])?l.jsx(Yc,{width:"100%",height:300,children:l.jsxs(ese,{children:[l.jsx($T,{data:Nt,cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:ee,value:le})=>`${ee}: ${le}%`,children:Nt.map((ee,le)=>l.jsx(Xl,{fill:ee.color},`cell-${le}`))}),l.jsx(Zc,{formatter:(ee,le)=>[`${ee}%`,le],labelFormatter:ee=>`Category: ${ee}`})]})}):l.jsx("div",{className:"flex items-center justify-center h-[300px] text-gray-500",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-lg font-medium",children:"No Category Data Available"}),l.jsx("p",{className:"text-sm mt-2",children:ge.length>0?`${ge.length} products found, but no category information available`:"No products found in the system"}),l.jsx("p",{className:"text-xs mt-1 text-gray-400",children:"Add products with categories to see distribution"})]})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:`bg-white rounded-lg shadow-sm p-6 ${s?"opacity-50":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Import vs Sales Trend"}),l.jsx("span",{className:"text-sm text-gray-500",children:Yr(e)})]}),W||C?l.jsx(nv,{height:300}):ne||I?l.jsx(z4,{title:"Failed to Load Trend Data",message:"Unable to fetch sales or import data for trend analysis.",onRetry:()=>{U()}}):Mo(Gt,["sales","imports"])?l.jsx(Yc,{width:"100%",height:300,children:l.jsxs(Wie,{data:Gt,children:[l.jsx(nu,{strokeDasharray:"3 3"}),l.jsx(au,{dataKey:"date"}),l.jsx(iu,{}),l.jsx(Zc,{formatter:(ee,le)=>le.includes("$")?[`$${ee.toLocaleString()}`,le]:le.includes("Qty")?[`${ee.toLocaleString()} units`,le]:[`${ee.toLocaleString()}`,le],labelFormatter:ee=>`Date: ${ee}`}),l.jsx(Ml,{}),l.jsx(Lh,{type:"monotone",dataKey:"sales",stroke:"#10B981",strokeWidth:2,name:"Sales ($)"}),l.jsx(Lh,{type:"monotone",dataKey:"imports",stroke:"#F59E0B",strokeWidth:2,name:"Imports ($)"}),l.jsx(Lh,{type:"monotone",dataKey:"importQty",stroke:"#3B82F6",strokeWidth:2,name:"Import Qty",strokeDasharray:"5 5"})]})}):l.jsx("div",{className:"flex items-center justify-center h-[300px] text-gray-500",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("p",{className:"text-lg font-medium",children:["Sales: $",ct.toLocaleString()," | Imports: $",st.toLocaleString()," (",Tt," qty)"]}),l.jsx("p",{className:"text-sm mt-2",children:xe.length>0||we.length>0?`Found ${xe.length} sales and ${we.length} import records, but no daily trend data for selected period`:"No sales or import data available for selected time period"}),l.jsx("p",{className:"text-xs mt-1 text-gray-400",children:"Try selecting a different time range or add more transactions"})]})})]}),l.jsxs("div",{className:`bg-white rounded-lg shadow-sm p-6 ${s?"opacity-50":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Staff Performance"}),l.jsx("span",{className:"text-sm text-gray-500",children:Yr(e)})]}),be?l.jsx(nv,{height:300}):Mo(Ur,["sales"])?l.jsx(Yc,{width:"100%",height:300,children:l.jsxs(Sh,{data:Ur,layout:"horizontal",children:[l.jsx(nu,{strokeDasharray:"3 3"}),l.jsx(au,{type:"number"}),l.jsx(iu,{dataKey:"name",type:"category",width:80}),l.jsx(Zc,{}),l.jsx(Ml,{}),l.jsx(Ro,{dataKey:"sales",fill:"#3B82F6",name:"Sales ($)"}),l.jsx(Ro,{dataKey:"target",fill:"#E5E7EB",name:"Target"})]})}):l.jsx("div",{className:"flex items-center justify-center h-[300px] text-gray-500",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-lg font-medium",children:"No Staff Performance Data Available"}),l.jsx("p",{className:"text-sm mt-2",children:te?"Staff analytics loaded but no performance data for selected period":pe.length>0?`${pe.length} staff found but no performance data for selected time period`:"No staff found in the system"}),l.jsx("p",{className:"text-xs mt-1 text-gray-400",children:"Try selecting a different time range or check if there are staff activities in the system"})]})})]})]})]}),r==="products"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border-l-4 border-blue-500",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:" Product Performance Analysis (Based on Revenue)"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Performance Color Coding by Revenue:"}),(()=>{if(yt.length===0)return null;const ee=yt.map(le=>le.revenue);Math.max(...ee),Math.min(...ee)})()]}),yt.length>0&&l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Performance Distribution:"}),l.jsxs("div",{className:"text-sm space-y-1",children:[l.jsxs("div",{children:["High:"," ",yt.filter(ee=>ee.performanceLevel==="High").length," ","products"]}),l.jsxs("div",{children:["Medium:"," ",yt.filter(ee=>ee.performanceLevel==="Medium").length," ","products"]}),l.jsxs("div",{children:["Low:"," ",yt.filter(ee=>ee.performanceLevel==="Low").length," ","products"]})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Top Performing Products"}),Mo(yt,["sales","revenue"])?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b",children:[l.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Product"}),l.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Sales"}),l.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Revenue"}),l.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-600",children:"Performance"})]})}),l.jsx("tbody",{children:yt.map((ee,le)=>l.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[l.jsx("td",{className:"py-3 px-4",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center mr-3",style:{backgroundColor:`${ee.performanceColor||"#3B82F6"}20`},children:l.jsx("span",{className:"font-bold text-sm",style:{color:ee.performanceColor||"#3B82F6"},children:ee.rank})}),l.jsx("span",{className:"font-medium",children:ee.name})]})}),l.jsxs("td",{className:"py-3 px-4",children:[ee.sales," units"]}),l.jsxs("td",{className:"py-3 px-4",children:["$",ee.revenue.toLocaleString()]}),l.jsx("td",{className:"py-3 px-4",children:l.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${ee.bgColor&&ee.textColor?`${ee.bgColor} ${ee.textColor}`:"bg-gray-100 text-gray-800"}`,children:[ee.performanceLevel==="High"?"":ee.performanceLevel==="Medium"?"":ee.performanceLevel==="Low"?"":"",ee.performanceLevel||"Standard"]})})]},le))})]})}):l.jsx("div",{className:"text-center py-8 text-gray-500",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-lg font-medium",children:"No Product Performance Data Available"}),l.jsx("p",{className:"text-sm mt-2",children:se.length>0?`${se.length} products found, but no sales data for selected period`:"No product sales data available for selected time period"}),l.jsx("p",{className:"text-xs mt-1 text-gray-400",children:"Try selecting a different time range or check if there are product sales in the system"})]})})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Product Performance Comparison"}),l.jsxs("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Performance Color Guide with Revenue Thresholds:"}),(()=>{if(yt.length===0)return l.jsx("div",{className:"text-sm text-gray-500",children:"No product data available"});const ee=yt.map(it=>it.revenue),le=Math.max(...ee),Ee=Math.min(...ee),$e=le-Ee,Ge=le-$e*.33,He=Ee+$e*.33;return l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-4 h-4 bg-green-500 rounded mr-2"}),l.jsxs("span",{children:[" ",l.jsx("strong",{children:"High Revenue"}),"  $",Ge.toFixed(0)]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded mr-2"}),l.jsxs("span",{children:[" ",l.jsx("strong",{children:"Medium Revenue"})," $",He.toFixed(0)," - $",(Ge-1).toFixed(0)]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"w-4 h-4 bg-red-500 rounded mr-2"}),l.jsxs("span",{children:[" ",l.jsx("strong",{children:"Low Revenue"})," < $",He.toFixed(0)]})]})]}),l.jsxs("div",{className:"text-xs text-gray-600 mt-2 p-2 bg-blue-50 rounded",children:[l.jsx("strong",{children:"Current Revenue Range:"})," $",Ee.toLocaleString()," - $",le.toLocaleString(),l.jsx("br",{})]})]})})()]}),Mo(yt,["sales","revenue"])?l.jsx(Yc,{width:"100%",height:400,children:l.jsxs(Sh,{data:yt.slice(0,5),children:[l.jsx(nu,{strokeDasharray:"3 3"}),l.jsx(au,{dataKey:"name"}),l.jsx(iu,{}),l.jsx(Zc,{formatter:(ee,le,Ee)=>{const $e=Ee.payload;return[le.includes("Revenue")?`$${ee.toLocaleString()}`:`${ee.toLocaleString()} units`,`${le} (${$e.performanceLevel||"Standard"} Performance)`]},labelFormatter:ee=>`Product: ${ee}`}),l.jsx(Ml,{}),l.jsx(Ro,{dataKey:"sales",name:"Sales (units)",children:yt.slice(0,5).map((ee,le)=>l.jsx(Xl,{fill:ee.performanceColor||"#3B82F6"},`sales-cell-${le}`))}),l.jsx(Ro,{dataKey:"revenue",name:"Revenue ($)",children:yt.slice(0,5).map((ee,le)=>l.jsx(Xl,{fill:ee.performanceColor||"#10B981"},`revenue-cell-${le}`))})]})}):l.jsx("div",{className:"flex items-center justify-center h-[400px] text-gray-500",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-lg font-medium",children:"No Product Data Available for Chart"}),l.jsx("p",{className:"text-sm mt-2",children:se.length>0?`${se.length} products found, but no sales/revenue data for chart visualization`:"No product data found in the system"}),l.jsx("p",{className:"text-xs mt-1 text-gray-400",children:"Add products with sales data to see performance comparison"})]})})]})]}),r==="staff"&&l.jsxs("div",{className:"space-y-6",children:[te&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-4 border-l-4 border-blue-500",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:" Team Performance Summary"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-500",children:"Total Staff"}),l.jsx("p",{className:"font-semibold text-lg",children:((me=te.teamMetrics)==null?void 0:me.totalStaff)||0})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-500",children:"Team Sales"}),l.jsxs("p",{className:"font-semibold text-lg",children:["$",(((Oe=te.teamMetrics)==null?void 0:Oe.totalSales)||0).toLocaleString()]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-500",children:"Total Orders"}),l.jsx("p",{className:"font-semibold text-lg",children:((Me=te.teamMetrics)==null?void 0:Me.totalOrders)||0})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-gray-500",children:"Avg Efficiency"}),l.jsxs("p",{className:"font-semibold text-lg",children:[Math.round(((Ce=te.teamMetrics)==null?void 0:Ce.averageEfficiency)||0),"%"]})]})]})]}),te&&te.chartData&&l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Staff Sales vs Imports Activity"}),Mo(te.chartData.salesImportsChart,["sales","imports"])?l.jsx(Yc,{width:"100%",height:300,children:l.jsxs(Sh,{data:te.chartData.salesImportsChart.slice(0,8),children:[l.jsx(nu,{strokeDasharray:"3 3"}),l.jsx(au,{dataKey:"name"}),l.jsx(iu,{}),l.jsx(Zc,{formatter:(ee,le)=>[`$${ee.toLocaleString()}`,le],labelFormatter:ee=>`Staff: ${ee}`}),l.jsx(Ml,{}),l.jsx(Ro,{dataKey:"sales",fill:"#10B981",name:"Sales ($)"}),l.jsx(Ro,{dataKey:"imports",fill:"#F59E0B",name:"Imports ($)"})]})}):l.jsx("div",{className:"flex items-center justify-center h-[300px] text-gray-500",children:"No sales vs imports data available for staff"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" Staff Performance Details"}),Mo(Ur,["sales"])?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ur.slice(0,6).map((ee,le)=>{const Ee=pe.find($e=>$e.full_name===ee.name||$e.name===ee.name)||{};return l.jsxs("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[l.jsxs("div",{className:"flex items-center mb-3",children:[l.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mr-3 ${ee.efficiency>=70?"bg-green-100":ee.efficiency>=50?"bg-yellow-100":"bg-red-100"}`,children:l.jsx(Jo,{className:`w-6 h-6 ${ee.efficiency>=70?"text-green-600":ee.efficiency>=50?"text-yellow-600":"text-red-600"}`})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900",children:ee.name}),l.jsx("p",{className:"text-sm text-gray-500",children:Ee.email||"No email"})]})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Role:"}),l.jsx("span",{className:"font-medium capitalize",children:Ee.user_type||Ee.type||"Staff"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Total Sales:"}),l.jsxs("span",{className:"font-medium",children:["$",ee.sales.toLocaleString()]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Orders:"}),l.jsx("span",{className:"font-medium",children:ee.orderCount})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Avg Order:"}),l.jsxs("span",{className:"font-medium",children:["$",ee.avgOrderValue.toFixed(2)]})]}),ee.importsCount!==void 0&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Imports:"}),l.jsx("span",{className:"font-medium",children:ee.importsCount})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Import Value:"}),l.jsxs("span",{className:"font-medium",children:["$",(ee.importsValue||0).toLocaleString()]})]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-600",children:"Performance:"}),l.jsxs("span",{className:`font-medium ${ee.efficiency>=70?"text-green-600":ee.efficiency>=50?"text-yellow-600":"text-red-600"}`,children:[ee.efficiency,"%"]})]}),l.jsx("div",{className:"mt-2 pt-2 border-t",children:l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:`h-2 rounded-full ${ee.efficiency>=70?"bg-green-500":ee.efficiency>=50?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Math.min(100,ee.efficiency)}%`}})})})]})]},ee.id||le)})}):l.jsx("div",{className:"text-center py-8 text-gray-500",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-lg font-medium",children:"No Staff Performance Data Available"}),l.jsx("p",{className:"text-sm mt-2",children:te?"Staff analytics loaded but no detailed performance data for selected period":"No staff performance data available for selected time period"}),l.jsx("p",{className:"text-xs mt-1 text-gray-400",children:"Try selecting a different time range or check if there are staff activities in the system"})]})})]})]}),r==="gallery"&&l.jsxs("div",{className:"space-y-6",children:[l.jsx(vv,{items:ge,title:"Products",type:"product"}),l.jsx(vv,{items:pe,title:"Staff",type:"staff"})]}),r==="debug"&&l.jsx("div",{className:"space-y-6",children:l.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[l.jsx("h3",{className:"font-medium text-yellow-800 mb-2",children:" API Debug Tools"}),l.jsx("p",{className:"text-sm text-yellow-700",children:'Use this tool to test export endpoints and diagnose API issues. Click "Test Export Endpoints" to check which export URLs are available.'})]})}),a&&l.jsx(fse,{type:"analytics",title:"Analytics",analyticsData:J,onClose:()=>i(!1)})]})},mse=({user:e,mode:t,onClose:r,onSuccess:n})=>{var x,y,_,w,P;const a=t==="view",i=t==="edit",s=_q(),o=Sq(),{register:c,handleSubmit:u,formState:{errors:f},reset:d,watch:m}=Ta({defaultValues:e?{name:e.name||"",email:e.email||"",phone:e.phone||((x=e.profile)==null?void 0:x.phone)||"",address:e.address||((y=e.profile)==null?void 0:y.address)||"",type:e.type||e.user_type||""}:{}}),h=m("password");T.useEffect(()=>{var E,D;e&&d({name:e.name||"",email:e.email||"",phone:e.phone||((E=e.profile)==null?void 0:E.phone)||"",address:e.address||((D=e.profile)==null?void 0:D.address)||"",type:e.type||e.user_type||""})},[e,d]);const g=async E=>{var D;try{const{password_confirmation:N,...k}=E,F=k.image&&k.image[0];let L;if(F){const M=k.image[0];if(!M.type.startsWith("image/"))throw new Error("Selected file is not an image");const U=new FormData;U.append("name",String(k.name||"")),U.append("email",String(k.email||"")),U.append("phone",String(k.phone||"")),U.append("address",String(k.address||"")),U.append("type",String(k.type||"")),k.password&&U.append("password",k.password),U.append("image",M),L=U}else L={name:String(k.name||""),email:String(k.email||""),phone:String(k.phone||""),address:String(k.address||""),type:String(k.type||"")},k.password&&(L.password=k.password);let A;i?A=await o.mutateAsync({id:e.id,data:L}):A=await s.mutateAsync(L);const S=A&&(((D=A.data)==null?void 0:D.data)||A.data||A)||null;if(typeof n=="function"){const M=i?"update":"create";try{n({type:M,user:S})}catch{}}r()}catch(N){console.error("Submit failed:",N),alert("Error: "+N.message)}},p=s.isLoading||o.isLoading;return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 sm:p-4",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-[95vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-gray-200 sticky top-0 bg-white",children:[l.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900",children:t==="create"?"Add New User":t==="edit"?"Edit User":"User Details"}),l.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 p-1",children:l.jsx(Kr,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),l.jsxs("form",{onSubmit:u(g),className:"p-4 sm:p-6 space-y-4 sm:space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),l.jsx("input",{...c("name",{required:"Name is required"}),type:"text",className:"input",disabled:a}),f.name&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.name.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),l.jsx("input",{...c("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid email address"}}),type:"email",className:"input",disabled:a}),f.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),l.jsx("input",{...c("phone"),type:"tel",className:"input",disabled:a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User Type *"}),l.jsxs("select",{...c("type",{required:"User type is required"}),className:"input",disabled:a,children:[l.jsx("option",{value:"",children:"Select User Type"}),l.jsx("option",{value:"admin",children:"Administrator - Full system access"}),l.jsx("option",{value:"manager",children:"Manager - Read-only access (cannot manage users)"}),l.jsx("option",{value:"sales",children:"Sales Staff - Manage orders & payments only"}),l.jsx("option",{value:"inventory",children:"Inventory Staff - Manage products & imports only"}),l.jsx("option",{value:"user",children:"User - Read-only access to all modules"})]}),f.type&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.type.message}),l.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Role Permissions:"}),l.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[l.jsxs("div",{children:[l.jsx("strong",{children:"Admin:"})," Create, Read, Update, Delete all modules"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Manager:"})," Read-only access (cannot update/insert/delete users)"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Sales Staff:"})," Manage sales orders and payments only"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"Inventory Staff:"})," Manage products and stock imports only"]}),l.jsxs("div",{children:[l.jsx("strong",{children:"User:"})," Read-only access to view all data"]})]})]})]}),!i&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password *"}),l.jsx("input",{...c("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:"password",className:"input"}),f.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.password.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password *"}),l.jsx("input",{...c("password_confirmation",{required:"Please confirm your password",validate:E=>E===h||"Passwords do not match"}),type:"password",className:"input"}),f.password_confirmation&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.password_confirmation.message})]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),l.jsx("textarea",{...c("address"),rows:3,className:"input",disabled:a})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profile Photo"}),i&&((e==null?void 0:e.image)||((_=e==null?void 0:e.profile)==null?void 0:_.image))&&l.jsxs("div",{className:"mb-3",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Current Photo:"}),l.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full overflow-hidden border border-gray-300",children:l.jsx("img",{src:e.image_url||((w=e.profile)==null?void 0:w.image_url)||Qo(e.image||((P=e.profile)==null?void 0:P.image),oa.base_image_url),alt:"User",className:"w-full h-full object-cover"})})]}),l.jsx("input",{...c("image"),type:"file",accept:"image/jpeg,image/png,image/jpg,image/gif,image/webp,image/avif",className:"input text-sm",disabled:a}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Supported formats: JPEG, PNG, JPG, GIF, WEBP, AVIF (max 10MB)"})]}),!a&&l.jsxs("div",{className:"flex flex-col sm:flex-row justify-end space-y-3 sm:space-y-0 sm:space-x-3 pt-4 border-t border-gray-200",children:[l.jsx("button",{type:"button",onClick:r,className:"btn-secondary w-full sm:w-auto order-2 sm:order-1",disabled:p,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary w-full sm:w-auto order-1 sm:order-2",disabled:p,children:p?l.jsx(pr,{size:"sm"}):i?"Update User":"Create User"})]}),a&&l.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:l.jsx("button",{type:"button",onClick:r,className:"btn-secondary w-full sm:w-auto",children:"Close"})})]})]})})},H4=e=>({admin:"bg-gradient-to-r from-red-500 to-red-600 text-white border-red-600 shadow-lg font-bold",manager:"bg-gradient-to-r from-purple-500 to-purple-600 text-white border-purple-600 shadow-lg font-bold",sales:"bg-gradient-to-r from-green-500 to-green-600 text-white border-green-600 shadow-lg font-bold",staff_sale:"bg-gradient-to-r from-green-500 to-green-600 text-white border-green-600 shadow-lg font-bold",inventory:"bg-gradient-to-r from-blue-500 to-blue-600 text-white border-blue-600 shadow-lg font-bold",inventory_staff:"bg-gradient-to-r from-blue-500 to-blue-600 text-white border-blue-600 shadow-lg font-bold",user:"bg-gradient-to-r from-gray-500 to-gray-600 text-white border-gray-600 shadow-lg font-semibold"})[e]||"bg-gradient-to-r from-gray-500 to-gray-600 text-white border-gray-600 shadow-lg font-semibold",V4=e=>{const r={admin:jO,manager:tN,sales:ss,staff_sale:ss,inventory:Sn,inventory_staff:Sn,user:Xo}[e]||Xo;return l.jsx(r,{className:"w-4 h-4 mr-1.5 text-white"})},pse=()=>{var D;const{hasPermission:e}=Rn(),[t,r]=T.useState(""),[n,a]=T.useState(null),[i,s]=T.useState(!1),[o,c]=T.useState("create"),{data:u,isLoading:f,error:d,refetch:m}=nj(),h=Nq(),g=((D=u==null?void 0:u.data)==null?void 0:D.data)||(u==null?void 0:u.data)||u||[],[p,x]=T.useState([]);if(T.useEffect(()=>{Array.isArray(g)&&x(g)},[g]),!e("manage_users"))return l.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[l.jsx(tN,{className:"w-16 h-16 text-red-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-500",children:"You don't have permission to manage users"})]});const y=()=>{a(null),c("create"),s(!0)},_=N=>{a(N),c("view"),s(!0)},w=N=>{a(N),c("edit"),s(!0)},P=async N=>{if(a(N),window.confirm(`Are you sure you want to delete "${N.name}"?`))try{x(k=>k.filter(F=>F.id!==N.id)),await h.mutateAsync(N.id),m()}catch(k){console.error("Delete failed:",k),m()}finally{a(null)}else a(null)};if(f&&!u)return l.jsx(pr,{className:"h-64"});if(d)return l.jsx("div",{className:"text-red-600",children:"Error loading users"});const E=Array.isArray(p)?p.filter(N=>(N.name||"").toLowerCase().includes(t.toLowerCase())||(N.email||"").toLowerCase().includes(t.toLowerCase())):[];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Users"}),l.jsx("p",{className:"text-gray-600",children:"Manage system users and permissions"})]}),l.jsxs("button",{onClick:y,className:"btn-primary",children:[l.jsx(za,{className:"w-4 h-4 mr-2"}),"Add User"]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsxs("div",{className:"relative mb-4",children:[l.jsx(os,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),l.jsx("input",{type:"text",placeholder:"Search users...",value:t,onChange:N=>r(N.target.value),className:"input pl-10"})]}),l.jsxs("div",{className:"border-t pt-4",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:" User Role Colors & Permissions:"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-3",children:[{type:"admin",label:"Administrator",desc:"Full Access"},{type:"manager",label:"Manager",desc:"Read Only"},{type:"sales",label:"Sales Staff",desc:"Orders & Payments"},{type:"inventory",label:"Inventory Staff",desc:"Products & Stock"},{type:"user",label:"User",desc:"View Only"}].map(N=>l.jsxs("div",{className:"text-center",children:[l.jsxs("span",{className:`inline-flex items-center px-3 py-1.5 rounded-full text-sm border-2 ${H4(N.type)} mb-1`,children:[V4(N.type),N.label]}),l.jsx("div",{className:"text-xs text-gray-500",children:N.desc})]},N.type))})]})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{className:"table-header",children:l.jsxs("tr",{children:[l.jsx("th",{className:"table-head",children:"User"}),l.jsx("th",{className:"table-head",children:"Email"}),l.jsx("th",{className:"table-head",children:"Role"}),l.jsx("th",{className:"table-head",children:"Created"}),l.jsx("th",{className:"table-head",children:"Actions"})]})}),l.jsx("tbody",{children:E.map(N=>{var k,F,L,A,S,M,U,G,H,q;return l.jsxs("tr",{className:"table-row",children:[l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"w-10 h-10 rounded-full overflow-hidden mr-3 border-2 border-gray-200",children:[N.image||(k=N.profile)!=null&&k.image?l.jsx("img",{src:N.image_url||((F=N.profile)==null?void 0:F.image_url)||Qo(N.image||((L=N.profile)==null?void 0:L.image),oa.base_image_url),alt:N.name,className:"w-full h-full object-cover",onError:V=>{V.target.style.display="none",V.target.nextSibling.style.display="flex"}}):null,l.jsx("div",{className:`w-full h-full bg-primary-600 flex items-center justify-center ${N.image||(A=N.profile)!=null&&A.image?"hidden":""}`,children:l.jsx(Xo,{className:"w-5 h-5 text-white"})})]}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-gray-900",children:N.name}),l.jsxs("div",{className:"text-sm text-gray-500 space-y-0.5",children:[(N.phone||((S=N.profile)==null?void 0:S.phone))&&l.jsxs("div",{children:[" ",N.phone||((M=N.profile)==null?void 0:M.phone)]}),(N.address||((U=N.profile)==null?void 0:U.address))&&l.jsxs("div",{className:"truncate max-w-48",children:[" ",N.address||((G=N.profile)==null?void 0:G.address)]}),!(N.phone||(H=N.profile)!=null&&H.phone)&&!(N.address||(q=N.profile)!=null&&q.address)&&l.jsx("div",{children:"No contact info"})]})]})]})}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:"text-gray-900",children:N.email})}),l.jsx("td",{className:"table-cell",children:l.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm border-2 ${H4(N.type||N.user_type)}`,children:[V4(N.type||N.user_type),mv(N.type||N.user_type)]})}),l.jsx("td",{className:"table-cell",children:l.jsx("span",{className:"text-sm text-gray-500",children:Mr(N.created_at)})}),l.jsx("td",{className:"table-cell",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>_(N),className:"text-gray-400 hover:text-gray-600",title:"View",children:l.jsx(Wa,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>w(N),className:"text-blue-400 hover:text-blue-600",title:"Edit",children:l.jsx(Li,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>P(N),className:"text-red-400 hover:text-red-600",title:"Delete",disabled:h.isLoading,children:h.isLoading&&(n==null?void 0:n.id)===N.id?l.jsx("div",{className:"w-4 h-4 border-2 border-red-400 border-t-transparent rounded-full animate-spin"}):l.jsx(Ha,{className:"w-4 h-4"})})]})})]},N.id)})})]})}),E.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Xo,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No users found"}),l.jsx("p",{className:"text-gray-500",children:t?"Try adjusting your search terms":"Get started by adding your first user"})]})]}),i&&l.jsx(mse,{user:n,mode:o,onClose:()=>s(!1),onSuccess:({type:N,user:k})=>{if(!k){m();return}x(F=>N==="create"?[k,...F]:N==="update"?F.map(L=>L.id===k.id?{...L,...k}:L):F),m()}})]})},gse=()=>{const[e,t]=T.useState(null),[r,n]=T.useState(!0),[a,i]=T.useState(null),s=T.useCallback(async()=>{try{n(!0);const o=await ut.get("/notifications");t(o.data),i(null)}catch(o){i(o)}finally{n(!1)}},[]);return T.useEffect(()=>{s()},[s]),{data:e,isLoading:r,error:a,refetch:s}},vse=()=>{const[e,t]=T.useState(!1),r=async n=>{var a,i;try{t(!0);const s=await ut.patch(`/notifications/${n}/read`);return Xe.success("Notification marked as read"),s.data}catch(s){throw Xe.error(((i=(a=s.response)==null?void 0:a.data)==null?void 0:i.message)||"Failed to mark notification as read"),s}finally{t(!1)}};return{mutate:r,mutateAsync:r,isLoading:e}},xse=()=>{const[e,t]=T.useState(!1),r=async()=>{var n,a;try{t(!0);const i=await ut.patch("/notifications/mark-all-read");return Xe.success("All notifications marked as read"),i.data}catch(i){throw Xe.error(((a=(n=i.response)==null?void 0:n.data)==null?void 0:a.message)||"Failed to mark all notifications as read"),i}finally{t(!1)}};return{mutate:r,mutateAsync:r,isLoading:e}},yse=()=>{var A;const[e,t]=T.useState("all"),[r,n]=T.useState(new Date),[a,i]=T.useState(!0),{data:s,isLoading:o,error:c,refetch:u}=gse(),f=vse(),d=xse(),[m,h]=T.useState([]),g=async()=>{var S;try{const M=await ut.get("/products"),G=(Array.isArray((S=M==null?void 0:M.data)==null?void 0:S.data)?M.data.data:Array.isArray(M==null?void 0:M.data)?M.data:Array.isArray(M)?M:[]).filter(H=>{const q=parseInt(H.qty||0),V=parseInt(H.reorder_point||10);return q<=V});h(G)}catch(M){console.error("Low stock fetch error:",M),h([])}};T.useEffect(()=>{g()},[a]),T.useEffect(()=>{},[a,u,g]);const p=async()=>{try{await Promise.all([u(),g()]),n(new Date)}catch(S){console.error("Manual refresh failed:",S)}},x=()=>{const M=new Date-r,U=Math.floor(M/1e3),G=Math.floor(U/60);return U<30?"Just now":U<60?`${U}s ago`:G<60?`${G}m ago`:r.toLocaleTimeString()},y=((A=s==null?void 0:s.data)==null?void 0:A.data)||(s==null?void 0:s.data)||s||[],P=[...(Array.isArray(m)?m:[]).map(S=>{var H,q;const M=parseInt(S.qty||0),U=parseInt(S.reorder_point||10),G=M===0?"critical":M<=3?"high":"medium";return{id:`low-stock-${S.id}`,type:M===0?"error":"warning",title:M===0?" Out of Stock":" Low Stock Alert",message:M===0?`${S.pro_name} is completely out of stock! Immediate reorder required.`:`${S.pro_name} is running low with only ${M} units remaining (Reorder at: ${U} units)`,is_read:!1,created_at:new Date().toISOString(),urgency:G,data:{product_id:S.id,product_name:S.pro_name,current_qty:M,reorder_point:U,category:((H=S.category)==null?void 0:H.cat_name)||"Unknown",brand:((q=S.brand)==null?void 0:q.brand_name)||"Unknown"}}}),...y],E=Array.isArray(P)?P.filter(S=>e==="unread"?!S.is_read:e==="read"?S.is_read:!0):[],D=Array.isArray(P)?P.filter(S=>!S.is_read).length:0,N=async S=>{try{await f.mutateAsync(S)}catch(M){console.error("Failed to mark as read:",M)}},k=async()=>{if(window.confirm("Mark all notifications as read?"))try{await d.mutateAsync()}catch(S){console.error("Failed to mark all as read:",S)}},F=S=>{switch(S){case"success":return l.jsx(Xm,{className:"w-5 h-5 text-green-500"});case"warning":return l.jsx(pu,{className:"w-5 h-5 text-orange-500"});case"error":return l.jsx(Kr,{className:"w-5 h-5 text-red-500"});case"low_stock":return l.jsx(Sn,{className:"w-5 h-5 text-red-500"});case"info":default:return l.jsx(EO,{className:"w-5 h-5 text-blue-500"})}},L=S=>{switch(S){case"success":return"border-l-green-500";case"warning":return"border-l-yellow-500";case"info":default:return"border-l-blue-500"}};return o?l.jsx(pr,{className:"h-64"}):c?l.jsxs("div",{className:"text-red-600",children:["Error loading notifications: ",c.message]}):l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),l.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[l.jsx("p",{className:"text-gray-600",children:"View system notifications"}),l.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[l.jsxs("span",{children:["Last updated: ",x()]}),l.jsx("div",{className:`w-2 h-2 rounded-full ${a?"bg-green-500":"bg-gray-400"}`})]})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>i(!a),className:`px-3 py-1 text-xs rounded-full border transition-colors ${a?"bg-green-100 text-green-800 border-green-200":"bg-gray-100 text-gray-600 border-gray-200"}`,title:`Auto refresh is ${a?"enabled":"disabled"}`,children:a?" Auto":" Manual"}),l.jsxs("button",{onClick:p,className:"btn-secondary text-sm flex items-center",title:"Refresh now",disabled:o,children:[l.jsx(ca,{className:`w-4 h-4 mr-1 ${o?"animate-spin":""}`}),"Refresh"]}),D>0&&l.jsx("button",{onClick:k,className:"btn-primary text-sm",children:"Mark All as Read"})]})]}),l.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:l.jsxs("div",{className:"flex space-x-4",children:[l.jsxs("button",{onClick:()=>t("all"),className:`px-4 py-2 rounded-md text-sm font-medium ${e==="all"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:["All (",P.length||0,")"]}),l.jsxs("button",{onClick:()=>t("unread"),className:`px-4 py-2 rounded-md text-sm font-medium ${e==="unread"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:["Unread (",D,")"]}),l.jsxs("button",{onClick:()=>t("read"),className:`px-4 py-2 rounded-md text-sm font-medium ${e==="read"?"bg-blue-100 text-blue-700":"text-gray-500 hover:text-gray-700"}`,children:["Read (",(P.length||0)-D,")"]})]})}),l.jsx("div",{className:"space-y-4",children:E.length>0?E.map(S=>l.jsx("div",{className:`bg-white rounded-lg shadow p-4 border-l-4 ${S.is_read?"border-l-gray-300":"border-l-blue-500 bg-blue-50"} ${L(S.type)}`,children:l.jsxs("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0 mt-1",children:F(S.type)}),l.jsxs("div",{className:"ml-3 flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:`text-sm font-medium ${S.is_read?"text-gray-900":"text-gray-900 font-semibold"}`,children:S.title}),l.jsxs("div",{className:"flex items-center space-x-2",children:[!S.is_read&&l.jsx("button",{onClick:()=>N(S.id),className:"text-xs text-blue-600 hover:text-blue-800",children:"Mark as read"}),l.jsx("span",{className:"text-xs text-gray-500",children:Mr(S.created_at)}),l.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:l.jsx(Kr,{className:"w-4 h-4"})})]})]}),l.jsx("div",{className:"mt-1 text-sm text-gray-600",children:S.message}),S.data&&S.data.product_name&&l.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-md",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Product:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:S.data.product_name})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Current Stock:"}),l.jsxs("span",{className:`ml-1 font-semibold ${S.data.current_qty===0?"text-red-600":S.data.current_qty<=3?"text-orange-600":"text-yellow-600"}`,children:[S.data.current_qty," units"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Reorder Point:"}),l.jsxs("span",{className:"ml-1 text-gray-900",children:[S.data.reorder_point," units"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-700",children:"Category:"}),l.jsx("span",{className:"ml-1 text-gray-900",children:S.data.category})]})]}),l.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[l.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${S.urgency==="critical"?"bg-red-100 text-red-800":S.urgency==="high"?"bg-orange-100 text-orange-800":"bg-yellow-100 text-yellow-800"}`,children:S.urgency==="critical"?" Critical":S.urgency==="high"?" High Priority":" Medium Priority"}),l.jsxs("button",{className:"text-xs text-blue-600 hover:text-blue-800 flex items-center",children:[l.jsx(Sn,{className:"w-3 h-3 mr-1"}),"View Product"]})]})]}),S.related_url&&l.jsx("div",{className:"mt-2",children:l.jsxs("a",{href:S.related_url,className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:[l.jsx(Wa,{className:"w-4 h-4 mr-1"}),"View details"]})})]})]})},S.id)):l.jsxs("div",{className:"bg-white rounded-lg shadow p-12 text-center",children:[l.jsx(Ox,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No notifications"}),l.jsx("p",{className:"text-gray-500",children:e==="unread"?"You have no unread notifications.":"You have no notifications."})]})})]})},bse=()=>{var H,q,V,W;const{user:e,updateUser:t}=Rn(),[r,n]=T.useState("profile"),[a,i]=T.useState(!1),[s,o]=T.useState((e==null?void 0:e.photo)||null),[c,u]=T.useState(null),[f,d]=T.useState(""),[m,h]=T.useState(""),g=T.useRef(null);T.useEffect(()=>{var ce;const ne=(e==null?void 0:e.photo_url)||((ce=e==null?void 0:e.profile)==null?void 0:ce.image_url)||null;o(ne)},[e]);const{register:p,handleSubmit:x,formState:{errors:y},reset:_}=Ta({defaultValues:{name:(e==null?void 0:e.name)||(e==null?void 0:e.full_name)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",address:(e==null?void 0:e.address)||""}});T.useEffect(()=>{e&&_({name:e.name||e.full_name||"",email:e.email||"",phone:e.phone||"",address:e.address||""})},[e,_]);const{register:w,handleSubmit:P,formState:{errors:E},watch:D,reset:N}=Ta(),k=D("password"),F=async ne=>{var ce,C;i(!0),h(""),d("");try{const I=await ut.put("/profile",{name:ne.name,email:ne.email,phone:ne.phone,address:ne.address});if(I.success){const B={...e,...ne,full_name:ne.name};I.data&&(Object.assign(B,I.data),I.data.profile&&(B.profile={...B.profile,...I.data.profile})),t(B),h("Profile updated successfully!"),setTimeout(()=>h(""),3e3)}else d(I.message||"Failed to update profile")}catch(I){console.error("Profile update error:",I),d(((C=(ce=I.response)==null?void 0:ce.data)==null?void 0:C.message)||"Failed to update profile. Please try again.")}finally{i(!1)}},L=async ne=>{var ce,C;i(!0),h(""),d("");try{const I=await ut.put("/profile/password",{current_password:ne.current_password,password:ne.password,password_confirmation:ne.password_confirmation});I.success?(N(),h("Password updated successfully!"),setTimeout(()=>h(""),3e3)):d(I.message||"Failed to update password")}catch(I){console.error("Password update error:",I),d(((C=(ce=I.response)==null?void 0:ce.data)==null?void 0:C.message)||"Failed to update password. Please try again.")}finally{i(!1)}},A=()=>{var ne;(ne=g.current)==null||ne.click()},S=ne=>{const ce=ne.target.files[0];if(!ce)return;if(!ce.type.startsWith("image/")){d("Please select a valid image file");return}if(ce.size>5*1024*1024){d("Image size must be less than 5MB");return}d("");const C=new FileReader;C.onload=I=>{u(I.target.result)},C.readAsDataURL(ce)},M=async()=>{var ne;if((ne=g.current)!=null&&ne.files[0]){i(!0),d(""),h("");try{if(c){o(c);const ce={...e,photo_url:c,image_url:c,profile:{...e.profile,image_url:c}};t(ce),h("Photo updated successfully! (Demo mode - changes are temporary)"),u(null),g.current&&(g.current.value=""),setTimeout(()=>h(""),3e3)}else d("Please select a photo first");return}catch(ce){console.error("Photo upload error:",ce),d("Photo upload feature is not yet implemented on the backend.")}finally{i(!1)}}},U=()=>{u(null),d(""),g.current&&(g.current.value="")},G=async()=>{if(confirm("Are you sure you want to remove your profile photo?")){i(!0),d(""),h("");try{o(null);const ne={...e,photo_url:null,image_url:null,profile:{...e.profile,image_url:null}};t(ne),h("Photo removed successfully! (Demo mode - changes are temporary)"),setTimeout(()=>h(""),3e3);return}catch(ne){console.error("Photo removal error:",ne),d("Photo removal feature is not yet implemented on the backend.")}finally{i(!1)}}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile"}),l.jsx("p",{className:"text-gray-600",children:"Manage your account settings"})]}),l.jsxs("div",{className:"bg-white rounded-lg shadow",children:[l.jsx("div",{className:"border-b border-gray-200",children:l.jsxs("nav",{className:"-mb-px flex",children:[l.jsx("button",{onClick:()=>n("profile"),className:`py-4 px-6 text-sm font-medium border-b-2 ${r==="profile"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Profile Information"}),l.jsx("button",{onClick:()=>n("password"),className:`py-4 px-6 text-sm font-medium border-b-2 ${r==="password"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Change Password"})]})}),l.jsxs("div",{className:"p-6",children:[m&&l.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center",children:[l.jsx(Xm,{className:"w-5 h-5 text-green-600 mr-2"}),l.jsx("span",{className:"text-green-800",children:m})]}),f&&l.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:l.jsx("span",{className:"text-red-800",children:f})}),r==="profile"&&l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center space-x-6",children:[l.jsxs("div",{className:"relative",children:[l.jsxs("div",{className:"w-20 h-20 rounded-full overflow-hidden border-4 border-gray-200",children:[c?l.jsx("img",{src:c,alt:"Preview",className:"w-full h-full object-cover"}):s||e!=null&&e.photo_url||(H=e==null?void 0:e.profile)!=null&&H.image_url?l.jsx("img",{src:s||(e==null?void 0:e.photo_url)||((q=e==null?void 0:e.profile)==null?void 0:q.image_url),alt:e==null?void 0:e.name,className:"w-full h-full object-cover",onError:ne=>{ne.target.style.display="none",ne.target.nextSibling.style.display="flex"}}):null,l.jsx("div",{className:`w-full h-full bg-primary-600 flex items-center justify-center ${c||s||e!=null&&e.photo_url||(V=e==null?void 0:e.profile)!=null&&V.image_url?"hidden":""}`,children:l.jsx(Xo,{className:"w-8 h-8 text-white"})})]}),c&&l.jsx("div",{className:"absolute -top-2 -right-2",children:l.jsx("button",{onClick:U,className:"w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600",children:l.jsx(Kr,{className:"w-3 h-3"})})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e==null?void 0:e.name}),l.jsx("p",{className:"text-sm text-gray-500",children:mv(e==null?void 0:e.type)}),c?l.jsxs("div",{className:"mt-2 space-x-2",children:[l.jsx("button",{onClick:M,disabled:a,className:"inline-flex items-center px-3 py-1 bg-primary-600 text-white rounded-md text-sm hover:bg-primary-700 disabled:opacity-50",children:a?l.jsx(pr,{size:"sm"}):l.jsxs(l.Fragment,{children:[l.jsx(kx,{className:"w-4 h-4 mr-2"}),"Upload"]})}),l.jsx("button",{onClick:U,className:"inline-flex items-center px-3 py-1 border border-gray-300 rounded-md text-sm text-gray-700 hover:bg-gray-50",children:"Cancel"})]}):l.jsxs("div",{className:"mt-2 space-x-2",children:[l.jsxs("button",{onClick:A,className:"inline-flex items-center px-3 py-1 border border-gray-300 rounded-md text-sm text-gray-700 hover:bg-gray-50",children:[l.jsx(PO,{className:"w-4 h-4 mr-2"}),"Change Photo"]}),(s||(e==null?void 0:e.photo_url)||((W=e==null?void 0:e.profile)==null?void 0:W.image_url))&&l.jsxs("button",{onClick:G,className:"inline-flex items-center px-3 py-1 border border-red-300 text-red-700 rounded-md text-sm hover:bg-red-50",children:[l.jsx(Kr,{className:"w-4 h-4 mr-2"}),"Remove"]})]})]})]}),l.jsx("input",{ref:g,type:"file",accept:"image/*",onChange:S,className:"hidden"}),l.jsxs("form",{onSubmit:x(F),className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),l.jsx("input",{...p("name",{required:"Name is required"}),type:"text",className:"input"}),y.name&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.name.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),l.jsx("input",{...p("email",{required:"Email is required",pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:"Invalid email address"}}),type:"email",className:"input"}),y.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),l.jsx("input",{...p("phone"),type:"tel",className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User Type"}),l.jsx("input",{value:mv(e==null?void 0:e.type),type:"text",className:"input bg-gray-50",disabled:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),l.jsx("textarea",{...p("address"),rows:3,className:"input"})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",className:"btn-primary",disabled:a,children:a?l.jsx(pr,{size:"sm"}):"Update Profile"})})]})]}),r==="password"&&l.jsxs("div",{className:"max-w-md",children:[l.jsxs("div",{className:"mb-6",children:[l.jsx(Ih,{className:"w-12 h-12 text-gray-400 mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Change Password"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Ensure your account is using a long, random password to stay secure."})]}),l.jsxs("form",{onSubmit:P(L),className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),l.jsx("input",{...w("current_password",{required:"Current password is required"}),type:"password",className:"input"}),E.current_password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:E.current_password.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),l.jsx("input",{...w("password",{required:"New password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),type:"password",className:"input"}),E.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:E.password.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),l.jsx("input",{...w("password_confirmation",{required:"Please confirm your new password",validate:ne=>ne===k||"Passwords do not match"}),type:"password",className:"input"}),E.password_confirmation&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:E.password_confirmation.message})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"submit",className:"btn-primary",disabled:a,children:a?l.jsx(pr,{size:"sm"}):"Update Password"})})]})]})]})]})]})};function wse(){return l.jsx(y8,{children:l.jsxs(cO,{children:[l.jsx(yn,{path:"/login",element:l.jsx(PD,{})}),l.jsx(yn,{path:"/register",element:l.jsx(CD,{})}),l.jsxs(yn,{path:"/",element:l.jsx(b8,{children:l.jsx(nD,{})}),children:[l.jsx(yn,{index:!0,element:l.jsx(Ym,{to:"/dashboard",replace:!0})}),l.jsx(yn,{path:"dashboard",element:l.jsx(DD,{})}),l.jsx(yn,{path:"products",element:l.jsx(YD,{})}),l.jsx(yn,{path:"categories",element:l.jsx(QD,{})}),l.jsx(yn,{path:"brands",element:l.jsx(tF,{})}),l.jsx(yn,{path:"suppliers",element:l.jsx(sF,{})}),l.jsx(yn,{path:"customers",element:l.jsx(fF,{})}),l.jsx(yn,{path:"staff",element:l.jsx(gF,{})}),l.jsx(yn,{path:"orders",element:l.jsx(gq,{})}),l.jsx(yn,{path:"imports",element:l.jsx(dq,{})}),l.jsx(yn,{path:"payments",element:l.jsx(bq,{})}),l.jsx(yn,{path:"reports",element:l.jsx(jq,{})}),l.jsx(yn,{path:"analytics",element:l.jsx(hse,{})}),l.jsx(yn,{path:"users",element:l.jsx(pse,{})}),l.jsx(yn,{path:"notifications",element:l.jsx(yse,{})}),l.jsx(yn,{path:"profile",element:l.jsx(bse,{})})]})]})})}class _se extends _a.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){this.setState({error:t,errorInfo:r}),console.error("Error caught by boundary:",t,r)}render(){return this.state.hasError?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:l.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Ah,{className:"w-8 h-8 text-red-600"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"An error occurred while loading the application. Please try refreshing the page."}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("button",{onClick:()=>window.location.reload(),className:"btn-primary w-full justify-center",children:[l.jsx(ca,{className:"w-4 h-4 mr-2"}),"Refresh Page"]}),l.jsx("button",{onClick:()=>this.setState({hasError:!1,error:null,errorInfo:null}),className:"btn-secondary w-full justify-center",children:"Try Again"})]}),!1]})}):this.props.children}}window.NativeImage=window.Image;lv.createRoot(document.getElementById("root")).render(l.jsx(_a.StrictMode,{children:l.jsx(_se,{children:l.jsxs(uO,{future:{v7_relativeSplatPath:!0},children:[l.jsx(wse,{}),l.jsx(TO,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})})}));export{tr as _};
